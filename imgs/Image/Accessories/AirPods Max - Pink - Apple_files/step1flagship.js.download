/*! 1.25.0 | BH: ff76adc38805ab024a74 | CH: 0eed8e2 */
/*! License information is available at licenses.txt */(()=>{var e,t,a,n,r={1825:(e,t,a)=>{var n={"./applecare-summary-multipart-slot/adapter":[112,2542],"./applecare-summary-singlepart-slot/adapter":[6087,5351],"./inline-accessory-slot-evolution/adapter":[9959,6924],"./inline-accessory-slot/adapter":[427,9733],"./inline-tile-evolution/adapter":[8118,3530],"./inline-tile-fullwidth/adapter":[5992,2531],"./inline-tile/adapter":[4906,6328],"./simple-accessory-tileview-slot/adapter":[5616,721]};function r(e){if(!a.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return a.e(t[1]).then((()=>a(r)))}r.keys=()=>Object.keys(n),r.id=1825,e.exports=r},1:(e,t,a)=>{var n={"./applecare-summary-multipart-slot/component":[7304,3746],"./applecare-summary-singlepart-slot/component":[4909,8139],"./inline-accessory-slot-evolution/component":[7069,8128],"./inline-accessory-slot/component":[3259,937],"./inline-tile-evolution/component":[3809,1486,6904,4342],"./inline-tile-fullwidth/component":[4918,1486,8378,7151],"./inline-tile/component":[7535,1486,4748,948],"./simple-accessory-tileview-slot/component":[5579,3757]};function r(e){if(!a.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return Promise.all(t.slice(1).map(a.e)).then((()=>a(r)))}r.keys=()=>Object.keys(n),r.id=1,e.exports=r},9907:(e,t,a)=>{"use strict";var n=a(1431),r=a(8690),s=a(7833),i=function(e,t){t=t||{},this._tabbables=null,this._excludeHidden=t.excludeHidden,this._firstTabbableElement=t.firstFocusElement,this._lastTabbableElement=null,this._relatedTarget=null,this.el=e,this._handleOnFocus=this._handleOnFocus.bind(this)},o=i.prototype;o.start=function(e){this.updateTabbables(),r(this.el,null,this._excludeHidden);let t=document.activeElement;this._firstTabbableElement?this.el.contains(document.activeElement)||e||(this._firstTabbableElement.focus(),t=this._firstTabbableElement):console.warn("this._firstTabbableElement is null, CircularTab needs at least one tabbable element."),this._relatedTarget=t,document.addEventListener("focus",this._handleOnFocus,!0)},o.stop=function(){s(this.el),document.removeEventListener("focus",this._handleOnFocus,!0)},o.updateTabbables=function(){this._tabbables=n.getTabbableElements(this.el,this._excludeHidden),this._firstTabbableElement=this._firstTabbableElement||this._tabbables[0],this._lastTabbableElement=this._tabbables[this._tabbables.length-1]},o._handleOnFocus=function(e){if(this.el.contains(e.target))this._relatedTarget=e.target;else{if(e.preventDefault(),this.updateTabbables(),this._relatedTarget===this._lastTabbableElement||null===this._relatedTarget)return this._firstTabbableElement.focus(),void(this._relatedTarget=this._firstTabbableElement);if(this._relatedTarget===this._firstTabbableElement&&this._lastTabbableElement)return this._lastTabbableElement.focus(),void(this._relatedTarget=this._lastTabbableElement)}},o.destroy=function(){this.stop(),this.el=null,this._tabbables=null,this._firstTabbableElement=null,this._lastTabbableElement=null,this._relatedTarget=null,this._handleOnFocus=null},e.exports=i},5607:e=>{"use strict";function t(){this._createElements(),this._bindEvents()}var a=t.prototype;a._bindEvents=function(){this._onResize=this._resize.bind(this)},a._createElements=function(){if("undefined"!=typeof document&&!this.span){this.span=document.createElement("span");var e=this.span.style;if(e.visibility="hidden",e.position="absolute",e.top="0",e.zIndex="-1",this.span.innerHTML="&nbsp;",!window.ResizeObserver){this.iframe=document.createElement("iframe");var t=this.iframe.style;t.position="absolute",t.top="0",t.left="0",t.width="100%",t.height="100%",this.span.appendChild(this.iframe)}document.body.appendChild(this.span)}},a.detect=function(e){this._createElements(),this.originalSize=e||17,this.currentSize=parseFloat(window.getComputedStyle(this.span)["font-size"]),this.currentSize>this.originalSize&&this._onResize(),this.isDetecting||(window.ResizeObserver?(this.resizeObserver=new ResizeObserver(this._onResize),this.resizeObserver.observe(this.span)):this.iframe.contentWindow.addEventListener("resize",this._onResize),this.isDetecting=!0)},a._resize=function(){this.currentSize=parseFloat(window.getComputedStyle(this.span)["font-size"]),this.originalSize<this.currentSize?document.documentElement.classList.add("text-zoom"):document.documentElement.classList.remove("text-zoom"),window.dispatchEvent(new Event("resize")),window.dispatchEvent(new CustomEvent("resize:text-zoom",{detail:this}))},a.getScale=function(){return this.currentSize/this.originalSize},a.remove=function(){this.isDetecting&&(this.resizeObserver&&this.resizeObserver.unobserve(this.span),this.iframe&&this.iframe.contentWindow.removeEventListener("resize",this._onResize),this.isDetecting=!1)},a.destroy=function(){this.remove(),this.span&&this.span.parentElement&&this.span.parentElement.removeChild(this.span),this.span=null,this.iframe=null,this.resizeObserver=null},e.exports=new t},1431:(e,t,a)=>{"use strict";var n=a(3775),r=function(){this.focusableSelectors=n.selectors},s=r.prototype;s.isFocusableElement=function(e,t,a){return!(t&&!this._isDisplayed(e))&&(n.nodeName[e.nodeName]?!e.disabled:!e.contentEditable||(a=a||parseFloat(e.getAttribute("tabindex")),!isNaN(a)))},s.isTabbableElement=function(e,t){if(t&&!this._isDisplayed(e))return!1;var a=e.getAttribute("tabindex");return a=parseFloat(a),isNaN(a)?this.isFocusableElement(e,t,a):a>=0},s._isDisplayed=function(e){var t=e.getBoundingClientRect();return(0!==t.top||0!==t.left||0!==t.width||0!==t.height)&&"hidden"!==window.getComputedStyle(e).visibility},s.getTabbableElements=function(e,t){for(var a=e.querySelectorAll(this.focusableSelectors),n=a.length,r=[],s=0;s<n;s++)this.isTabbableElement(a[s],t)&&r.push(a[s]);return r},s.getFocusableElements=function(e,t){for(var a=e.querySelectorAll(this.focusableSelectors),n=a.length,r=[],s=0;s<n;s++)this.isFocusableElement(a[s],t)&&r.push(a[s]);return r},e.exports=new r},1285:(e,t,a)=>{"use strict";var n=a(7690),r=a(1431),s="data-original-",i="tabindex",o=function(e,t){var a=e.getAttribute(s+t);a||(a=e.getAttribute(t)||"",e.setAttribute(s+t,a))};e.exports=function(e,t){if(r.isFocusableElement(e,t))o(e,i),e.setAttribute(i,"-1");else for(var a=r.getTabbableElements(e,t),s=a.length;s--;)o(a[s],i),a[s].setAttribute(i,"-1");o(e,n.HIDDEN),e.setAttribute(n.HIDDEN,"true")}},8690:(e,t,a)=>{"use strict";var n=a(1285);e.exports=function e(t,a,r){a=a||document.body;for(var s=t,i=t;s=s.previousElementSibling;)n(s,r);for(;i=i.nextElementSibling;)n(i,r);t.parentElement&&t.parentElement!==a&&e(t.parentElement,a,r)}},5640:e=>{"use strict";e.exports=function(e,t){let a;a=e instanceof NodeList?e:[].concat(e),t=Array.isArray(t)?t:[].concat(t),a.forEach((e=>{t.forEach((t=>{e.removeAttribute(t)}))}))}},4820:(e,t,a)=>{"use strict";var n=a(5640),r=a(7690),s="data-original-",i="tabindex",o=function(e,t){var a=e.getAttribute(s+t);null!==a&&(""===a?n(e,t):e.setAttribute(t,a),n(e,s+t))};e.exports=function(e){o(e,i),o(e,r.HIDDEN);for(var t=e.querySelectorAll(`[${s+i}]`),a=t.length;a--;)o(t[a],i)}},7833:(e,t,a)=>{"use strict";var n=a(4820);e.exports=function e(t,a){a=a||document.body;for(var r=t,s=t;r=r.previousElementSibling;)n(r);for(;s=s.nextElementSibling;)n(s);t.parentElement&&t.parentElement!==a&&e(t.parentElement,a)}},7690:e=>{"use strict";e.exports={AUTOCOMPLETE:"aria-autocomplete",CHECKED:"aria-checked",DISABLED:"aria-disabled",EXPANDED:"aria-expanded",HASPOPUP:"aria-haspopup",HIDDEN:"aria-hidden",INVALID:"aria-invalid",LABEL:"aria-label",LEVEL:"aria-level",MULTILINE:"aria-multiline",MULTISELECTABLE:"aria-multiselectable",ORIENTATION:"aria-orientation",PRESSED:"aria-pressed",READONLY:"aria-readonly",REQUIRED:"aria-required",SELECTED:"aria-selected",SORT:"aria-sort",VALUEMAX:"aria-valuemax",VALUEMIN:"aria-valuemin",VALUENOW:"aria-valuenow",VALUETEXT:"aria-valuetext",ATOMIC:"aria-atomic",BUSY:"aria-busy",LIVE:"aria-live",RELEVANT:"aria-relevant",DROPEFFECT:"aria-dropeffect",GRABBED:"aria-grabbed",ACTIVEDESCENDANT:"aria-activedescendant",CONTROLS:"aria-controls",DESCRIBEDBY:"aria-describedby",FLOWTO:"aria-flowto",LABELLEDBY:"aria-labelledby",OWNS:"aria-owns",POSINSET:"aria-posinset",SETSIZE:"aria-setsize"}},3775:e=>{"use strict";e.exports={selectors:["input","select","textarea","button","optgroup","option","menuitem","fieldset","object","a[href]","[tabindex]","[contenteditable]"].join(","),nodeName:{INPUT:"input",SELECT:"select",TEXTAREA:"textarea",BUTTON:"button",OPTGROUP:"optgroup",OPTION:"option",MENUITEM:"menuitem",FIELDSET:"fieldset",OBJECT:"object",A:"a"}}},9565:e=>{"use strict";e.exports=Object.freeze({ELEMENT:1,TEXT:3,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11})},949:(e,t,a)=>{"use strict";var n=a(2375);e.exports=function(e,t){return n.insertNode(e,"insertBefore"),n.childNode(t,"insertBefore"),n.hasParentNode(t,"insertBefore"),t.parentNode.insertBefore(e,t)}},2375:(e,t,a)=>{"use strict";var n=a(1407),r=a(9565),s=r.COMMENT,i=r.DOCUMENT_FRAGMENT,o=r.ELEMENT,l=r.TEXT,c=[o,l,s,i],d=[o,l,s],u=[o,i];e.exports={parentNode:function(e,t,a){if(a=a||"target",e&&!n(e,u))throw new TypeError(t+": "+a+" must be an Element, or Document Fragment")},childNode:function(e,t,a){if(a=a||"target",e&&!n(e,d))throw new TypeError(t+": "+a+" must be an Element, TextNode, or Comment")},insertNode:function(e,t,a){if(a=a||"node",e&&!n(e,c))throw new TypeError(t+": "+a+" must be an Element, TextNode, Comment, or Document Fragment")},hasParentNode:function(e,t,a){if(a=a||"target",!e.parentNode)throw new TypeError(t+": "+a+" must have a parentNode")}}},2359:e=>{"use strict";e.exports=function(e){return!(!e||!e.nodeType)}},1407:(e,t,a)=>{"use strict";var n=a(2359);e.exports=function(e,t){return!!n(e)&&("number"==typeof t?e.nodeType===t:!!Array.isArray(t)&&-1!==t.indexOf(e.nodeType))}},8330:(e,t,a)=>{"use strict";e.exports={EventEmitterMicro:a(8079)}},8079:e=>{"use strict";function t(){this._events={}}let a=t.prototype;a.on=function(e,t){return this._events[e]=this._events[e]||[],this._events[e].unshift(t),t},a.once=function(e,t){let a=this;return this.on(e,(function n(r){a.off(e,n),void 0!==r?t(r):t()}))},a.off=function(e,t){if(!this.has(e))return;if(1===arguments.length)return this._events[e]=null,void delete this._events[e];let a=this._events[e].indexOf(t);-1!==a&&this._events[e].splice(a,1)},a.trigger=function(e,t){if(this.has(e))for(let a=this._events[e].length-1;a>=0;a--)void 0!==t?this._events[e][a](t):this._events[e][a]()},a.has=function(e){return e in this._events!=!1&&0!==this._events[e].length},a.destroy=function(){for(let e in this._events)this._events[e]=null;this._events=null},e.exports=t},8935:(e,t,a)=>{"use strict";var n=a(1407),r=a(1842),s=a(8499),i=a(4739),o=a(9907),l=a(915),c=a(4596),d=a(8091),u=a(9565).ELEMENT,m={className:"localnav"},p=function(e,t){var a;t=Object.assign({},m,t),this.el=e,a=t.selector||"."+t.className,this._selectors={localNavClassname:t.className,traySelector:t.traySelector||"."+t.className+"-menu-tray",viewportEmitterID:t.viewportEmitterID||t.className+"-viewport-emitter",curtainID:t.curtainID||t.className+"-curtain",menuStateID:t.menuStateID||t.className+"-menustate",menuOpeningClassName:t.menuOpeningClassName||t.className+"-opening",menuOpenClassName:t.menuOpenClassName||t.className+"-open",chevronClassname:t.chevronClassName||t.className+"-menucta-chevron",curtainOpeningClassName:t.className+"-curtain-opening",menuCtaClickClassName:t.className+"-menucta-click"},this._selectors.clickAwaySelector=a+", #"+this._selectors.curtainID+", #"+this._selectors.menuStateID,this.tray=this.el.querySelector(this._selectors.traySelector),this.tray&&!this.tray.id&&this.tray.setAttribute("id",this._selectors.menuStateID+"-tray"),this.curtain=document.getElementById(this._selectors.curtainID),this.stickyEnabled=this._getStickyEnabled(),this._transitionsAvailable=s("transition"),this._viewports=new i(this._selectors.viewportEmitterID),this.stickyEnabled&&(this._sticky=new c(this.el,t)),this.circTab=new o(this.el),this._initializeMenu(),this._setCssVars()};p.create=function(e,t){return new p(e,t)};var g=p.prototype;g._getStickyEnabled=function(){return this.el.hasAttribute("data-sticky")},g._initializeMenu=function(){var e=document.getElementById(this._selectors.menuStateID),t=document.getElementById(this._selectors.menuStateID+"-open"),a=document.getElementById(this._selectors.menuStateID+"-close"),n=this.el.querySelector(`label[for="${this._selectors.menuStateID}"] .${this._selectors.chevronClassname}`),r="onpopstate"in window?"popstate":"beforeunload";this._debounce=(e,t=100)=>{var a;return()=>(clearTimeout(a),a=setTimeout(e,t))},e&&t&&a&&(this.menu=new l(e,t,a,this.tray,n,this._selectors.menuCtaClickClassName),this._onMenuOpen=this._onMenuOpen.bind(this),this._onMenuClose=this._onMenuClose.bind(this),this.menu.on("open",this._onMenuOpen),this.menu.on("close",this._onMenuClose),this._onViewportChange=this._onViewportChange.bind(this),this._viewports.on("change:viewport",this._onViewportChange),this._onScroll=this._onScroll.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onTrayClick=this._onTrayClick.bind(this),window.addEventListener("scroll",this._onScroll),window.addEventListener("touchmove",this._onScroll),window.addEventListener("keydown",this._onKeyDown),this.tray?.addEventListener("click",this._onTrayClick),this._closeMenu=this._closeMenu.bind(this),window.addEventListener(r,this._closeMenu),window.addEventListener("orientationchange",this._closeMenu),this.clickAway=new d(this._selectors.clickAwaySelector),this.clickAway.on("click",this._closeMenu),this._transitionsAvailable&&(this._numAnimatingMenuElements=0,this._onTrayTransitionStart=this._onTrayTransitionStart.bind(this),this._onTrayTransitionCancel=this._onTrayTransitionCancel.bind(this),this._onTrayTransitionEnd=this._onTrayTransitionEnd.bind(this),this._onCurtainTransitionStart=this._onCurtainTransitionStart.bind(this),this._onCurtainTransitionEnd=this._onCurtainTransitionEnd.bind(this),this.tray?.addEventListener("transitionstart",this._onTrayTransitionStart),this.tray?.addEventListener("transitioncancel",this._onTrayTransitionCancel),this.tray?.addEventListener("transitionend",this._onTrayTransitionEnd),this.curtain.addEventListener("transitionstart",this._onCurtainTransitionStart),this.curtain.addEventListener("transitionend",this._onCurtainTransitionEnd))),this._updateTrayHidden(),this._setCssVars=this._setCssVars.bind(this),this._setCssVarsDebounced=this._debounce(this._setCssVars),window.addEventListener("resize",this._setCssVarsDebounced)},g._onMenuOpen=function(){this._menuCollapseOnScroll=null,this.circTab.start(),this.el.classList.add(this._selectors.menuOpenClassName),this._transitionsAvailable?this._disableMenuScrollbar():this._updateTrayHidden()},g._onMenuClose=function(){this.el.classList.remove(this._selectors.menuOpenClassName),this._transitionsAvailable?(this._disableMenuScrollbar(),this._updateTrayHidden(!0)):this._updateTrayHidden(),this.circTab.stop()},g._onScroll=function(e){var t;this.tray&&(this.menu.isOpen()&&(null===this._menuCollapseOnScroll&&(this._menuCollapseOnScroll=this.tray.offsetHeight>=this.tray.scrollHeight),this._menuCollapseOnScroll?this._closeMenu():(t=e.target,n(t,u)&&r(t,this._selectors.traySelector,!0)||(e.preventDefault(),this._menuCollapseOnScroll=!0))))},g._onCurtainTransitionStart=function(){this.curtain.classList.add(this._selectors.curtainOpeningClassName)},g._onCurtainTransitionEnd=function(){this.curtain.classList.remove(this._selectors.curtainOpeningClassName)},g._onTrayClick=function(e){"href"in e.target&&this._closeMenu()},g._onKeyDown=function(e){!this.menu.isOpen()||"Escape"!==e.code&&27!==e.keyCode||(this._closeMenu(),this.menu.anchorOpen.focus())},g._onViewportChange=function(e){"medium"!==e.to&&"large"!==e.to||this._closeMenu(),this._updateTrayHidden()},g._disableMenuScrollbar=function(){this.el.classList.add(this._selectors.menuOpeningClassName),this._updateTrayHidden()},g._enableMenuScroll=function(e){this._numAnimatingMenuElements||(this.el.classList.remove(this._selectors.menuOpeningClassName),e.currentTarget===e.target&&"visibility"===e.propertyName&&this._updateTrayHidden())},g._onTrayTransitionStart=function(){++this._numAnimatingMenuElements},g._onTrayTransitionCancel=function(){this._numAnimatingMenuElements=0},g._onTrayTransitionEnd=function(e){--this._numAnimatingMenuElements,this._enableMenuScroll(e)},g._closeMenu=function(){this.menu.close()},g._setCssVars=function(){this.tray&&this.tray.scrollHeight&&this.tray.style.setProperty("--r-localnav-menu-tray-natural-height",`${this.tray.scrollHeight}px`),setTimeout((()=>{this.el.classList.add(`${this._selectors.localNavClassname}-allow-transitions`)}),100)},g._updateTrayHidden=function(e){if(!this.tray)return;let t=e;"boolean"!=typeof e&&(t="hidden"===window.getComputedStyle(this.tray).visibility);const a=t?"setAttribute":"removeAttribute";this.tray[a]("aria-hidden","true"),this.tray[a]("inert","true")},g.destroy=function(){let e="onpopstate"in window?"popstate":"beforeunload";window.removeEventListener("scroll",this._onScroll),window.removeEventListener("touchmove",this._onScroll),window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener(e,this._closeMenu),window.removeEventListener("orientationchange",this._closeMenu),window.removeEventListener("resize",this._setCssVarsDebounced),this.tray?.removeEventListener("click",this._onTrayClick),this.tray?.removeEventListener("transitionstart",this._onTrayTransitionStart),this.tray?.removeEventListener("transitioncancel",this._onTrayTransitionCancel),this.tray?.removeEventListener("transitionend",this._onTrayTransitionEnd),this.curtain.removeEventListener("transitionstart",this._onCurtainTransitionStart),this.curtain.removeEventListener("transitionend",this._onCurtainTransitionEnd),this.menu?.destroy(),this.circTab.destroy(),this.clickAway?.destroy(),this._viewports.destroy(),TextZoom?.remove();for(let e in this)Object.prototype.hasOwnProperty.call(this,e)&&(this[e]=null)},e.exports=p},915:(e,t,a)=>{"use strict";var n=a(8079);const r=a(4898);function s(e,t,a,s,i,o){n.call(this),this.el=e,this.anchorOpen=t,this.anchorClose=a,this.controlled=s,this.chevronEl=i,this.clickClass=o,this._lastOpen=this.el.checked,this.el.setAttribute("aria-controls",this.controlled.id),this.el.setAttribute("aria-expanded",this.el.checked),this.anchorOpen.setAttribute("aria-controls",this.controlled.id),this.anchorOpen.setAttribute("aria-expanded","false"),this.anchorClose.setAttribute("aria-controls",this.controlled.id),this.anchorClose.setAttribute("aria-expanded","true"),this.el.addEventListener("change",this.update.bind(this)),this._anchorOpenClick=this._anchorOpenClick.bind(this),this._anchorCloseClick=this._anchorCloseClick.bind(this),this._anchorOpenKeyDown=this._anchorOpenKeyDown.bind(this),this._anchorCloseKeyDown=this._anchorCloseKeyDown.bind(this),this.anchorOpen.addEventListener("click",this._anchorOpenClick),this.anchorClose.addEventListener("click",this._anchorCloseClick),this.anchorOpen.addEventListener("keydown",this._anchorOpenKeyDown),this.anchorClose.addEventListener("keydown",this._anchorCloseKeyDown),this._removeClickClass=this._removeClickClass.bind(this),this.chevron=new r(this.chevronEl),window.location.hash==="#"+e.id&&(window.location.hash="")}s.create=function(e,t,a,n){return new s(e,t,a,n)};var i=n.prototype,o=s.prototype=Object.create(i);s.prototype.constructor=s,o.update=function(e){const t=this.isOpen(),a=e&&e instanceof KeyboardEvent,n=e&&e instanceof MouseEvent,r=e&&!a&&!n;let s;t!==this._lastOpen&&(this.trigger(t?"open":"close"),this.el.setAttribute("aria-expanded",t?"true":"false"),t?(this.chevron.expand(),s=this.anchorClose):(this.chevron.collapse(),s=this.anchorOpen),e&&(s.focus(),r&&(s.classList.add(this.clickClass),document.body.removeEventListener("keydown",this._removeClickClass),document.body.addEventListener("keydown",this._removeClickClass,{once:!0}))),this._lastOpen=t)},o.isOpen=function(){return this.el.checked},o.toggle=function(){this.isOpen()?this.close():this.open()},o.open=function(e){this.el.checked||(this.el.checked=!0,this.update(e))},o.close=function(e){this.el.checked&&(this.el.checked=!1,this.update(e))},o._anchorOpenClick=function(e){e.preventDefault(),this.open(e)},o._anchorCloseClick=function(e){e.preventDefault(),this.close(e)},o._anchorOpenKeyDown=function(e){"Space"!==e.code&&"Enter"!==e.code||this._anchorOpenClick(e)},o._anchorCloseKeyDown=function(e){"Space"!==e.code&&"Enter"!==e.code||this._anchorCloseClick(e)},o._removeClickClass=function(){this.anchorClose.classList.remove(this.clickClass),this.anchorOpen.classList.remove(this.clickClass)},o.destroy=function(){this.el.removeAttribute("aria-controls"),this.el.removeAttribute("aria-expanded"),this.anchorOpen.removeAttribute("aria-controls"),this.anchorOpen.removeAttribute("aria-expanded"),this.anchorClose.removeAttribute("aria-controls"),this.anchorClose.removeAttribute("aria-expanded"),this.anchorOpen.removeEventListener("click",this._anchorOpenClick),this.anchorClose.removeEventListener("click",this._anchorCloseClick),this.anchorOpen.removeEventListener("keydown",this._anchorOpenKeyDown),this.anchorClose.removeEventListener("keydown",this._anchorCloseKeyDown),document.body.removeEventListener("keydown",this._removeClickClass),this.chevron.destroy()},e.exports=s},4898:e=>{"use strict";const t="15.265 .835 8 8.167 .735 .835",a="15.25 4.5 8 4.5 .75 4.5",n="15.265 8.165 8 .835 .735 8.165",r=`\n<svg viewBox="0 0 16 9" data-chevron-icon xmlns="http://www.w3.org/2000/svg" >\n\t<polyline shape-rendering="geometricPrecision" data-chevron-icon-shape stroke="currentColor" stroke-linecap="round" vector-effect="non-scaling-stroke" stroke-linejoin="round" fill="none" fill-rule="evenodd" points="${t}">\n\t\t<animate\n\t\t\tdata-chevron-animate="expand"\n\t\t\tattributeName="points"\n\t\t\tvalues="${t};\n\t\t\t\t\t${a};\n\t\t\t\t\t${n}"\n\t\t\tdur="320ms"\n\t\t\tbegin="indefinite"\n\t\t\tfill="freeze"\n\t\t\tkeyTimes="0;\n\t\t\t\t\t0.5;\n\t\t\t\t\t1"\n\t\t\tcalcMode="spline"\n\t\t\tkeySplines="0.12, 0, 0.38, 0;\n\t\t\t\t\t\t0.2, 1, 0.68, 1"\n\t\t/>\n\t\t<animate\n\t\t\tdata-chevron-animate="collapse"\n\t\t\tattributeName="points"\n\t\t\tvalues="${n};\n\t\t\t\t\t${a};\n\t\t\t\t\t${t}"\n\t\t\tdur="320ms"\n\t\t\tbegin="indefinite"\n\t\t\tfill="freeze"\n\t\t\tkeyTimes="0;\n\t\t\t\t\t0.5;\n\t\t\t\t\t1"\n\t\t\tcalcMode="spline"\n\t\t\tkeySplines="0.2, 0, 0.68, 0;\n\t\t\t\t\t\t0.2, 1, 0.68, 1"\n\t\t/>\n\t</polyline>\n</svg>`;function s(e){this._originialContents=e.innerHTML,e.innerHTML=s.TEMPLATE,this.el=e,this._shape=e.querySelector(s.SELECTORS.shape),this._expandAnimation=e.querySelector(s.SELECTORS.expandAnimation),this._collapseAnimation=e.querySelector(s.SELECTORS.collapseAnimation)}s.create=function(e){return new s(e)};var i=s.prototype;s.prototype.constructor=s,s.TEMPLATE=r,s.SELECTORS={selector:"[data-chevron-icon]",shape:"[data-chevron-icon-shape]",expandAnimation:'[data-chevron-animate="expand"]',collapseAnimation:'[data-chevron-animate="collapse"]'},i.destroy=function(){this.el.innerHTML=this._originialContents,this._shape=null,this._expandAnimation=null,this._collapseAnimation=null,this.el=null},i.expand=function(){this._expandAnimation.beginElement()},i.collapse=function(){this._collapseAnimation.beginElement()},e.exports=s},8091:(e,t,a)=>{"use strict";var n=a(8079),r=a(5089);function s(e){n.call(this),this._selector=e,this._touching=!1,this._onClick=this._onClick.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),document.addEventListener("click",this._onClick),document.addEventListener("touchstart",this._onTouchStart),document.addEventListener("touchend",this._onTouchEnd)}var i=n.prototype,o=s.prototype=Object.create(i);s.prototype.constructor=s,o._checkTarget=function(e){var t=e.target;r(t,this._selector,!0).length||this.trigger("click",e)},o._onClick=function(e){this._touching||this._checkTarget(e)},o._onTouchStart=function(e){this._touching=!0,this._checkTarget(e)},o._onTouchEnd=function(){this._touching=!1},o.destroy=function(){document.removeEventListener("click",this._onClick),document.removeEventListener("touchstart",this._onTouchStart),document.removeEventListener("touchend",this._onTouchEnd)},e.exports=s},4596:(e,t,a)=>{"use strict";var n=a(8330).EventEmitterMicro,r=a(8499),s=a(949),i=(a(2312),a(2822));const o=a(5607);var l=i.browser.edge,c=function(e,t){const a=parseInt(getComputedStyle(document.body).fontSize);n.call(this),this.el=e,this.stuck=!1,this._selectors={placeholderID:t.placeholderID||t.className+"-sticky-placeholder",stuckClassName:t.stuckClassName||t.className+"-sticking",textZoomedClassName:t.textZoomedClassName||t.className+"-text-zoomed"},this._initIO=this._initIO.bind(this),this._onTextZoom=this._onTextZoom.bind(this),window.addEventListener("resize",((e,t=250)=>{var a;return(...n)=>{clearTimeout(a),a=setTimeout(e,t,...n)}})(this._initIO)),window.addEventListener("resize:text-zoom",this._onTextZoom),this._createPlaceholder(),this._featureDetection(),this._initIO(),o.detect(a)};c.create=function(e,t){return new c(e,t)};var d=n.prototype,u=c.prototype=Object.create(d);c.prototype.constructor=c,u._featureDetection=function(){var e="css-sticky";r("position","sticky")&&!l||(e="no-"+e),this.el.classList.add(e),this.placeholder.classList.add(e)},u._createPlaceholder=function(){this.placeholder=document.createElement("div"),this.placeholder.id=this._selectors.placeholderID,s(this.placeholder,this.el)},u._initIO=function(){const{height:e}=this.el.getBoundingClientRect(),t=-1*e-1+"px 0px 0px 0px";this.io&&this.io.disconnect(),this.io=new IntersectionObserver((e=>{e.forEach((e=>{const{boundingClientRect:{top:t},isIntersecting:a}=e;this._updatePosition(!(t>0&&a))}))}),{rootMargin:t}),this.io.observe(this.el)},u._onTextZoom=function(e){const{currentSize:t,originalSize:a}=e.detail,n=t/a;this.el.classList[1===n?"remove":"add"](this._selectors.textZoomedClassName),this._initIO()},u._updatePosition=function(e){e?this.stuck||(this.el.classList.add(this._selectors.stuckClassName),this.placeholder.classList.add(this._selectors.stuckClassName),this.stuck=!0,this.trigger("stuck")):this.stuck&&(this.el.classList.remove(this._selectors.stuckClassName),this.placeholder.classList.remove(this._selectors.stuckClassName),this.stuck=!1,this.trigger("unstuck"))},e.exports=c},8638:(e,t,a)=>{"use strict";var n=a(6836),r=a(3739),s=a(3506),i=a(721),o=a(9314),l=function(e,t){var a=s(e),r=!1!==t&&s(t);return n[e]=n[t]=n[a]=n[r]={dom:t,css:r},t};e.exports=function(e){var t,a,s,c;if((e+="")in n)return n[e].dom;for(s=r(),a=(e=i(e)).charAt(0).toUpperCase()+e.substring(1),t="filter"===e?["WebkitFilter","filter"]:(e+" "+o.dom.join(a+" ")+a).split(" "),c=0;c<t.length;c++)if(void 0!==s.style[t[c]])return 0!==c&&o.reduce(c-1),l(e,t[c]);return l(e,!1)}},6982:(e,t,a)=>{"use strict";var n=a(8638),r=a(4633),s=a(9314),i=a(6836),o={},l=/(\([^\)]+\))/gi,c=/([^ ,;\(]+(\([^\)]+\))?)/gi;e.exports=function(e,t){var a;return t+="",!!(e=n(e))&&(r(e,t)?t:(a=i[e].css,""!==(t=(t=t.replace(c,(function(t){var n,i,c,d;if("#"===t[0]||!isNaN(t[0]))return t;if(i=t.replace(l,""),(c=a+":"+i)in o)return!1===o[c]?"":t.replace(i,o[c]);for(n=s.css.map((function(e){return e+t})),n=[t].concat(n),d=0;d<n.length;d++)if(r(e,n[d]))return 0!==d&&s.reduce(d-1),o[c]=n[d].replace(l,""),n[d];return o[c]=!1,""}))).trim())&&t))}},3739:e=>{"use strict";var t;e.exports=function(){return t?(t.style.cssText="",t.removeAttribute("style")):t=document.createElement("_"),t},e.exports.resetElement=function(){t=null}},9314:e=>{"use strict";var t=["-webkit-","-moz-","-ms-"],a=["Webkit","Moz","ms"],n=["webkit","moz","ms"],r=function(){this.initialize()},s=r.prototype;s.initialize=function(){this.reduced=!1,this.css=t,this.dom=a,this.evt=n},s.reduce=function(e){this.reduced||(this.reduced=!0,this.css=[this.css[e]],this.dom=[this.dom[e]],this.evt=[this.evt[e]])},e.exports=new r},6836:e=>{"use strict";e.exports={}},4633:(e,t,a)=>{"use strict";var n,r,s=a(6836),i=a(3739),o=!1;e.exports=function(e,t){var a,l;if(function(){var e;if(!o){o=!0,n="CSS"in window&&"supports"in window.CSS,r=!1,e=i();try{e.style.width="invalid"}catch(e){r=!0}}}(),n)return e=s[e].css,CSS.supports(e,t);if(a=(l=i()).style[e],r)try{l.style[e]=t}catch(e){return!1}else l.style[e]=t;return l.style[e]&&l.style[e]!==a},e.exports.resetFlags=function(){o=!1}},3506:e=>{"use strict";var t=/^(webkit|moz|ms)/gi;e.exports=function(e){return"cssfloat"===e.toLowerCase()?"float":(t.test(e)&&(e="-"+e),e.replace(/([A-Z]+)([A-Z][a-z])/g,"$1-$2").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase())}},721:e=>{"use strict";var t=/-([a-z])/g;e.exports=function(e){return"float"===e.toLowerCase()?"cssFloat":("Ms"===(e=e.replace(t,(function(e,t){return t.toUpperCase()}))).substr(0,2)&&(e="ms"+e.substring(2)),e)}},8783:e=>{e.exports={majorVersionNumber:"3.x"}},9200:(e,t,a)=>{"use strict";var n,r=a(8330).EventEmitterMicro,s=a(7621),i=a(1448);function o(e){e=e||{},r.call(this),this.id=i.getNewID(),this.executor=e.executor||s,this._reset(),this._willRun=!1,this._didDestroy=!1}(n=o.prototype=Object.create(r.prototype)).run=function(){return this._willRun||(this._willRun=!0),this._subscribe()},n.cancel=function(){this._unsubscribe(),this._willRun&&(this._willRun=!1),this._reset()},n.destroy=function(){var e=this.willRun();return this.cancel(),this.executor=null,r.prototype.destroy.call(this),this._didDestroy=!0,e},n.willRun=function(){return this._willRun},n.isRunning=function(){return this._isRunning},n._subscribe=function(){return this.executor.subscribe(this)},n._unsubscribe=function(){return this.executor.unsubscribe(this)},n._onAnimationFrameStart=function(e){this._isRunning=!0,this._willRun=!1,this._didEmitFrameData||(this._didEmitFrameData=!0,this.trigger("start",e))},n._onAnimationFrameEnd=function(e){this._willRun||(this.trigger("stop",e),this._reset())},n._reset=function(){this._didEmitFrameData=!1,this._isRunning=!1},e.exports=o},4553:(e,t,a)=>{"use strict";var n,r=a(8079);function s(e){e=e||{},this._reset(),this.updatePhases(),this.eventEmitter=new r,this._willRun=!1,this._totalSubscribeCount=-1;var t=null,a=null;"undefined"!=typeof window?(t=window.requestAnimationFrame,a=window.cancelAnimationFrame):t=a=function(){},this._requestAnimationFrame=t,this._cancelAnimationFrame=a,this._boundOnAnimationFrame=this._onAnimationFrame.bind(this),this._boundOnExternalAnimationFrame=this._onExternalAnimationFrame.bind(this)}(n=s.prototype).frameRequestedPhase="requested",n.startPhase="start",n.runPhases=["update","external","draw"],n.endPhase="end",n.disabledPhase="disabled",n.beforePhaseEventPrefix="before:",n.afterPhaseEventPrefix="after:",n.subscribe=function(e,t){return this._totalSubscribeCount++,this._nextFrameSubscribers[e.id]||(t?this._nextFrameSubscribersOrder.unshift(e.id):this._nextFrameSubscribersOrder.push(e.id),this._nextFrameSubscribers[e.id]=e,this._nextFrameSubscriberArrayLength++,this._nextFrameSubscriberCount++,this._run()),this._totalSubscribeCount},n.subscribeImmediate=function(e,t){return this._totalSubscribeCount++,this._subscribers[e.id]||(t?this._subscribersOrder.splice(this._currentSubscriberIndex+1,0,e.id):this._subscribersOrder.unshift(e.id),this._subscribers[e.id]=e,this._subscriberArrayLength++,this._subscriberCount++),this._totalSubscribeCount},n.unsubscribe=function(e){return!!this._nextFrameSubscribers[e.id]&&(this._nextFrameSubscribers[e.id]=null,this._nextFrameSubscriberCount--,0===this._nextFrameSubscriberCount&&this._cancel(),!0)},n.getSubscribeID=function(){return this._totalSubscribeCount+=1},n.destroy=function(){var e=this._cancel();return this.eventEmitter.destroy(),this.eventEmitter=null,this.phases=null,this._subscribers=null,this._subscribersOrder=null,this._nextFrameSubscribers=null,this._nextFrameSubscribersOrder=null,this._rafData=null,this._boundOnAnimationFrame=null,this._onExternalAnimationFrame=null,e},n.useExternalAnimationFrame=function(e){if("boolean"==typeof e){var t=this._isUsingExternalAnimationFrame;return e&&this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),!this._willRun||e||this._animationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this._isUsingExternalAnimationFrame=e,e?this._boundOnExternalAnimationFrame:t||!1}},n.updatePhases=function(){this.phases||(this.phases=[]),this.phases.length=0,this.phases.push(this.frameRequestedPhase),this.phases.push(this.startPhase),Array.prototype.push.apply(this.phases,this.runPhases),this.phases.push(this.endPhase),this._runPhasesLength=this.runPhases.length,this._phasesLength=this.phases.length},n._run=function(){if(!this._willRun)return this._willRun=!0,0===this.lastFrameTime&&(this.lastFrameTime=performance.now()),this._animationFrameActive=!0,this._isUsingExternalAnimationFrame||(this._animationFrame=this._requestAnimationFrame.call(window,this._boundOnAnimationFrame)),this.phase===this.disabledPhase&&(this.phaseIndex=0,this.phase=this.phases[this.phaseIndex]),!0},n._cancel=function(){var e=!1;return this._animationFrameActive&&(this._animationFrame&&(this._cancelAnimationFrame.call(window,this._animationFrame),this._animationFrame=null),this._animationFrameActive=!1,this._willRun=!1,e=!0),this._isRunning||this._reset(),e},n._onAnimationFrame=function(e){for(this._subscribers=this._nextFrameSubscribers,this._subscribersOrder=this._nextFrameSubscribersOrder,this._subscriberArrayLength=this._nextFrameSubscriberArrayLength,this._subscriberCount=this._nextFrameSubscriberCount,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this.phaseIndex=0,this.phase=this.phases[this.phaseIndex],this._isRunning=!0,this._willRun=!1,this._didRequestNextRAF=!1,this._rafData.delta=e-this.lastFrameTime,this.lastFrameTime=e,this._rafData.fps=0,this._rafData.delta>=1e3&&(this._rafData.delta=0),0!==this._rafData.delta&&(this._rafData.fps=1e3/this._rafData.delta),this._rafData.time=e,this._rafData.naturalFps=this._rafData.fps,this._rafData.timeNow=Date.now(),this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameStart(this._rafData);for(this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._runPhaseIndex=0;this._runPhaseIndex<this._runPhasesLength;this._runPhaseIndex++){for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]].trigger(this.phase,this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase)}for(this.phaseIndex++,this.phase=this.phases[this.phaseIndex],this.eventEmitter.trigger(this.beforePhaseEventPrefix+this.phase),this._currentSubscriberIndex=0;this._currentSubscriberIndex<this._subscriberArrayLength;this._currentSubscriberIndex++)null!==this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]&&!1===this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._didDestroy&&this._subscribers[this._subscribersOrder[this._currentSubscriberIndex]]._onAnimationFrameEnd(this._rafData);this.eventEmitter.trigger(this.afterPhaseEventPrefix+this.phase),this._willRun?(this.phaseIndex=0,this.phaseIndex=this.phases[this.phaseIndex]):this._reset()},n._onExternalAnimationFrame=function(e){this._isUsingExternalAnimationFrame&&this._onAnimationFrame(e)},n._reset=function(){this._rafData||(this._rafData={}),this._rafData.time=0,this._rafData.delta=0,this._rafData.fps=0,this._rafData.naturalFps=0,this._rafData.timeNow=0,this._subscribers={},this._subscribersOrder=[],this._currentSubscriberIndex=-1,this._subscriberArrayLength=0,this._subscriberCount=0,this._nextFrameSubscribers={},this._nextFrameSubscribersOrder=[],this._nextFrameSubscriberArrayLength=0,this._nextFrameSubscriberCount=0,this._didEmitFrameData=!1,this._animationFrame=null,this._animationFrameActive=!1,this._isRunning=!1,this._shouldReset=!1,this.lastFrameTime=0,this._runPhaseIndex=-1,this.phaseIndex=-1,this.phase=this.disabledPhase},e.exports=s},5309:(e,t,a)=>{"use strict";var n=a(4420),r=function(e){this.phase=e,this.rafEmitter=new n,this._cachePhaseIndex(),this.requestAnimationFrame=this.requestAnimationFrame.bind(this),this.cancelAnimationFrame=this.cancelAnimationFrame.bind(this),this._onBeforeRAFExecutorStart=this._onBeforeRAFExecutorStart.bind(this),this._onBeforeRAFExecutorPhase=this._onBeforeRAFExecutorPhase.bind(this),this._onAfterRAFExecutorPhase=this._onAfterRAFExecutorPhase.bind(this),this.rafEmitter.on(this.phase,this._onRAFExecuted.bind(this)),this.rafEmitter.executor.eventEmitter.on("before:start",this._onBeforeRAFExecutorStart),this.rafEmitter.executor.eventEmitter.on("before:"+this.phase,this._onBeforeRAFExecutorPhase),this.rafEmitter.executor.eventEmitter.on("after:"+this.phase,this._onAfterRAFExecutorPhase),this._frameCallbacks=[],this._currentFrameCallbacks=[],this._nextFrameCallbacks=[],this._phaseActive=!1,this._currentFrameID=-1,this._cancelFrameIdx=-1,this._frameCallbackLength=0,this._currentFrameCallbacksLength=0,this._nextFrameCallbacksLength=0,this._frameCallbackIteration=0},s=r.prototype;s.requestAnimationFrame=function(e,t){return!0===t&&this.rafEmitter.executor.phaseIndex>0&&this.rafEmitter.executor.phaseIndex<=this.phaseIndex?this._phaseActive?(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!0),this._frameCallbacks.push(this._currentFrameID,e),this._frameCallbackLength+=2):(this._currentFrameID=this.rafEmitter.executor.subscribeImmediate(this.rafEmitter,!1),this._currentFrameCallbacks.push(this._currentFrameID,e),this._currentFrameCallbacksLength+=2):(this._currentFrameID=this.rafEmitter.run(),this._nextFrameCallbacks.push(this._currentFrameID,e),this._nextFrameCallbacksLength+=2),this._currentFrameID},s.cancelAnimationFrame=function(e){this._cancelFrameIdx=this._nextFrameCallbacks.indexOf(e),this._cancelFrameIdx>-1?this._cancelNextAnimationFrame():(this._cancelFrameIdx=this._currentFrameCallbacks.indexOf(e),this._cancelFrameIdx>-1?this._cancelCurrentAnimationFrame():(this._cancelFrameIdx=this._frameCallbacks.indexOf(e),this._cancelFrameIdx>-1&&this._cancelRunningAnimationFrame()))},s._onRAFExecuted=function(e){for(this._frameCallbackIteration=0;this._frameCallbackIteration<this._frameCallbackLength;this._frameCallbackIteration+=2)this._frameCallbacks[this._frameCallbackIteration+1](e.time,e);this._frameCallbacks.length=0,this._frameCallbackLength=0},s._onBeforeRAFExecutorStart=function(){Array.prototype.push.apply(this._currentFrameCallbacks,this._nextFrameCallbacks.splice(0,this._nextFrameCallbacksLength)),this._currentFrameCallbacksLength=this._nextFrameCallbacksLength,this._nextFrameCallbacks.length=0,this._nextFrameCallbacksLength=0},s._onBeforeRAFExecutorPhase=function(){this._phaseActive=!0,Array.prototype.push.apply(this._frameCallbacks,this._currentFrameCallbacks.splice(0,this._currentFrameCallbacksLength)),this._frameCallbackLength=this._currentFrameCallbacksLength,this._currentFrameCallbacks.length=0,this._currentFrameCallbacksLength=0},s._onAfterRAFExecutorPhase=function(){this._phaseActive=!1},s._cachePhaseIndex=function(){this.phaseIndex=this.rafEmitter.executor.phases.indexOf(this.phase)},s._cancelRunningAnimationFrame=function(){this._frameCallbacks.splice(this._cancelFrameIdx,2),this._frameCallbackLength-=2},s._cancelCurrentAnimationFrame=function(){this._currentFrameCallbacks.splice(this._cancelFrameIdx,2),this._currentFrameCallbacksLength-=2},s._cancelNextAnimationFrame=function(){this._nextFrameCallbacks.splice(this._cancelFrameIdx,2),this._nextFrameCallbacksLength-=2,0===this._nextFrameCallbacksLength&&this.rafEmitter.cancel()},e.exports=r},861:(e,t,a)=>{"use strict";var n=a(5309),r=function(){this.events={}},s=r.prototype;s.requestAnimationFrame=function(e){return this.events[e]||(this.events[e]=new n(e)),this.events[e].requestAnimationFrame},s.cancelAnimationFrame=function(e){return this.events[e]||(this.events[e]=new n(e)),this.events[e].cancelAnimationFrame},e.exports=new r},4420:(e,t,a)=>{"use strict";var n=a(9200),r=function(e){n.call(this,e)};(r.prototype=Object.create(n.prototype))._subscribe=function(){return this.executor.subscribe(this,!0)},e.exports=r},1448:(e,t,a)=>{"use strict";var n=a(6652).SharedInstance,r=a(8783).majorVersionNumber,s=function(){this._currentID=0};s.prototype.getNewID=function(){return this._currentID++,"raf:"+this._currentID},e.exports=n.share("@marcom/ac-raf-emitter/sharedRAFEmitterIDGeneratorInstance",r,s)},7621:(e,t,a)=>{"use strict";var n=a(6652).SharedInstance,r=a(8783).majorVersionNumber,s=a(4553);e.exports=n.share("@marcom/ac-raf-emitter/sharedRAFExecutorInstance",r,s)},5012:(e,t,a)=>{"use strict";var n=a(861);e.exports=n.requestAnimationFrame("update")},6652:(e,t,a)=>{"use strict";e.exports={SharedInstance:a(1293)}},1293:e=>{"use strict";var t,a="undefined"!=typeof window?window:{},n="SharedInstance",r=a.AC,s=(t={},{get:function(e,a){var n=null;return t[e]&&t[e][a]&&(n=t[e][a]),n},set:function(e,a,n){return t[e]||(t[e]={}),t[e][a]="function"==typeof n?new n:n,t[e][a]},share:function(e,t,a){var n=this.get(e,t);return n||(n=this.set(e,t,a)),n},remove:function(e,a){var n=typeof a;if("string"!==n&&"number"!==n)t[e]&&(t[e]=null);else{if(!t[e]||!t[e][a])return;t[e][a]=null}}});r||(r=a.AC={}),r[n]||(r[n]=s),e.exports=r[n]},2312:e=>{"use strict";function t(e){return"x"===e?window.scrollX||window.pageXOffset:window.scrollY||window.pageYOffset}function a(e,a,n){return"x"===a?n?t("x"):e.scrollLeft:n?t("y"):e.scrollTop}e.exports=function(e,t){var n=typeof e;t="string"===n?e:t;var r=(e=e&&"string"!==n?e:window)===window;return t&&/^[xy]$/i.test(t)?a(e,t,r):{x:a(e,"x",r),y:a(e,"y",r)}}},1842:(e,t,a)=>{"use strict";var n=a(1407),r=a(4267),s=a(9565).ELEMENT;e.exports=function(e,t,a,i){if(r.childNode(e,"ancestors"),r.selector(t,"ancestors"),a&&n(e,s)&&(!t||e.matches(t)))return e;if(e!==(i=i||document.body))for(;(e=e.parentNode)&&n(e,s);){if(!t||e.matches(t))return e;if(e===i)break}return null}},5089:(e,t,a)=>{"use strict";var n=a(1407),r=a(4267),s=a(9565).ELEMENT;e.exports=function(e,t,a,i){var o=[];if(r.childNode(e,"ancestors"),r.selector(t,"ancestors"),a&&n(e,s)&&(!t||e.matches(t))&&o.push(e),e!==(i=i||document.body))for(;(e=e.parentNode)&&n(e,s)&&(t&&!e.matches(t)||o.push(e),e!==i););return o}},4267:(e,t,a)=>{"use strict";var n=a(1407),r=a(9565),s=r.COMMENT,i=r.DOCUMENT_FRAGMENT,o=r.DOCUMENT,l=r.ELEMENT,c=r.TEXT,d=[l,o,i],u=[l,c,s];e.exports={parentNode:function(e,t){if(!e||!n(e,d))throw new TypeError(t+": node must be an Element, Document, or Document Fragment")},childNode:function(e,t){if(!e||!n(e,u))throw new TypeError(t+": node must be an Element, TextNode, or Comment")},selector:function(e,t,a){if(a="boolean"==typeof a&&a,(e||a)&&"string"!=typeof e)throw new TypeError(t+": selector must be a string")}}},8499:(e,t,a)=>{"use strict";var n=a(6982),r=a(8638),s=a(6006);function i(e,t){return void 0!==t?!!n(e,t):!!r(e)}e.exports=s(i),e.exports.original=i},6006:e=>{"use strict";var t=function(){var e,t="";for(e=0;e<arguments.length;e++)e>0&&(t+=","),t+=arguments[e];return t};e.exports=function(e,a){a=a||t;var n=function(){var t=arguments,r=a.apply(this,t);return r in n.cache||(n.cache[r]=e.apply(this,t)),n.cache[r]};return n.cache={},n}},9272:e=>{"use strict";e.exports=function(e){const t={};for(const a in e)t[a]=e[a].reduce((function(e,t){return e[t.name]=!1,e}),{version:{string:"",major:0,minor:0,patch:0,documentMode:!1}});return t}},4266:e=>{"use strict";e.exports={browser:[{name:"edge",userAgent:"Edge",version:["rv","Edge"],test:function(e){return e.ua.indexOf("Edge")>-1||"Mozilla/5.0 (Windows NT 10.0; Win64; x64)"===e.ua}},{name:"edgeChromium",userAgent:"Edge",version:["rv","Edg"],test:function(e){return e.ua.indexOf("Edg")>-1&&-1===e.ua.indexOf("Edge")}},{name:"chrome",userAgent:"Chrome"},{name:"firefox",test:function(e){return e.ua.indexOf("Firefox")>-1&&-1===e.ua.indexOf("Opera")},version:"Firefox"},{name:"android",userAgent:"Android"},{name:"safari",test:function(e){return e.ua.indexOf("Safari")>-1&&e.vendor.indexOf("Apple")>-1},version:"Version"},{name:"ie",test:function(e){return e.ua.indexOf("IE")>-1||e.ua.indexOf("Trident")>-1},version:["MSIE","rv"],parseDocumentMode:function(){let e=!1;return document.documentMode&&(e=parseInt(document.documentMode,10)),e}},{name:"opera",userAgent:"Opera",version:["Version","Opera"]},{name:"samsung",userAgent:"SamsungBrowser"}],os:[{name:"windows",test:function(e){return e.ua.indexOf("Windows")>-1},version:"Windows NT"},{name:"osx",userAgent:"Mac",test:function(e){return e.ua.indexOf("Macintosh")>-1}},{name:"ios",test:function(e){return e.ua.indexOf("iPhone")>-1||e.ua.indexOf("iPad")>-1},version:["iPhone OS","CPU OS"]},{name:"linux",userAgent:"Linux",test:function(e){return(e.ua.indexOf("Linux")>-1||e.platform.indexOf("Linux")>-1)&&-1===e.ua.indexOf("Android")}},{name:"fireos",test:function(e){return e.ua.indexOf("Firefox")>-1&&e.ua.indexOf("Mobile")>-1},version:"rv"},{name:"android",userAgent:"Android",test:function(e){return e.ua.indexOf("Android")>-1}},{name:"chromeos",userAgent:"CrOS"}]}},1199:(e,t,a)=>{"use strict";const n=a(9272),r=a(4266);function s(e,t){if("function"==typeof e.parseVersion)return e.parseVersion(t);{let n=e.version||e.userAgent;"string"==typeof n&&(n=[n]);const r=n.length;let s;for(let e=0;e<r;e++)if(s=t.match((a=n[e],new RegExp(a+"[a-zA-Z\\s/:]+([0-9_.]+)","i"))),s&&s.length>1)return s[1].replace(/_/g,".")}var a;return!1}function i(e,t,a){const n=e.length;let r,i;for(let o=0;o<n;o++)if("function"==typeof e[o].test?!0===e[o].test(a)&&(r=e[o].name):a.ua.indexOf(e[o].userAgent)>-1&&(r=e[o].name),r){if(t[r]=!0,i=s(e[o],a.ua),"string"==typeof i){const e=i.split(".");t.version.string=i,e&&e.length>0&&(t.version.major=parseInt(e[0]||0),t.version.minor=parseInt(e[1]||0),t.version.patch=parseInt(e[2]||0))}else"edge"===r&&(t.version.string="12.0.0",t.version.major="12",t.version.minor="0",t.version.patch="0");return"function"==typeof e[o].parseDocumentMode&&(t.version.documentMode=e[o].parseDocumentMode()),t}return t}e.exports=function(e){const t={},a=n(r);return t.browser=i(r.browser,a.browser,e),t.os=i(r.os,a.os,e),t}},2822:(e,t,a)=>{"use strict";const n="undefined"!=typeof window?window.navigator:{userAgent:"",platform:"",vendor:""},r={ua:n.userAgent,platform:n.platform,vendor:n.vendor};e.exports=a(1199)(r)},4739:(e,t,a)=>{"use strict";var n=a(8330).EventEmitterMicro;const r={};"undefined"!=typeof window&&(r.update=a(5012));var s="viewport-emitter",i={removeNamespace:!0},o="data-viewport-emitter-dispatch",l="data-viewport-emitter-state",c="only screen and (-webkit-min-device-pixel-ratio: 1.5), screen and (min-resolution: 1.5dppx), screen and (min-resolution: 144dpi)",d="only screen and (orientation: portrait)",u="only screen and (orientation: landscape)",m="change:any",p="change:orientation",g="change:retina",h="change:viewport";function f(e,t){n.call(this),this._id=e||s,this._options=Object.assign({},i,t),this._allowDOMEventDispatch=!1,this._allowElementStateData=!1,this._options.removeNamespace="boolean"!=typeof this._options.removeNamespace||this._options.removeNamespace,this._el=this._initViewportEl(this._id),this._resizing=!1,this._mediaQueryLists={resolution:{retina:window.matchMedia(c)},orientation:{portrait:window.matchMedia(d),landscape:window.matchMedia(u)}},this._viewport=this._getViewport(this._options.removeNamespace),this._retina=this._getRetina(this._mediaQueryLists.resolution.retina),this._orientation=this._initOrientation(),this._addListeners(),this._updateElementStateData()}Object.defineProperty(f,"DOM_DISPATCH_ATTRIBUTE",{get:function(){return o}}),Object.defineProperty(f,"DOM_STATE_ATTRIBUTE",{get:function(){return l}});var E=f.prototype=Object.create(n.prototype);Object.defineProperty(E,"id",{get:function(){return this._id}}),Object.defineProperty(E,"element",{get:function(){return this._el}}),Object.defineProperty(E,"mediaQueryLists",{get:function(){return this._mediaQueryLists}}),Object.defineProperty(E,"viewport",{get:function(){return this._viewport}}),Object.defineProperty(E,"retina",{get:function(){return this._retina}}),Object.defineProperty(E,"orientation",{get:function(){return this._orientation}}),Object.defineProperty(E,"hasDomDispatch",{get:function(){return this._allowDOMEventDispatch}}),E.destroy=function(){for(var e in this._removeListeners(),this._options)this._options[e]=null;for(var t in this._mediaQueryLists){var a=this._mediaQueryLists[t];for(var r in a)a[r]=null}this._id=null,this._el=null,this._viewport=null,this._retina=null,this._orientation=null,n.prototype.destroy.call(this)},E._initViewportEl=function(e){var t=document.getElementById(e);return t||((t=document.createElement("div")).id=e,t=document.body.appendChild(t)),t.hasAttribute(o)||(t.setAttribute(o,""),this._allowDOMEventDispatch=!0),t.hasAttribute(l)||(this._allowElementStateData=!0),t},E._dispatch=function(e,t){var a={viewport:this._viewport,orientation:this._orientation,retina:this._retina};if(this._allowDOMEventDispatch){var n=new CustomEvent(e,{detail:t}),r=new CustomEvent(m,{detail:a});this._el.dispatchEvent(n),this._el.dispatchEvent(r)}this.trigger(e,t),this.trigger(m,a)},E._addListeners=function(){this._onOrientationChange=this._onOrientationChange.bind(this),this._onRetinaChange=this._onRetinaChange.bind(this),this._onViewportChange=this._onViewportChange.bind(this),this._onViewportChangeUpdate=this._onViewportChangeUpdate.bind(this),this._mediaQueryLists.orientation.portrait.addListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.addListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.addListener(this._onRetinaChange),window.addEventListener("resize",this._onViewportChange)},E._removeListeners=function(){this._mediaQueryLists.orientation.portrait.removeListener(this._onOrientationChange),this._mediaQueryLists.orientation.landscape.removeListener(this._onOrientationChange),this._mediaQueryLists.resolution.retina.removeListener(this._onRetinaChange),window.removeEventListener("resize",this._onViewportChange)},E._updateElementStateData=function(){if(this._allowElementStateData){var e=JSON.stringify({viewport:this._viewport,orientation:this._orientation,retina:this._retina});this._el.setAttribute(l,e)}},E._getViewport=function(e){var t=window.getComputedStyle(this._el,"::before").content;return t?(t=t.replace(/["']/g,""),e?t.split(":").pop():t):null},E._getRetina=function(e){return e.matches},E._getOrientation=function(e){var t=this._orientation;if(e.matches){return e.media.match(/portrait|landscape/)[0]}return t},E._initOrientation=function(){var e=this._getOrientation(this._mediaQueryLists.orientation.portrait);return e||this._getOrientation(this._mediaQueryLists.orientation.landscape)},E._onViewportChange=function(){this._resizing||(this._resizing=!0,r.update(this._onViewportChangeUpdate))},E._onViewportChangeUpdate=function(){var e=this._viewport;if(this._viewport=this._getViewport(this._options.removeNamespace),e!==this._viewport){var t={from:e,to:this._viewport};this._updateElementStateData(),this._dispatch(h,t)}this._resizing=!1},E._onRetinaChange=function(e){var t=this._retina;if(this._retina=this._getRetina(e),t!==this._retina){var a={from:t,to:this._retina};this._updateElementStateData(),this._dispatch(g,a)}},E._onOrientationChange=function(e){var t=this._orientation;if(this._orientation=this._getOrientation(e),t!==this._orientation){var a={from:t,to:this._orientation};this._updateElementStateData(),this._dispatch(p,a)}},e.exports=f},2494:(e,t,a)=>{"use strict";a.d(t,{uy:()=>o,Ay:()=>p,t$:()=>m});var n=a(2224),r=a.n(n);const s=class{constructor(e){let{session:t=!1,expires:a,expiryInMs:n}=e;this.wantSession=t,this.expires=a,this.expiryInMs=n,this.isSupported=this.isSupported()}isSupported(){try{const e=this.wantSession?window.sessionStorage:window.localStorage;if(!e)return!1;e.setItem("T3sT3iNg","123"),e.removeItem("T3sT3iNg")}catch(e){return!1}return!0}getFutureDate(){const e=new Date,t=this.expiryInMs?1:864e5,a="number"==typeof this.expires?this.expires:parseInt(this.expires,10);return e.getTime()+a*t}keys(){return this.wantSession?Object.keys(sessionStorage):Object.keys(localStorage)}get(e){if(!this.isSupported)return null;if(this.wantSession){try{const t=new Date,a=JSON.parse(sessionStorage.getItem(e));if(a.timestamp>t.getTime())return a.value;sessionStorage.removeItem(e)}catch(t){sessionStorage.removeItem(e)}return null}return localStorage.getItem(e)}set(e,t){if(this.isSupported)if(this.wantSession){const a=JSON.stringify({value:t,timestamp:this.getFutureDate()});sessionStorage.setItem(e,a)}else localStorage.setItem(e,t)}remove(e){this.isSupported&&(this.wantSession?sessionStorage.removeItem(e):localStorage.removeItem(e))}};window.apple=window.apple||{};const i=["product","step","add","remove","msg.0","msg.1","msg.2","msg.3","f.0","f.1","f.2","f.3","acc_msg.0","acc_msg.1","not-engraved","acc-not-engraved","msg","skipAttach","cppart","purchaseOption"];const o=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.defaultOptions=t,this.keyData={version:this.defaultOptions.version||r().get(window,"apple.buyFlowVersionId","v9"),path:this.defaultOptions.path||r().get(window,"apple.buyFlowPath",window.location.pathname),step:this.defaultOptions.step||this.getStep(),input:""},this.createKey=(e=>{let{version:t,path:a,step:n}=e;return e=>`${t}--${a}--${n}--${e}`})(this.keyData),this.createKeyWithStep=(e=>{let{version:t,path:a}=e;return(e,n)=>`${t}--${a}--${e}--${n}`})(this.keyData),this.sessionKey=(e=>{let{version:t,path:a}=e;return`${t}--${a}`})(this.keyData),this.storage=new s(e)}set(e,t){this.storage.set(this.createKey(e),t)}get(e){return this.storage.get(this.createKey(e))}remove(e){this.storage.remove(this.createKey(e))}setEntryForStep(e,t,a){this.storage.set(this.createKeyWithStep(e,t),a)}getEntryForStep(e,t){return this.storage.get(this.createKeyWithStep(e,t))}removeEntryForStep(e,t){this.storage.remove(this.createKeyWithStep(e,t))}getEntries(e){let{pathSelector:t,excludePath:a}=e;const n=new RegExp(`${this.keyData.path}--`),r=new RegExp(t),s=n.test(t);return this.storage.keys().reduce(((e,t)=>{const i=r.test(t),o=n.test(t);if(s?i:i&&o){e[a?t.slice(t.lastIndexOf("--")+2):t]=this.storage.get(t)}return e}),{})}removeEntries(e){let{pathSelector:t=this.getStep()}=e;Object.keys(this.getEntries({pathSelector:t,excludePath:!1})).forEach((e=>this.storage.remove(e)))}getEntriesForStep(e){let{step:t=this.getStep(),excludePath:a}=e;return this.getEntries({pathSelector:t,excludePath:a})}removeEntriesForStep(e){let{step:t=this.getStep()}=e;this.removeEntries({pathSelector:t})}getEntriesForSession(e){let{excludePath:t}=e;return this.getEntries({pathSelector:this.sessionKey,excludePath:t})}removeEntriesForSession(){this.removeEntries({pathSelector:this.sessionKey})}setValues(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>!0;Object.keys(e).forEach((a=>{t(a)&&this.set(a,e[a])}))}getStep(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"select";if(this.defaultOptions.step)return this.defaultOptions.step;const t=new URLSearchParams(window.location.search.slice(1)).get("step")||e,a=document.querySelector('input[name="step"]');return a&&a.value||t}setBuyflowComplete(e){this.storage.set(this.createKeyWithStep("buyFlow","complete"),e)}getBuyflowComplete(){return this.storage.get(this.createKeyWithStep("buyFlow","complete"))}removeBuyflowComplete(){this.storage.remove(this.createKeyWithStep("buyFlow","complete"))}removeAllFromSessionComplete(e){const t=r().get(window,"apple.buyFlowFirstStep"),a=r().get(window,"apple.buyFlowIndependentStep"),n=this.getStep(),s=document.querySelector('input[name="bfe"]');!t&&!a&&n!==e||s||this.removeEntriesForSession()}getHiddenInputsFromQueryString(){const e={};return new URLSearchParams(window.location.search.slice(1)).forEach(((t,a)=>{"none"!==t&&"true"!==t&&(e[a]=t)})),e}getHiddenInputs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{allowlist:t=[],appendToDefaultList:a=!1,noFilter:n=!1}=e;let s={};if(this.storage.isSupported||(s={...s,lsd:!0,...this.getHiddenInputsFromQueryString()}),s={...s,...this.getEntriesForSession({excludePath:!0})},n)return s;const o=a?r().union(i,t):i;return r().pickBy(s,((e,t)=>o.includes(t)))}persist(e,t,a){e&&t&&Object.keys(t).forEach((n=>this.addHiddenInput(e,n,t[n],a)))}setSubmitButtonValue(e){const t=e.querySelector('button[type="submit"]');t&&this.addHiddenInput(e,t.getAttribute("name"),t.getAttribute("value"))}addHiddenInput(e,t,a,n){const r=e.querySelector(`input[name="${t}"]`);if(r)n&&r.setAttribute("value",a);else{const n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",t),n.setAttribute("value",a),e.appendChild(n)}}},l=r().get(window,"asBuyFlow.storageConfig.genericPath",""),c=`${r().get(window,"apple.buyFlowPath",window.location.pathname)}/generic`,d=r().get(window,"apple.version",""),u=r().get(window,"apple.storageConfig.path",""),m=new o({session:!0,expires:window.apple.buyFlowExpiry||36e5,expiryInMs:!0,hash:!0},{version:d,path:u||l||c,step:"generic"}),p=new o({session:!0,expires:r().get(window,"apple.buyFlowExpiry",36e5),expiryInMs:!0})},3797:(e,t,a)=>{a(5069)},5069:e=>{let t={init:function(){document.addEventListener("click",this.handleClick.bind(this))},handleClick:function(e){let t=e.target,a=null;if(document.documentElement.contains(t))for(;null!==t;){if(t.classList.contains("as-chat-button")){a=t;break}t=t.parentElement}a&&(e.preventDefault(),this.createForm(a),this.openChatWindow())},createForm:function(e){let t,a,n,r,s,i,o,l=window.chatConfig.chat.page,c=l?Object.keys(l):[],d=[],u=null,m=document.forms.chatForm,p=function(e,t){null===t&&(t=""),d+='<input type="hidden" id="'+e+'" name="'+e+'" value="'+t+'" />'};for(a=e?e.getAttribute("data-chat-ui"):null,u=a?a.split(";"):[],n=Object.keys(u),o=0;o<n.length;o++)r=u[n[o]].split("="),""!==r[0]&&p(r[0],r[1]);for(o=0;o<c.length;o++)s=l[c[o]],"url"!==s.name&&p(s.name,s.value),"url"===s.name&&(t=s.value);p("WEB_CHAT_PAGE_URL",document.URL),i=document.createElement("form"),i.id="chatForm",i.dataset.analyticsType="chat",i.action=t,i.target="chatWin",i.method="post",i.innerHTML=d,m&&document.body.removeChild(m),document.body.appendChild(i)},openChatWindow:function(){let e=document.getElementById("chatForm");window.open("#","chatWin","width=375,height=773,menubar=no,location=no,scrollbars=no,status=no"),e.submit()}};document.addEventListener("DOMContentLoaded",(function(){let e=window.chatConfig;e&&e.chat?t.init():window.console.log("No chat config detected.")})),e.exports=t},6080:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i);const l=e=>{let{inline:t,reduced:a,tiny:r,noScrim:i,className:l="",children:c,...d}=e;return s().createElement("span",(0,n.A)({className:o()("badge",{"badge-reduced":a,"badge-tiny":r,"badge-no-scrim":i,"badge-inline":t},l)},d),c)}},2019:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(6080)},3708:(e,t,a)=>{"use strict";a.d(t,{ee:()=>m,aU:()=>p,c6:()=>f,sY:()=>E,gW:()=>v,ED:()=>b,DI:()=>S,_V:()=>A,rp:()=>y});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i),l=a(5911),c=a(6080),d=a(1916),u=a(1345);const m=e=>{let{className:t,legend:a,childAfterLegend:r,classes:i={items:""},children:l,...c}=e;return s().createElement("fieldset",(0,n.A)({className:o()("colornav","rc-dimension-colornav",t)},c),s().createElement("legend",null,a),r,s().createElement("ul",{className:o()("colornav-items",i.items)},l))},p=e=>{let{id:t,className:r,handleChange:i,classes:m={image:"",input:"",label:"",navLabel:""},badgeText:p,image:g,text:h,skipChangeSelection:f,isProductRed:E,productRedImage:v,compact:y,labelAttrs:b,useImageAlt:A=!1,isMultiSelect:S=!1,...w}=e;const T=s().useId(),O=t||T,N=A?g:g&&{...g,alt:""},C=(()=>{const e="../dist/assets/ac-colornav/productred.svg";return s().useMemo((()=>{let t=e;try{a.p&&(t=new URL(e,a.p).href)}catch{}return t}),[])})();return s().createElement("li",{className:o()(r,"colornav-item",{"colornav-item-productred":E,"rc-colornav-item-compact":y})},s().createElement("input",(0,n.A)({type:S?"checkbox":"radio",id:O,className:o()("colornav-value","rc-dimension-colornav-input",m.input)},(0,u.b)(i,f),w)),s().createElement("label",(0,n.A)({htmlFor:O,className:o()("colornav-link","rc-dimension-colornav-link",{"rc-colornav-label-compact":y},m.label)},b),p&&s().createElement(c.A,(0,n.A)({noScrim:!0,reduced:!0,className:"rc-colornav-label-badge"},(0,l.OH)(p))),s().createElement(d.Ay,{data:N,className:o()(m.image,"colornav-swatch",{"rc-dimension-colornav-image-compact":y}),alt:""}),E&&s().createElement("span",{className:"colornav-logo-productred",tabIndex:"-1"},v||s().createElement("img",{alt:"",src:C})),s().createElement("span",(0,n.A)({className:o()("colornav-label",m.navLabel)},(0,l.OH)(h)))))};var g=a(9066),h=a(9932);const f=e=>{let{legend:t,childAfterLegend:a,withGutters:r,classes:i={items:""},tag:l="div",className:c,children:d,...u}=e;return s().createElement("fieldset",(0,n.A)({className:o()("rc-dimension",c)},u),s().createElement("legend",null,t),a,s().createElement(h.A,{withGutters:r,className:o()("rc-dimension-selector-group",{row:r},i.items),tag:l},d))},E=e=>{let{className:t,handleChange:a,skipChangeSelection:r,showSwatch:i,short:l,threeLine:c,itemsPerRowLarge:d=2,itemsPerRowSmall:m=2,classes:p={input:"",label:""},children:h,...f}=e;return s().createElement(g.Ay,(0,n.A)({tag:"div",className:o()(t,"rc-dimension-multiple",{"form-selector-swatch":i,"form-selector-threeline":c,"form-selector-short":l},"column","large-"+12/d,"small-"+12/m),classes:{input:p.input,label:p.label}},(0,u.b)(a,r),f),h)},v=e=>{let{className:t,handleChange:a,skipChangeSelection:r,threeLine:i,listChild:l,childRight:c,childRightColumnWidth:d=6,classes:m={input:"",label:""},childTop:p,children:h,isStackedLayout:f,labelProps:E,...v}=e;const y=()=>s().createElement(s().Fragment,null,p&&s().createElement("span",{className:"row row-logical"},p),f?s().createElement("span",{className:"row row-logical"},s().createElement("span",{className:o()("form-selector-left-col","column","large-12","rc-dimension-stacked-layout",m.left)},s().createElement("span",{className:"row row-logical"},h),s().createElement("span",{className:"row row-logical"},c))):s().createElement("span",{className:"row row-logical"},s().createElement("span",{className:o()("form-selector-left-col","column",m.left,{["large-"+(12-d)]:c,"large-12":!c})},h),c?s().createElement("span",{className:o()("form-selector-right-col","column",`large-${d}`,m.right)},c):null));return s().createElement(g.Ay,(0,n.A)({tag:"div",className:o()(t,"rc-dimension-selector-row",{"form-selector-twocol-threeline":i}),classes:{input:m.input,label:m.label},render:e=>{let{inputId:t,SelectorLabel:a}=e;return l?s().createElement("div",{id:`${t}_label`,className:o()("form-selector-label",m.label)},s().createElement(a,{className:o()("rc-dimension-list-header","form-selector-list-header"),id:void 0},s().createElement(y,null)),l):s().createElement(a,(0,n.A)({classes:{root:m.label}},E),s().createElement(y,null))}},(0,u.b)(a,r),v))},y=e=>{let{image:t,text:a,className:r}=e;return s().createElement(s().Fragment,null,s().createElement(d.Ay,{data:t,className:"form-selector-swatch"}),s().createElement("span",(0,n.A)({className:o()("form-label-small",r)},(0,l.OH)(a))))},b=e=>{let{text:t,className:a,...r}=e;return s().createElement("span",(0,n.A)({className:o()("form-label-small",a)},(0,l.OH)(t),r))},A=e=>{let{text:t,className:a}=e;return s().createElement("span",(0,n.A)({className:o()("form-selector-title",a)},(0,l.OH)(t)))},S=e=>{let{items:t,className:a,...r}=e;return t&&t.length>0?s().createElement("ul",(0,n.A)({className:o()("form-selector-list-content",a)},r),t.map((e=>s().createElement("li",(0,n.A)({key:e},(0,l.OH)(e)))))):null}},1345:(e,t,a)=>{"use strict";a.d(t,{b:()=>s});var n=a(7316),r=a(840);const s=(e,t)=>({onChange:a=>{t||e(a.target.value,a)},onClick:a=>{const r=document.documentElement.classList.contains(n.Ag);t&&!r&&e(a.target.value,a)},onKeyUp:a=>{const n=a.keyCode===r.HP.Return||a.keyCode===r.HP.Space;t&&n&&e(a.target.value,a)}})},1824:(e,t,a)=>{"use strict";a.d(t,{aT:()=>X,t:()=>q,v0:()=>ne});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i);const l=s().createContext({}),c=()=>{const e=s().useContext(l);if(!e)throw new Error("Gallery compound components cannot be rendered outside the Gallery component");return e};var d=a(2224),u=a.n(d),m=a(840);const p=e=>{let{onClick:t=(()=>{}),children:a,disabled:r,passFocusOnDisabled:i=!0,hideFromVOWhenDisabled:l=!0,classes:d={},...m}=e;const{target:p,handlePrev:g,hasPrev:h,distFromStart:f,isMoving:E,nextButtonRef:v,prevButtonRef:y,a11y:b}=c(),A=s().useRef(!1),S=r||!h;return s().useEffect((()=>{!h&&A.current&&i&&v.current&&v.current.focus(),A.current=!1}),[h]),s().createElement("button",(0,n.A)({type:"button",className:o()(d.root,{[d.disabled||""]:S}),ref:y,onClick:E?void 0:e=>{g(),t(e,p-1),f<=1&&(A.current=!0)},disabled:S,"aria-hidden":l&&S,"aria-label":u().get(b,"previous","Previous")},m),a)},g=e=>{let{onClick:t=(()=>{}),children:a,disabled:r,passFocusOnDisabled:i=!0,hideFromVOWhenDisabled:l=!0,classes:d={},...m}=e;const{target:p,handleNext:g,hasNext:h,distFromEnd:f,isMoving:E,nextButtonRef:v,prevButtonRef:y,a11y:b}=c(),A=s().useRef(!1),S=r||!h;return s().useEffect((()=>{!h&&A.current&&i&&y.current&&y.current.focus(),A.current=!1}),[h]),s().createElement("button",(0,n.A)({type:"button",className:o()(d.root,{[d.disabled||""]:S}),ref:v,onClick:E?void 0:e=>{g(),t(e,p+1),f<=1&&(A.current=!0)},disabled:S,"aria-hidden":l&&S,"aria-label":u().get(b,"next","Next")},m),a)},h=e=>{let{items:t,renderDot:a=(e=>e),getButtonProps:r=(()=>({})),classes:i={},children:l,...d}=e;const{id:p,target:g,handleChange:h,handleNext:f,handlePrev:E,hasNext:v,hasPrev:y,isRTL:b,isMoving:A,registerTabList:S,a11y:w}=c();s().useLayoutEffect((()=>(S(!0),()=>{S(!1)})),[]);const T=s().useRef([]),O=e=>t=>{T.current&&(T.current[e]=t)},N=e=>{const t=T.current?T.current[e]:null;t&&t.focus()};return s().createElement("ul",(0,n.A)({className:o()(i.root),role:"tablist"},d),t.map(((e,l)=>{const c=e=>{e.preventDefault(),y&&!A&&(E(),N((l-1)%t.length))},d=e=>{e.preventDefault(),v&&!A&&(f(),N((l+1)%t.length))},S=g===l,T=u().get(w,`items[${l}]`,`Item ${l+1}`);return s().createElement("li",{key:l,role:"presentation",className:o()(i.item)},s().createElement("button",(0,n.A)({id:`${p}-tab-item-${l}`,ref:O(l),type:"button",role:"tab","aria-controls":`${p}-gallery-item-${l}`,"aria-selected":S,"aria-label":T,tabIndex:S?0:-1,onClick:()=>{A||h(l)},onKeyDown:e=>{switch(e.keyCode){case m.HP.ArrowUp:c(e);break;case m.HP.ArrowLeft:b?d(e):c(e);break;case m.HP.ArrowDown:d(e);break;case m.HP.ArrowRight:b?c(e):d(e)}},className:o()(i.button,{[i.active||""]:S})},r(e,l)),a(e,l)))})),l)},f="Left",E="Right",v="Up",y="Down",b={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},A={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},S="mousemove",w="mouseup",T="touchend",O="touchmove",N="touchstart";function C(e,t){if(0===t)return e;const a=Math.PI/180*t;return[e[0]*Math.cos(a)+e[1]*Math.sin(a),e[1]*Math.cos(a)-e[0]*Math.sin(a)]}function _(e,t){const a=t=>{const a="touches"in t;a&&t.touches.length>1||e(((e,r)=>{r.trackMouse&&!a&&(document.addEventListener(S,n),document.addEventListener(w,s));const{clientX:i,clientY:o}=a?t.touches[0]:t,l=C([i,o],r.rotationAngle);return r.onTouchStartOrOnMouseDown&&r.onTouchStartOrOnMouseDown({event:t}),Object.assign(Object.assign(Object.assign({},e),A),{initial:l.slice(),xy:l,start:t.timeStamp||0})}))},n=t=>{e(((e,a)=>{const n="touches"in t;if(n&&t.touches.length>1)return e;if(t.timeStamp-e.start>a.swipeDuration)return e.swiping?Object.assign(Object.assign({},e),{swiping:!1}):e;const{clientX:r,clientY:s}=n?t.touches[0]:t,[i,o]=C([r,s],a.rotationAngle),l=i-e.xy[0],c=o-e.xy[1],d=Math.abs(l),u=Math.abs(c),m=(t.timeStamp||0)-e.start,p=Math.sqrt(d*d+u*u)/(m||1),g=[l/(m||1),c/(m||1)],h=function(e,t,a,n){return e>t?a>0?E:f:n>0?y:v}(d,u,l,c),A="number"==typeof a.delta?a.delta:a.delta[h.toLowerCase()]||b.delta;if(d<A&&u<A&&!e.swiping)return e;const S={absX:d,absY:u,deltaX:l,deltaY:c,dir:h,event:t,first:e.first,initial:e.initial,velocity:p,vxvy:g};S.first&&a.onSwipeStart&&a.onSwipeStart(S),a.onSwiping&&a.onSwiping(S);let w=!1;return(a.onSwiping||a.onSwiped||a[`onSwiped${h}`])&&(w=!0),w&&a.preventScrollOnSwipe&&a.trackTouch&&t.cancelable&&t.preventDefault(),Object.assign(Object.assign({},e),{first:!1,eventData:S,swiping:!0})}))},r=t=>{e(((e,a)=>{let n;if(e.swiping&&e.eventData){if(t.timeStamp-e.start<a.swipeDuration){n=Object.assign(Object.assign({},e.eventData),{event:t}),a.onSwiped&&a.onSwiped(n);const r=a[`onSwiped${n.dir}`];r&&r(n)}}else a.onTap&&a.onTap({event:t});return a.onTouchEndOrOnMouseUp&&a.onTouchEndOrOnMouseUp({event:t}),Object.assign(Object.assign(Object.assign({},e),A),{eventData:n})}))},s=e=>{document.removeEventListener(S,n),document.removeEventListener(w,s),r(e)},i=(e,t)=>{let s=()=>{};if(e&&e.addEventListener){const i=Object.assign(Object.assign({},b.touchEventOptions),t.touchEventOptions),o=[[N,a,i],[O,n,Object.assign(Object.assign({},i),t.preventScrollOnSwipe?{passive:!1}:{})],[T,r,i]];o.forEach((([t,a,n])=>e.addEventListener(t,a,n))),s=()=>o.forEach((([t,a])=>e.removeEventListener(t,a)))}return s},o={ref:t=>{null!==t&&e(((e,a)=>{if(e.el===t)return e;const n={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),n.cleanUpTouch=void 0),a.trackTouch&&t&&(n.cleanUpTouch=i(t,a)),Object.assign(Object.assign(Object.assign({},e),{el:t}),n)}))}};return t.trackMouse&&(o.onMouseDown=a),[o,i]}function I(e){const{trackMouse:t}=e,a=r.useRef(Object.assign({},A)),n=r.useRef(Object.assign({},b)),s=r.useRef(Object.assign({},n.current));let i;for(i in s.current=Object.assign({},n.current),n.current=Object.assign(Object.assign({},b),e),b)void 0===n.current[i]&&(n.current[i]=b[i]);const[o,l]=r.useMemo((()=>_((e=>a.current=e(a.current,n.current)),{trackMouse:t})),[t]);return a.current=function(e,t,a,n){return t.trackTouch&&e.el?e.cleanUpTouch?t.preventScrollOnSwipe!==a.preventScrollOnSwipe||t.touchEventOptions.passive!==a.touchEventOptions.passive?(e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)})):e:Object.assign(Object.assign({},e),{cleanUpTouch:n(e.el,t)}):(e.cleanUpTouch&&e.cleanUpTouch(),Object.assign(Object.assign({},e),{cleanUpTouch:void 0}))}(a.current,n.current,s.current,l),o}var D=a(5911);const L=(e,t)=>{const[a,n]=s().useState(Boolean(e)),r=s().useRef(null),i=s().useRef(null),o=()=>{r.current&&(window.clearInterval(r.current),r.current=null)},l=()=>{i.current&&(window.clearTimeout(i.current),i.current=null)},c=s().useRef(t);c.current=t,s().useEffect((()=>{n(Boolean(e))}),[e]),s().useEffect((()=>{if(e&&a&&!r.current){const t=u().get(e,"transitionDelay",5e3),a=u().get(e,"step",1);r.current=window.setInterval((()=>{c.current(a)}),t)}return e&&a||o(),()=>{o(),l()}}),[e,a]);const d=()=>{a&&e&&(l(),n(!1))},m=()=>{if(!a&&e){const t=u().get(e,"restartDelay",5e3);i.current||(i.current=window.setTimeout((()=>{n(!0),i.current=null}),t))}};return{pauseAutoScroll:d,resumeAutoScroll:m,autoScrollHandlers:e?{onMouseEnter:d,onMouseLeave:e=>{e.currentTarget.contains(document.activeElement)||m()},onFocus:d,onBlur:e=>{e.currentTarget.contains(e.relatedTarget)||m()}}:{}}},k=Object.freeze({GOTO:"goto",COMPLETED:"completed",SWIPED:"swiped",DRAG:"drag"}),x=(e,t)=>{switch(t.type){case k.GOTO:return{...e,target:t.payload.target};case k.COMPLETED:return{...e,swiped:void 0,active:t.payload.active};case k.DRAG:return{...e,isDragging:t.payload};case k.SWIPED:return{...e,swiped:!0};default:return e}},P=(e,t,a,n)=>{const r=(s=t.current)?s.offsetWidth/3:0;var s;Math.abs(e.deltaX)>=r&&n(a)},R=(e,t)=>{const a=e%t;return a<0?t+a:a},M=(e,t)=>"smooth"===t?`transform ${e}ms ease`:`transform ${e}ms cubic-bezier(0.68, -0.55, 0.265, 1.55)`,F=(e,t,a,n,r,s,i,o)=>{const l=Math.random()/100,c={transform:"translateX(0px)",width:100*Math.floor(t.length/a)+"%",insetInlineStart:`-${100*r/a}%`,transition:"none"};if(n){const e=Math.abs(s-r),n=100/a*((e>t.length?1:-1)*Math.sign(s-r))*e/Math.floor(t.length/a);return{...c,transition:M(i,"smooth"),transform:`translateX(calc(${o?-1:1} * ${n+l}%))`}}return c},H=e=>{let{id:t,items:a,index:n,defaultIndex:r=0,onChange:i=(()=>{}),infinite:o,radius:l,fade:c=!1,itemsInView:d=1,transitionDuration:u=400,autoScroll:m,swipableProps:p={},onSwiped:g=(()=>{}),a11y:h={label:"Gallery",previous:"Previous",next:"Next",items:[]},dir:f,...E}=e;const v=s().useId(),y=t||v,b=s().useMemo((()=>"rtl"===f||"rtl"===(0,D.NL)()),[f]),{current:A}=s().useRef("number"==typeof n),S=s().useRef(null),w=s().useRef(null),T=s().useRef(null),O=s().useRef(null),[N,C]=s().useState(!1),[_,H]=s().useReducer(x,{isDragging:!1,target:A?n:r,active:A?n:r}),U=s().useRef(A?n:r),$=s().useRef(A?n:r),[B,V]=[_.active,A?n:_.target];s().useEffect((()=>{const e=setTimeout((()=>{H({type:k.COMPLETED,payload:{active:V}}),U.current=V}),u);return()=>clearTimeout(e)}),[A,V,u]);const Y=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(n=a.length,(_.active-1+n)%n);var n;$.current=_.active-1,A||H({type:k.GOTO,payload:{target:t}}),e.swiped&&H({type:k.SWIPED}),i(t)},q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(n=a.length,(_.active+1)%n);var n;$.current=_.active+1,A||H({type:k.GOTO,payload:{target:t}}),e.swiped&&H({type:k.SWIPED}),i(t)},j=e=>{e>0?q({swiped:!0}):Y({swiped:!0})},{pauseAutoScroll:G,resumeAutoScroll:W,autoScrollHandlers:z}=L(m,(e=>{const t=o?B+e:R(B+e,a.length);$.current=t,A||H({type:k.GOTO,payload:{target:t}}),i(t,"autoScroll")})),K=o||V<a.length-1,Q=o||V>0,J=o?1/0:V-0,Z=o?1/0:a.length-1-V,X=s().useRef(),ee=e=>{K&&(P(e,S,1,j),g("left",R(V+1,a.length)))},te=e=>{Q&&(P(e,S,-1,j),g("right",R(V-1,a.length)))},ae=I({onSwiping(e){if(B===V&&("Left"===e.dir||"Right"===e.dir)){e.event.preventDefault();let t=e.deltaX;if("Left"===e.dir&&!K||"Right"===e.dir&&!Q){const a=Math.abs(e.deltaX),n=a-a*a/(2*S.current.offsetWidth);t=Math.sign(e.deltaX)*n}w.current&&(w.current.style.transform=`translateX(${t}px)`,w.current.style.transition="none",_.isDragging||(H({type:k.DRAG,payload:!0}),G()))}},onSwiped(){w.current&&(w.current.style.transform="translateX(0px)",w.current.style.transition=M(u,"elastic"),window.clearTimeout(X.current),X.current=window.setTimeout((()=>{H({type:k.DRAG,payload:!1}),W()}),u))},onSwipedLeft:b?te:ee,onSwipedRight:b?ee:te,offset:0,touchEventOptions:{passive:!1},...p}),{isMoving:ne,pageStart:re,pageEnd:se,activeOffset:ie,targetOffset:oe}=(e=>{let{active:t,target:a,items:n,radius:r,infinite:s,actualActiveIndex:i,actualTargetIndex:o}=e;const l=t!==a,c=n.length,d=Math.floor(c/2),u=Math.min(r||c,s?d:c),m=t-u,p=t+u,g=s?m:Math.max(m,0),h=s?p:Math.min(p,c-1),f=s?R(t-a,c):0,E=s?R(a-t,c):0;let v=f<E?-f:E;return f===E&&(v=Math.sign(o-i)*f),{isMoving:l,pageStart:g,pageEnd:h,activeOffset:s?u:t-g,targetOffset:s?u+v:a-g}})({active:B,target:V,items:a,radius:l,infinite:o,actualActiveIndex:U.current,actualTargetIndex:$.current}),le=c&&!_.swiped||l&&Math.abs(V-B)>l,ce=ne&&le,de=ce?[{content:a[R(B,a.length)],index:R(B,a.length)},{content:a[R(V,a.length)],index:R(V,a.length)}]:((e,t,a)=>{const n=[];for(let r=t;r<=a;r+=1){const t=R(r,e.length);n.push({content:e[t],index:t})}return n})(a,re,se);return{id:y,pages:de,active:R(B,a.length),target:R(V,a.length),swipeableHandlers:ae,autoScrollHandlers:z,style:ce?{width:"200%"}:F(0,de,d,ne,ie,oe,u,b),hasNext:K,hasPrev:Q,distFromStart:J,distFromEnd:Z,isMoving:ne,isFading:ce,isDragging:_.isDragging,handleChange:e=>{$.current=e,A||H({type:k.GOTO,payload:{target:e}}),i(e)},handlePrev:Y,handleNext:q,isRTL:b,isTabList:N,registerTabList:C,rootRef:S,scrollerRef:e=>{ae.ref(e),w.current=e},prevButtonRef:T,nextButtonRef:O,a11y:h,wrapperAttrs:E}},U=e=>{let{renderItem:t=(e=>e),classes:a={},childrenBefore:r,children:i,...o}=e;const c=H(o),{id:d,active:m,target:p,pages:g,swipeableHandlers:h,autoScrollHandlers:f,style:E,isMoving:v,isFading:y,isDragging:b,rootRef:A,scrollerRef:S,a11y:w,wrapperAttrs:T}=c,O=g.length>1?{role:"group","aria-label":u().get(w,"label","Gallery")}:{};return s().createElement("div",(0,n.A)({className:a.root},O,T,f),s().createElement(l.Provider,{value:c},r,s().createElement("div",{id:d,className:a.gallery,"data-core-gallery":!0,"data-core-gallery-fade":y,ref:A},s().createElement("div",(0,n.A)({"data-core-gallery-scroller":!0,className:a.scroller,style:E},h,{ref:S}),g.map(((e,a)=>{let{content:n,index:r}=e;return t(n,r,{isActive:r===m,isTarget:r===p,isMoving:v,isDragging:b,pageIndex:a})})))),i))};var $=a(6910);const B=e=>{let{index:t,children:a,addDisabled:r=!0,...i}=e;const{id:o,target:l,isTabList:d,a11y:m}=c(),p=(0,$.A)(r&&l!==t),g=`${o}-gallery-item-${t}`,h={role:"tabpanel","aria-label":u().get(m,`items[${t}]`,`Item ${t+1}`)};return s().createElement("div",(0,n.A)({id:g,"data-core-gallery-item":!0,"aria-hidden":l!==t,ref:p},d?h:{},i),a)};var V=a(9376),Y=a(1916);const q=e=>{let{className:t,...a}=e;return s().createElement(B,(0,n.A)({className:o()(t,"rc-inline-gallery-item")},a))};var j=a(5487);const G=e=>{let{elevated:t,hover:a,supernav:r,dir:i,visuallyHidden:l,hideWhenDisabled:c=!0,previousProps:d={},nextProps:u={},classes:m={}}=e;const h=s().useMemo((()=>"rtl"===i||"rtl"===document?.documentElement?.getAttribute("dir")),[i]);return s().createElement("div",{className:o()(m.root,"rc-gallery-paddlenav","paddlenav","paddlenav-alpha",{"paddlenav-elevated":t,"paddlenav-super":r,"with-paddlenav-onhover":a,"with-paddlenav-visuallyhidden":l})},s().createElement(p,(0,n.A)({classes:{root:o()(m.previous,"paddlenav-arrow","paddlenav-arrow-previous"),disabled:o()({visuallyhidden:c})},"data-autom":"paddlenav-previous"},(0,D.OH)(h?j.e:j.R),d)),s().createElement(g,(0,n.A)({classes:{root:o()(m.next,"paddlenav-arrow","paddlenav-arrow-next"),disabled:o()({visuallyhidden:c})},"data-autom":"paddlenav-next"},(0,D.OH)(h?j.R:j.e),u)))};var W=a(4768);const z=(e,t)=>{let{renderDot:a=(()=>{}),classes:r={},...i}=e;return s().createElement("div",{className:o()(r.root,"rc-gallery-dotnav","dotnav"),ref:t},s().createElement(h,(0,n.A)({classes:{root:o()("dotnav-items"),item:o()(r.dot,"dotnav-item"),button:o()("rc-gallery-dotnav-button","dotnav-link",W.A.BODY),active:o()(r.active,"current")},renderDot:a},i)))},K=s().forwardRef(z),Q=window.asMetrics,J=(e,t,a)=>{Q&&Q.gallery&&Q.gallery.view&&window.asMetrics.gallery.view({area:e.slot||"",name:e.part||"",current:t+1,total:a,legacy:!0})},Z=(e,t)=>({items:e.map(((e,a)=>`${t.item} ${a+1}`)),previous:t.previous,next:t.next}),X=e=>{let{items:t,dotnav:a,dotnavProps:r={},paddlenav:i,paddlenavProps:l={},metrics:c,peek:d,onChange:u=(()=>{}),classes:m={},a11y:p,dir:g,...h}=e;const{viewport:f,assets:E}=(0,V.S)(),v={...Z(t,E),...p},y=i||"small"!==f&&!1!==i&&t.length>1,b=a||!1!==a,{root:A,image:S,...w}=m;return s().createElement(U,(0,n.A)({items:t,classes:{root:o()("rc-inline-gallery",A,{"rc-inline-gallery-peek":d,"rc-inline-gallery-autoscroll":h.autoScroll}),...w},onChange:(e,a)=>{u(e),c&&"autoScroll"!==a&&J(c,e,t.length)},renderItem:(e,t)=>s().createElement(q,{key:t,index:t},s().createElement(Y.Ay,{className:o()("rc-inline-gallery-image",S),data:e})),childrenBefore:b&&s().createElement(K,(0,n.A)({items:t,getButtonProps:(e,t)=>({"data-autom":`gallery-dot-nav-${t}`})},r)),a11y:v,dir:g},h),y&&s().createElement(G,(0,n.A)({elevated:!0,dir:g},l)))};var ee=a(3049);const te=e=>{let{className:t,...a}=e;return s().createElement(B,(0,n.A)({className:o()(t,"rc-overlay-gallery-item")},a))},ae=(e,t)=>({items:e.map(((e,a)=>`${t.item} ${a+1}`)),previous:t.previous,next:t.next}),ne=e=>{let{visible:t,onClose:a,items:r,dotnav:i,dotnavProps:l={},paddlenav:c,paddlenavProps:d={},overlayProps:u={},metrics:m,onChange:p=(()=>{}),classes:g={},a11y:h,footerContent:f,childrenBefore:E,childrenAfter:v,...y}=e;const{viewport:b,assets:A}=(0,V.S)(),S={...ae(r,A),...h},w=c||"small"!==b&&!1!==c,T=i||!1!==i,O=s().useRef(),{root:N,...C}=g,_={disableFocusIn:T,onEntered:()=>{if(O.current){const e=O.current.querySelector(".rc-gallery-dotnav-item.current");e&&e.focus()}}};return s().createElement(ee.A,(0,n.A)({isFullscreen:!0,noPadding:!0,visible:t,onClose:a},_,u),E,s().createElement(U,(0,n.A)({items:r,classes:{root:o()("rc-overlay-gallery",N),...C},onChange:(e,t)=>{p(e),m&&"autoScroll"!==t&&J(m,e,r.length)},renderItem:(e,t)=>s().createElement(te,{key:t,index:t},s().createElement(Y.Ay,{data:e})),childrenBefore:T&&s().createElement(K,(0,n.A)({items:r,ref:O},l)),a11y:S},y),w&&s().createElement(G,(0,n.A)({elevated:!0},d))),v,f&&s().createElement("div",(0,n.A)({className:o()("rc-overlay-gallery-footer",W.A.CAPTION)},(0,D.OH)(f))))}},5487:(e,t,a)=>{"use strict";a.d(t,{R:()=>n,e:()=>r});const n='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">\n<path d="M21.559,12.062 L15.618,17.984 L21.5221,23.944 C22.105,24.533 22.1021,25.482 21.5131,26.065 C21.2211,26.355 20.8391,26.4999987 20.4571,26.4999987 C20.0711,26.4999987 19.6851,26.352 19.3921,26.056 L12.4351,19.034 C11.8531,18.446 11.8551,17.4999987 12.4411,16.916 L19.4411,9.938 C20.0261,9.353 20.9781,9.354 21.5621,9.941 C22.1471,10.528 22.1451,11.478 21.5591,12.062 L21.559,12.062 Z" />\n</svg>',r='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36">\n<path d="M23.5587,16.916 C24.1447,17.4999987 24.1467,18.446 23.5647,19.034 L16.6077,26.056 C16.3147,26.352 15.9287,26.4999987 15.5427,26.4999987 C15.1607,26.4999987 14.7787,26.355 14.4867,26.065 C13.8977,25.482 13.8947,24.533 14.4777,23.944 L20.3818,17.984 L14.4408,12.062 C13.8548,11.478 13.8528,10.5279 14.4378,9.941 C15.0218,9.354 15.9738,9.353 16.5588,9.938 L23.5588,16.916 L23.5587,16.916 Z" />\n</svg>'},9376:(e,t,a)=>{"use strict";a.d(t,{E:()=>g,S:()=>p});var n=a(1594),r=a.n(n),s=a(791),i=a(1229);const o=[{name:"small",mediaQuery:"only screen and (max-width: 1023px) and (max-device-width: 736px)"},{name:"medium",mediaQuery:"only screen and (max-width: 1023px) and (max-device-width: 736px)"},{name:"large",mediaQuery:"only screen and (max-width: 1440px)"},{name:"xlarge",mediaQuery:"only screen and (min-width: 1441px)"}],l=e=>{for(let t=0;t<e.length;t+=1){const a=e[t];if(window.matchMedia(a.mediaQuery).matches)return a.name}return"large"},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{recalculate:t=!0,debounceWait:a=100,breakpoints:n=o}=e,[c,d]=r().useState(l(n)),u=(0,i.A)((()=>d(l(n))),a);return(0,s.A)("resize",t?u:void 0),[c]},d={open:"Open",close:"Close",top:"Top",right:"Right",bottom:"Bottom",left:"Left",next:"Next",previous:"Previous",selected:"Selected",show:"Show",hide:"Hide",play:"Play",pause:"Pause",mute:"Mute",unmute:"Unmute",loading:"Loading...",fullscreen:"Show fullscreen",pip:"Show picture-in-picture",airplay:"Show AirPlay",captions:"Show captions",showMore:"Show more",showLess:"Show less",more:"More",less:"Less",item:"Item",image:"Image",video:"Video",edit:"Edit",change:"Change",update:"Update",add:"Add",remove:"Remove",save:"Save",cancel:"Cancel",submit:"Submit",reset:"Reset",opensNewWindow:"(Opens in a new window)",galleryItem:"Gallery item"},u=()=>((0,n.useEffect)((()=>{const e=new CustomEvent("echoPerformanceNowEvent",{detail:{performanceNow:performance.now(),id:"react-app-render"}});window.dispatchEvent(e)}),[]),null),m=(0,n.createContext)({retina:!0,viewport:"large",assets:d}),p=()=>(0,n.useContext)(m),g=e=>{let{children:t}=e;const[a]=c(),n={...d,...window.GLOBAL_ASSETS,...window.assets,...window.testAssets},s={...window.fragments,...window.testFragments};return r().createElement(r().Fragment,null,r().createElement(m.Provider,{value:{viewport:a,assets:n,fragments:s}},t),r().createElement(u,null))}},6637:(e,t,a)=>{"use strict";a.d(t,{E:()=>n.E,useGlobalContext:()=>n.S});var n=a(9376)},1916:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>g});var n=a(8168),r=a(2224),s=a.n(r),i=a(1594),o=a.n(i),l=a(7923),c=a(2684);const d="loading"in HTMLImageElement.prototype,u=(e,t,a)=>{const n=c.parseUrl(e),r=c.parseQueryString(n.search);return Object.keys(t).forEach((e=>r[e]=t[e])),n.search="?"+function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object.keys(e).map((a=>{const n=t?.includes(a);return(n?a:encodeURIComponent(a))+"="+(n?e[a]:encodeURIComponent(""+e[a]))})).join("&")}(r,a),c.makeUrl(n)},m=e=>{let{src:t,srcSet:a,sources:n,alt:r,width:o,height:l,data:d}=e;const m=o||s().get(d,"width"),p=l||s().get(d,"height"),g=null!=r?r:s().get(d,"alt",""),h=s().get(d,"src",""),f=s().get(d,"srcSet.src",""),E=(0,i.useMemo)((()=>d&&d.srcSet?(e=>{if(!e||!e.src)return{};const[t,a]=e.src.split("?"),n=a?c.parseQueryString(a):{};return{src:e?.scaleParams2?c.extendUrlQuery(t,c.parseQueryString(e.scaleParams2||"")):c.extendUrlQuery(t,n)}})(d.srcSet):d),[h,f]),v=t?{src:t,srcSet:a}:E,y=s().get(d,"sources",[]),b=s().get(y,"[0].srcSet",""),A=(0,i.useMemo)((()=>b?(e=>e&&0!==e.length?e.map((e=>{if(e.srcSet){const[t,a]=e.srcSet.split("?"),n=a?c.parseQueryString(a):{};return{...e,srcSet:u(t,n,[".v"])}}return e})):[])(y):y),[y.length,b]);return{finalWidth:m,finalHeight:p,finalAlt:g,finalSrcAttrs:v,finalSources:n??A}},p=e=>{let{observerOptions:t,children:a}=e;const[n,r]=(0,l.A)({observerOptions:{rootMargin:"100px 0px 100px",...t}});return r?a:o().createElement("div",{ref:n})},g=e=>{let{src:t,srcSet:a,sources:r,alt:s,width:i,height:l,data:c,showInView:u,observerOptions:g,...h}=e;const{finalWidth:f,finalHeight:E,finalAlt:v,finalSrcAttrs:y,finalSources:b}=m({src:t,srcSet:a,sources:r,alt:s,width:i,height:l,data:c}),A=b?.length>1?o().createElement("picture",null,b.map((e=>o().createElement("source",{key:e.type,srcSet:e.srcSet,type:e.type}))),o().createElement("img",(0,n.A)({loading:d&&u?"lazy":void 0,width:f,height:E,alt:v,src:b[b.length-1].srcSet},h))):o().createElement("img",(0,n.A)({loading:d&&u?"lazy":void 0,width:f,height:E,alt:v,src:1===b?.length?b[0].srcSet:y?.src},h));return u&&!d?o().createElement(p,{observerOptions:g},A):A}},4441:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>n.Ay});var n=a(1916);a(6942),a(1594),a(7213),a(7923);a(2224)},6884:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(3049);a(9089)},9089:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i);var l=a(5911);const c=e=>{let{ariaLabel:t="Close",className:a,stickyClose:r,alignStart:i,children:c,...d}=e;return s().createElement("button",(0,n.A)({type:"button",className:o()("rc-overlay-close",a,{"rc-sticky":r,"rc-align-start":i}),"aria-label":t,"data-autom":"overlay-close"},d),s().createElement("span",(0,n.A)({className:"rc-overlay-closesvg"},(0,l.OH)('<svg width="21" height="21" class="as-svgicon as-svgicon-close as-svgicon-tiny as-svgicon-closetiny" role="img" aria-hidden="true"><path fill="none" d="M0 0h21v21H0z"/><path d="m12.12 10 4.07-4.06a1.5 1.5 0 1 0-2.11-2.12L10 7.88 5.94 3.81a1.5 1.5 0 1 0-2.12 2.12L7.88 10l-4.07 4.06a1.5 1.5 0 0 0 0 2.12 1.51 1.51 0 0 0 2.13 0L10 12.12l4.06 4.07a1.45 1.45 0 0 0 1.06.44 1.5 1.5 0 0 0 1.06-2.56Z"/></svg>'))),c)}},3049:(e,t,a)=>{"use strict";a.d(t,{A:()=>O});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i),l=a(5206),c=a(840),d=a(2423),u=a(791),m=a(5911),p=a(4792),g=a(4440);const{iosVersion:h}=p.Ez(),f=h>0,E=f&&h<15,v=HTMLElement.prototype.hasOwnProperty("inert");const y=new class{constructor(){this.map={},this.anyOverlayOpen=!1,this.scrollState={},this.initialPageState={processedNodes:[],originalValues:[],focusableNodes:[]}}update(e,t){this.map[e]=t;const a=Object.keys(this.map).every((e=>!this.map[e]));t&&!this.anyOverlayOpen?(this.initialPageState=(()=>{const e=document.getElementById("portal"),t=Array.from(document.querySelectorAll("body > *")).filter((e=>!e.matches("script,style"))),a=[],n=[],r=[];return t.forEach((t=>{if(t!==e)if(v){if(t.inert)return;a.push(t),t.toggleAttribute("inert")}else{const e=t.getAttribute("aria-hidden");if(null!==e&&"false"!==e)return;n.push(e),a.push(t),t.setAttribute("aria-hidden","true"),r.push(g.Wz(t))}})),v||r.forEach((e=>g.f3(e))),{processedNodes:a,originalValues:n,focusableNodes:r}})(),this.anyOverlayOpen=!0):!t&&a&&this.anyOverlayOpen&&((e=>{let{processedNodes:t,originalValues:a,focusableNodes:n}=e;t.forEach(((e,t)=>{if(v)e.toggleAttribute("inert");else{const n=a[t];null===n?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n)}})),v||n.forEach((e=>g.RP(e)))})(this.initialPageState),this.anyOverlayOpen=!1)}scrollLock(e){const t=document.documentElement,a=`data-core-overlay-${E?"open-ios-fixed":"open"}`;e?(f&&(this.scrollState.scrollX||(this.scrollState.scrollX=window.pageXOffset),this.scrollState.scrollY||(this.scrollState.scrollY=window.pageYOffset)),t.setAttribute(a,"")):setTimeout((()=>{!this.anyOverlayOpen&&t.hasAttribute(a)&&(t.removeAttribute(a),f&&(window.scrollTo(this.scrollState.scrollX||0,this.scrollState.scrollY||0),this.scrollState={}))}),0)}remove(e){delete this.map[e]}getMap(){return this.map}},b=(0,r.forwardRef)(((e,t)=>{let{in:a,visible:i=a,timeout:o=100,mountOnEnter:p=!0,onEntered:g,onExit:h,onExited:f,onClose:E=(()=>{}),returnFocusRef:v,noCover:b=!1,isFullscreen:A=!1,disableClickAway:S=!1,disableEsc:w=!1,disableFocusIn:T=!1,disableFocusOut:O=!1,ariaLabel:N,ariaDesc:C,ariaModal:_=!0,contentAttrs:I,role:D="dialog",className:L,children:k,...x}=e;const P=s().useId(),R=(0,r.useRef)(null),M=(0,m.E2)(R,t),F=(0,r.useRef)(null),H=(0,r.useRef)(null),U=document.getElementById("portal");(0,r.useEffect)((()=>{i&&H&&(H.current=document.activeElement),y.update(P,i)}),[i]);(0,r.useEffect)((()=>()=>{y.update(P,!1),y.scrollLock(!1),y.remove(P)}),[]),(0,u.A)("click",i?e=>{i&&!S&&R.current===e.target&&E(e)}:null),(0,u.A)("keydown",i?e=>{i&&!w&&e.keyCode===c.HP.Esc&&E(e)}:null);const $={"data-core-overlay":"","data-core-overlay-cover":b?void 0:"","data-core-overlay-fullscreen":A?"":void 0};return(0,l.createPortal)(s().createElement(d.A,(0,n.A)({ref:M,in:i,timeout:o,mountOnEnter:p,onEntered:()=>{y.scrollLock(!0),T||F.current&&F.current.focus(),g&&setTimeout(g,0)},onExit:()=>{y.scrollLock(!1),h&&setTimeout(h,0)},onExited:()=>{O||(v&&v.current?v.current.focus():H.current&&H.current.focus()),f&&setTimeout(f,0)},className:L},$,x),s().createElement("div",(0,n.A)({"data-core-overlay-content":"",tabIndex:-1,ref:F,role:D,"aria-labelledby":N,"aria-describedby":C,"aria-modal":_},I),k)),U||document.body)}));b.displayName="Overlay";const A=b;var S=a(9376),w=a(9089);const T=s().forwardRef(((e,t)=>{let{onClose:a,noPadding:r,doublePadding:i,fixedWidth:l=!0,wide:c,isFullscreen:d,noCloseButton:u,disableClickAway:m,footerContent:p,stickyClose:g,blur:h,startAlignClose:f,classes:E={root:"",content:"",close:""},className:v,children:y,closeButtonAttrs:b={},...T}=e;const{assets:O,viewport:N}=(0,S.S)();return s().createElement(A,(0,n.A)({className:o()("rc-overlay",v,E.root,d?"rc-overlay-fullscreen":"rc-overlay-popup",{"rc-overlay-fixed-width":l&&!d,"rc-overlay-content-nopadding":r,"rc-overlay-content-doublepadding":i,"rc-overlay-content-wide":c,"rc-overlay-with-footer":!!p,"rc-blur":h,"rc-overlay-no-close-button":u}),onClose:a,isFullscreen:d,disableClickAway:m,ref:t},T),d?s().createElement("div",{className:"rc-overlay-fullscreen-outer"},s().createElement("div",{className:o()(E.content,"rc-overlay-fullscreen-content")},y,p&&s().createElement("div",{className:"rc-overlay-footer"},p)),!u&&s().createElement(w.A,(0,n.A)({className:E.close,onClick:a,ariaLabel:O.close,stickyClose:g,alignStart:f},b))):s().createElement("div",{className:o()(E.content,"rc-overlay-popup-outer")},s().createElement("div",{className:"rc-overlay-popup-content"},y),p&&s().createElement("div",{className:"rc-overlay-footer"},p),!u&&s().createElement(w.A,(0,n.A)({className:E.close,onClick:a,ariaLabel:O.close,stickyClose:g,alignStart:f},b))),d||"small"!==N||m?null:s().createElement("div",{className:"rc-overlay-popup-dismiss",onClick:a}))}));T.displayName="Overlay";const O=T},9904:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>w,vH:()=>T.A});var n=a(8168),r=a(1594),s=a.n(r),i=a(2224),o=a.n(i),l=a(6942),c=a.n(l),d=a(840),u=a(5141),m=a(4768),p=a(9376);const g=s().createContext({}),h=()=>s().useContext(g);var f=a(7335);const E=e=>{let{className:t,...a}=e;return s().createElement(u.wb,(0,n.A)({rootTag:"ul",className:c()("rc-province-selector-tablist",t)},a))},v=s().forwardRef(((e,t)=>{let{index:a,name:r,label:i,className:o,...l}=e;const{selection:d}=h(),m=d[r]?s().createElement(s().Fragment,null,d[r],s().createElement("span",{className:"visuallyhidden"},i)):i;return s().createElement("li",{role:"presentation"},s().createElement(u.oz,(0,n.A)({index:a,className:c()("rc-province-selector-tab",o),ref:t},l),m))}));v.displayName="ProvinceSelectorTab";const y=e=>{let{className:t,children:a,...r}=e;return s().createElement(u.T2,(0,n.A)({className:c()("rc-province-selector-tab-panels",t)},r),a)},b=e=>{let{index:t,optionsLength:a,classes:r={},children:i,...o}=e;const{isMobile:l,optionsPerColumn:d,optionsHeight:m,mobileColumns:p,desktopColumns:g}=h(),E=l?p:g,v={height:`${(0,f.UR)(a,d,m,E)}px`};return s().createElement(u.Kp,(0,n.A)({index:t,className:c()("rc-province-selector-tab-panel",r.root)},o),s().createElement("ol",{className:c()("rc-province-selector-tab-options",r.list),style:v,role:"list"},i))},A=s().forwardRef(((e,t)=>{let{name:a,value:r,index:i,className:l,children:u,onClick:p,...g}=e;const{selection:f,onSelection:E}=h(),v=s().useRef(!1);return s().createElement("li",{role:"listitem",ref:v},s().createElement("button",(0,n.A)({type:"button",className:c()("rc-province-selector-option",m.A.BODY,l,{"rc-province-selector-option-selected":f[a]===r},`rc-province-selector-option-${a}`),"aria-current":f[a]===r||null,onClick:()=>{E(a,r),p&&p()},onKeyDown:e=>{const t=(()=>{const e=o().get(v,"current.nextSibling");return e?e.querySelector(".rc-province-selector-option"):null})(),n=(()=>{const e=o().get(v,"current.previousSibling");return e?e.querySelector(".rc-province-selector-option"):null})(),s=document.querySelectorAll(`.rc-province-selector-option-${a}`);switch(e.keyCode){case d.HP.Home:e.preventDefault(),s.length&&s[0].focus();break;case d.HP.End:e.preventDefault(),s.length&&s[s.length-1].focus();break;case d.HP.ArrowDown:case d.HP.ArrowRight:t&&t.focus(),e.preventDefault();break;case d.HP.ArrowUp:case d.HP.ArrowLeft:n&&n.focus(),e.preventDefault();break;case d.HP.Space:case d.HP.Return:e.preventDefault(),E(a,r)}},tabIndex:f[a]===r||0===i&&!f[a]?"0":"-1",ref:t},g),u))}));A.displayName="ProvinceSelectorOption";const S=s().forwardRef(((e,t)=>{let{activeTab:a,onTabChange:n=(()=>{}),tabs:r=[],selection:i={},onSelection:o=(()=>{}),optionsPerColumn:l=10,optionsHeight:d=62,mobileColumns:m,desktopColumns:h,classes:f={},children:E}=e;const{viewport:v}=(0,p.S)(),y="small"===v;return s().createElement(g.Provider,{value:{selection:i,onSelection:o,isMobile:y,optionsPerColumn:l,optionsHeight:d,mobileColumns:m,desktopColumns:h}},s().createElement("div",{className:c()("rc-province-selector",f.root),ref:t},s().createElement(u.Ay,{id:"rc-province-selector-tabs",className:c()("rc-province-selector-tabs",f.tabs),index:a,handleChange:n,count:r.length},E)))}));S.displayName="ProvinceSelectorTabs";const w=e=>{let{tabs:t,activeTab:a,onTabChange:r,selection:i,onSelection:l,...c}=e;return s().createElement(S,(0,n.A)({activeTab:a,onTabChange:r,selection:i,onSelection:l,tabs:t},c),s().createElement(E,null,t.map(((e,t)=>s().createElement(v,{key:e.name,index:t,name:e.name,label:e.label})))),s().createElement(y,null,t.map(((e,t)=>s().createElement(b,{key:e.name,index:t,name:e.name,"aria-label":e.label,optionsLength:o().get(e,"options.length",0)},o().get(e,"options",[]).map(((t,a)=>s().createElement(A,{key:t.value,name:e.name,value:t.value,index:a},t.label))))))))};var T=a(1434)},1434:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(1594),r=a.n(n),s=a(2224),i=a.n(s),o=a(7335);const l=e=>{let{addressLookupUrl:t,provinceSelectorTabs:a,onChange:n=(()=>{})}=e;const[s,l]=r().useState(0),[c,d]=r().useState([]),[u,m]=r().useState({}),p=c.filter((e=>e.options&&e.options.length>0));r().useEffect((()=>{(0,o.Fd)(t).then((e=>{return t=e,a.reduce(((e,a)=>{const n=i().get(t,`[${a.name}].data`);return n?[...e,{...a,options:n}]:e}),[]);var t})).then((e=>d(e)))}),[]);return{activeTab:s,setActiveTab:l,tabs:p,selection:u,handleSelection:(e,r)=>{const s=i().find(c,{name:e}),p=i().omit({...u,[e]:r},s.update),g=e=>{if(e.provinceCityDistrict)return n(e.provinceCityDistrict,p),void m(p);const t=(0,o.Td)(e),r=(u=a,g=c,h=t.options,f=s.update,u.reduce(((e,t)=>{const a=i().get(h,`[${t.name}].data`),n=i().find(g,{name:t.name});return f.includes(t.name)?a?[...e,{...t,options:a}]:e:a?[...e,{...t,options:a}]:n?[...e,n]:e}),[]));var u,g,h,f;d(r),m({...p,...t.selection}),l(Object.keys(r).length-1);const E=document.querySelectorAll(".rc-province-selector-tab");E.length&&E[E.length-1].focus()};(0,o.Fd)(t,p).then((e=>g(e)))},reset:()=>{l(0),m({}),d((e=>e.slice(0,1)))}}}},7335:(e,t,a)=>{"use strict";a.d(t,{Fd:()=>c,Td:()=>d,UR:()=>l});var n=a(2224),r=a.n(n),s=a(3808),i=a(2684),o=a(5284);const l=(e,t,a,n)=>{if(!!n){const t=Math.ceil(e/n);return Math.round(t*a)||0}const r=e*a,s=t*a;return Math.min(r,s)},c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(0,s.A)("province-selector/utils/fetchData"),n=Object.keys(t).length?i.extendUrlQuery(e,t):e;return(0,o.hI)(n).then((e=>r().get(e,"body",{}))).catch((e=>a.error(e)))},d=e=>Object.keys(e).reduce(((t,a)=>("object"==typeof e[a]&&(t.options[a]=e[a]),"string"==typeof e[a]&&(t.selection[a]=e[a]),t)),{selection:{},options:{}})},719:(e,t,a)=>{"use strict";a.d(t,{jl:()=>u,Kp:()=>n.Kp,T2:()=>n.T2,Ay:()=>m});var n=a(5141),r=a(8168),s=a(1594),i=a.n(s),o=a(6942),l=a.n(o),c=a(2224),d=a.n(c);const u=e=>{let{items:t,keys:a=[],attrs:s=[],classes:o={root:"",items:"",item:"",link:""},className:c,...u}=e;const{selectedIndex:m}=(0,n.f2)();return i().createElement("div",{className:l()("tabnav",c,o.root)},i().createElement(n.wb,(0,r.A)({rootTag:"ul",className:l()("tabnav-items",o.items)},u),t.map(((e,t)=>{const c=d().get(s,`[${t}]`,{});return i().createElement("li",{className:l()("tabnav-item",o.item),role:"none",key:a[t]||e},i().createElement(n.oz,(0,r.A)({index:t,className:l()("tabnav-link",o.link,{current:m===t})},c),e))}))))},m=n.Ay},1265:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(4768)},4768:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n={HEADLINE_STANDALONE:"typography-headline-standalone",HEADLINE_SUPER:"typography-headline-super",HEADLINE_ELEVATED:"typography-headline-elevated",HEADLINE:"typography-headline",HEADLINE_REDUCED:"typography-headline-reduced",QUOTE:"typography-quote",QUOTE_REDUCED:"typography-quote-reduced",CALLOUT:"typography-callout",MANIFESTO:"typography-manifesto",EYEBROW_SUPER:"typography-eyebrow-super",EYEBROW_ELEVATED:"typography-eyebrow-elevated",EYEBROW:"typography-eyebrow",EYEBROW_REDUCED:"typography-eyebrow-reduced",LABEL:"typography-label",INTRO_ELEVATED:"typography-intro-elevated",INTRO:"typography-intro",TOUT:"typography-tout",BODY:"typography-body",BODY_TIGHT:"typography-body-tight",BODY_REDUCED:"typography-body-reduced",BODY_REDUCED_TIGHT:"typography-body-reduced-tight",CAPTION:"typography-caption"}},8747:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,R:()=>d.A});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i);const l=(0,r.forwardRef)(((e,t)=>{let{sources:a=[],tracks:r=[],fallback:i=s().createElement("p",null,"Video is not supported"),className:l,...c}=e;return s().createElement("video",(0,n.A)({ref:t,className:o()("rc-video",l)},c),a.map((e=>s().createElement("source",{key:e.src,src:e.src,type:e.type}))),r.map((e=>s().createElement("track",{key:e.label,src:e.src,label:e.label,srcLang:e.srclang,default:e.default}))),i)}));l.displayName="Video";const c=l;var d=a(1954)},1954:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(1594),r=a(3808),s=a(5911);const i=e=>e?Math.floor(10*e.volume):0,o=e=>{const t=Math.floor(e,10),a=Math.floor(t/60/60);return(a>0?`${a.toString().padStart(2,"0")}:`:"")+`${(Math.floor(t/60)-60*a).toString().padStart(2,"0")}:`+(t%60).toString().padStart(2,"0")},l=function(){let{withTimeUpdate:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,n.useRef)(null),[a,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(!1),[p,g]=(0,n.useState)(!1),[h,f]=(0,n.useState)(!1),[E,v]=(0,n.useState)(!1),[y,b]=(0,n.useState)(!1),[A,S]=(0,n.useState)(0),w=(0,n.useRef)(0),[T,O]=(0,n.useState)(!1),[N,C]=(0,n.useState)(!1),[_,I]=(0,n.useState)([]),[D,L]=(0,n.useState)(!1),[k,x]=(0,n.useState)(0),[P,R]=(0,n.useState)(0),[M,F]=(0,n.useState)(!1),[H,U]=(0,n.useState)(!1),[$,B]=(0,n.useState)(!1),V=(0,n.useRef)(!1);async function Y(){const e=(0,r.A)("use-video/useVideo/play"),a=t.current;if(a&&(a.paused||a.ended))try{await a.play(),f(!0),O(!0),v(!1)}catch(t){f(!1),e.error(t)}}const q=()=>{const e=t.current;e&&(e.pause(),f(!1))},j=e=>{const a=t.current;if(a){const t=(0,s.qE)(e,0,10);0===t?(a.muted=!0,b(!0)):(a.muted=!1,b(!1)),a.volume=t/10,S(t)}},G=()=>{const e=t.current;e&&!y&&(w.current=A,j(0),e.muted=!0,b(!0))},W=()=>{const e=t.current;e&&y&&(j(w.current),e.muted=!1,b(!1))},z=e=>{const a=t.current;a&&e>=0&&e<k&&(a.currentTime=e,R(e))},K=e=>{const a=t.current;if(a){let t=!1;const n=_.map(((n,r)=>{const s=r===e;return a.textTracks[r]&&(a.textTracks[r].mode=s?"showing":"hidden",s&&(t=!0)),n.selected=s,n}));L(t),I(n)}};return(0,n.useEffect)((()=>{const e=t.current;if(e){if(S(i(e)),F(e.webkitSupportsPresentationMode&&"function"==typeof e.webkitSetPresentationMode),e.textTracks.length>0){const t=[];for(let a=0;a<e.textTracks.length;a+=1)t.push({label:e.textTracks[a].label,language:e.textTracks[a].language,selected:!1});e.textTracks.length>1&&t.push({label:"Off",language:null,selected:!0}),I(t)}const t=e=>U(e&&"available"===e.availability);window.WebKitPlaybackTargetAvailabilityEvent&&(e.addEventListener("webkitplaybacktargetavailabilitychanged",t),setTimeout((()=>{e.removeEventListener("webkitplaybacktargetavailabilitychanged",t)}),1e4))}}),[]),(0,n.useEffect)((()=>{const a=t.current;if(a){const t=()=>{d(!1),l(!0),x(a.duration)},n=()=>{d(!1),l(!0)},r=()=>{V.current=!1,setTimeout((()=>{V.current||d(!0)}),400)},s=()=>{V.current=!0,d(!1)},o=()=>m(!0),c=()=>{v(!0),f(!1)},u=()=>R(a.currentTime),p=()=>C(!!document.fullscreenElement),g=()=>C(!!document.webkitIsFullScreen),h=()=>C(!!document.mozFullScreen),E=()=>C(!!document.msFullscreenElement),y=()=>f(!1),A=()=>f(!0),w=()=>{S(i(a)),b(a.muted)},T=()=>B(!0),O=()=>B(!1);return a.addEventListener("loadedmetadata",t),a.addEventListener("loadeddata",n),a.addEventListener("waiting",r),a.addEventListener("playing",s),a.addEventListener("canplay",s),a.addEventListener("canplaythrough",s),a.addEventListener("stalled",o),a.addEventListener("ended",c),e&&a.addEventListener("timeupdate",u),document.addEventListener("fullscreenchange",p),document.addEventListener("webkitfullscreenchange",g),document.addEventListener("mozfullscreenchange",h),document.addEventListener("msfullscreenchange",E),a.addEventListener("pause",y),a.addEventListener("play",A),a.addEventListener("volumechange",w),a.addEventListener("webkitbeginfullscreen",T),a.addEventListener("webkitendfullscreen",O),()=>{a.removeEventListener("loadedmetadata",t),a.removeEventListener("loadeddata",n),a.removeEventListener("waiting",r),a.removeEventListener("playing",s),a.removeEventListener("canplay",s),a.removeEventListener("canplaythrough",s),a.removeEventListener("stalled",o),a.removeEventListener("ended",c),e&&a.removeEventListener("timeupdate",u),document.removeEventListener("fullscreenchange",p),document.removeEventListener("webkitfullscreenchange",g),document.removeEventListener("mozfullscreenchange",h),document.removeEventListener("msfullscreenchange",E),a.removeEventListener("pause",y),a.removeEventListener("play",A),a.removeEventListener("volumechange",w),a.removeEventListener("webkitbeginfullscreen",T),a.removeEventListener("webkitendfullscreen",O)}}}),[e]),(0,n.useEffect)((()=>{!N&&_.length>0&&(()=>{const e=t.current;if(e){let t=-1;[...e.textTracks].forEach(((e,a)=>{"showing"===e.mode&&(t=a)})),K(t)}})()}),[N]),{ref:t,state:{isLoaded:a,isWaiting:c,isStalled:u,isError:p,isPlaying:h,isEnded:E,isMuted:y,volume:A,isTouched:T,isFullscreen:N,duration:k,currentTime:P,durationString:o(k),currentTimeString:o(P),currentTimePercent:(0,s.qE)(P/k*100,0,100)||0,timeRemainingString:o(k-P),captions:_,isCaptionsOn:D,isPIPSupported:M,isAirPlaySupported:H,iosFullScreen:$},controls:{handleError:()=>{g(!0)},play:Y,pause:q,togglePlay:()=>{h?q():Y()},stop:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const a=t.current;a&&(q(),a.currentTime=0,e&&v(!1))},mute:G,unmute:W,toggleMute:()=>{t.current&&(y?W():G())},volumeUp:()=>{const e=t.current;e&&A<10&&(e.muted=!1,b(!1),j(A+1))},volumeDown:()=>{t.current&&A>0&&j(A-1)},setVolume:j,toggleFullscreen:()=>{const e=t.current;e&&(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement?(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),C(!1)):(e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen(),C(!0)))},setCurrentTime:z,setCurrentTimePercent:e=>{const a=t.current;if(a){const t=e*a.duration/100;z(t)}},setCaption:K,toggleAirPlay:()=>{const e=t.current;e&&H&&window.WebKitPlaybackTargetAvailabilityEvent&&e.webkitShowPlaybackTargetPicker()},togglePIP:()=>{const e=t.current;e&&M&&e.webkitSetPresentationMode&&e.webkitSetPresentationMode("picture-in-picture"===e.webkitPresentationMode?"inline":"picture-in-picture")}}}}},2722:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(8168),r=a(1594),s=a.n(r),i=a(5206),o=a(5911);const l=e=>{let{message:t="",...a}=e;const r=s().useId(),l=document.getElementById("portal")||document.body;return(0,i.createPortal)(s().createElement("span",(0,n.A)({id:`announce-message-${r}`,key:`announce-message-${r}`,"aria-live":"polite",role:"status","data-core-announce-message":!0},a,(0,o.OH)(t))),l)}},2323:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(1594),r=a.n(n),s=a(3680),i=a(2722);const o="idle",l="pending",c="finished",d={pending:""},u=500,m=e=>{let{isPending:t=!1,messages:a=d,finishedDelay:m=u,resetDelay:p=s.E}=e;const[g,h]=(0,n.useState)(o),[f,E]=(0,n.useState)(null),{pending:v="",finished:y=""}=a;return(0,n.useEffect)((()=>{t&&g===o?(E(v),h(l)):t||g!==l?g===c&&setTimeout((()=>{E(null),h(o)}),p):setTimeout((()=>{E(y),h(c)}),m)}),[g,t]),r().createElement(i.A,{message:f||""})}},7427:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>n.A,oM:()=>r.A});var n=a(2722),r=(a(2323),a(3680))},3680:(e,t,a)=>{"use strict";a.d(t,{A:()=>s,E:()=>r});var n=a(1594);const r=1e3,s=function(){let{resetDelay:e=r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,a]=(0,n.useState)("");return[t,t=>{a(t),setTimeout((()=>a("")),e)}]}},9283:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i),l=a(840),c=a(5911),d=a(6444);const u=(e,t)=>{if(!t.current)return;const a=t.current,n=a?a.querySelector(`[data-option-index="${e}"]`):null;if(a&&n&&a.scrollHeight>a.clientHeight){const e=n,t=a.clientHeight+a.scrollTop,r=e.offsetTop+e.offsetHeight;r>t?a.scrollTop=r-a.clientHeight:e.offsetTop<a.scrollTop&&(a.scrollTop=e.offsetTop)}},m=(e,t)=>{let{id:a,className:r,value:i,options:m,onChange:p=(()=>{}),onFocus:g=(()=>{}),onBlur:h=(()=>{}),onKeyDown:f=(()=>{}),onSelection:E=(()=>{}),onHover:v=(()=>{}),getOptionValue:y=(e=>e),getOptionDisabled:b=(()=>!1),getPosition:A,renderInput:S=(e=>s().createElement("input",e)),renderOption:w=(e=>e),selectFirst:T=!1,selectOnHover:O=!1,closeOnSelection:N=!0,classes:C={},optionsHeader:_,wrapperAttrs:I,...D}=e;const[L,k]=s().useState(!1),[x,P]=s().useState(-1),R=s().useRef(null),M=s().useRef(null),F=s().useRef(null),H=(0,d.y)(F,{observe:L}),U=(0,c.E2)(F,t),$=()=>{k(!1),P(-1)},B=e=>E(y(m[e]),e),V=e=>{-1!==x&&e.preventDefault();const t=(e=>{if(e===m.length-1)return e;let t=e,a=!1;for(;!a&&t<m.length-1;)t+=1,a=!b(m[t]);return a?t:e})(x);P(t),u(t,M),v(y(m[t]),t),L||k(!0),O&&B(t)},Y=e=>{-1!==x&&e.preventDefault();const t=(e=>{if(-1===e)return e;if(0===e)return-1;let t=e,a=!1;for(;!a&&t>0;)t-=1,a=!b(m[t]);return a?t:-1})(x);P(t),u(t,M),v(y(m[t]),t),L||k(!0),O&&B(t)},q=s().useId(),j=a||q,G=`${j}_listbox`,W=x>=0?`${G}_option_${x}`:void 0,z=Boolean(L&&m.length),K=A?A(H):(e=>{if(!e)return{};const{width:t,right:a}=e;return{width:t,left:`${a-t+window.pageXOffset}px`}})(H);return s().createElement("div",(0,n.A)({ref:R,"data-core-autocomplete":!0,className:o()(r,C.root)},I),S({id:j,value:i,role:"combobox","aria-autocomplete":"list","aria-expanded":z,...D,"aria-owns":G,"aria-activedescendant":W,ref:U,onChange:e=>{L||k(!0),p(e),T&&P(0)},onFocus:e=>{k(!0),P(-1),g(e)},onBlur:e=>{requestAnimationFrame((()=>{document.activeElement!==R.current&&document.activeElement!==F.current&&M.current&&!M.current.contains(document.activeElement)&&($(),h(e))}))},onKeyDown:e=>{switch(e.keyCode){case l.HP.ArrowUp:Y(e);break;case l.HP.ArrowDown:V(e);break;case l.HP.Home:e.preventDefault(),P(0),u(0,M),v(y(m[0]),0),L||k(!0),O&&B(0);break;case l.HP.End:e.preventDefault(),(()=>{const e=m.length-1;P(e),u(e,M),v(y(m[e]),e),L||k(!0),O&&B(e)})();break;case l.HP.Return:(e=>{const t=m[x],a=b(t);t&&!a&&L&&(e.preventDefault(),B(x),N&&$())})(e);break;case l.HP.Esc:L&&e.stopPropagation(),$()}f(e)}}),s().createElement("div",{"data-core-autocomplete-popover":!0,"data-core-autocomplete-popover-show":z,style:K,ref:M,className:o()(C.popoverWrapper,{[C.popoverWrapperShow||""]:z,[C.popoverWrapperHide||""]:!z})},_,s().createElement("ul",{role:"listbox",id:G,"data-core-autocomplete-options-list":!0,className:o()(C.optionsList,{[C.optionsListShow||""]:z,[C.optionsListHide||""]:!z}),tabIndex:-1},m.map(((e,t)=>{const a=y(e),n=b(e),r=x===t;return s().createElement("li",{key:a,id:`${G}_option_${t}`,role:"option","data-core-autocomplete-option":!0,className:C.option,"data-option-index":t,onClick:()=>{n||(E(a,t),F.current&&F.current.focus(),N&&$())},onMouseOver:()=>{n||(P(t),v(a,t),O&&E(a,t))},tabIndex:-1,"aria-selected":r,"aria-disabled":n},w(e,r,t))})))))},p=s().forwardRef(m)},837:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i),l=a(6910);const c=e=>{let{disabled:t,classes:a={},children:r,...i}=e;const c=(0,l.A)(t);return s().createElement("div",(0,n.A)({ref:c,className:o()(a.root,{[a.disabled||""]:t}),"data-core-disabled":t},i),r)}},7404:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(1594),r=a.n(n);const s=(0,a(3808).A)("error/component");class i extends r().Component{constructor(e){super(e),this.state={error:null,errorInfo:null}}componentDidCatch(e,t){this.setState({error:e,errorInfo:t}),s.error(function(e,t){const a={message:e.message,stack:e.stack||e.error&&e.error.stack,name:e.name};return t&&t.componentStack&&(a.stack=`stack: ${a.stack} componentStack: ${t.componentStack}`),{...e,...a}}(e,t))}render(){const{error:e,errorInfo:t}=this.state,{children:a,renderError:n}=this.props;return e?n?n({...this.props,error:e,errorInfo:t}):null:a||null}}},1229:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(1594),r=a(2224),s=a.n(r);const i=(e,t,a)=>(0,n.useCallback)(s().debounce(e,t,a),[])},6910:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(1594),r=a.n(n),s=a(4440);const i=e=>{const t=r().useRef(null),a=r().useRef(null);return r().useEffect((()=>{t.current&&(e?(a.current=s.Wz(t.current),s.f3(a.current),a.current.forEach((e=>e.setAttribute("aria-disabled",!0)))):a.current&&(s.RP(a.current),a.current.forEach((e=>e.removeAttribute("aria-disabled")))))}),[e]),t}},7923:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1594);a(5127);const r=e=>{const{observerOptions:t={},triggerOnce:a=!0,onChange:r=(()=>{})}=e,s=(0,n.useRef)(null),i=(0,n.useRef)(null),[o,l]=(0,n.useState)({inView:!1,entry:null});return[(0,n.useCallback)((e=>{s.current&&i.current&&i.current.unobserve(s.current),e&&(i.current=((e,t,a)=>{const n=new IntersectionObserver((e=>{e.forEach((e=>{const{isIntersecting:n,intersectionRatio:r}=e;let s=!1;void 0!==n&&(s=n||r>=t.threshold,a(s,e))}))}),t);return n.observe(e),n})(e,t,((t,n)=>{l({inView:t,entry:n}),t&&a&&i.current.unobserve(e),r(t,n)}))),s.current=e}),[a]),o.inView,o.entry]}},3151:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1594);const r=e=>{const t=(0,n.useRef)(e);return(0,n.useEffect)((()=>{t.current=e})),t.current}},9573:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1594);const r=a.n(n)().useId},791:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});var n=a(1594);const r=(e,t)=>{(0,n.useEffect)((()=>(e&&t&&window.addEventListener(e,t),()=>{e&&t&&window.removeEventListener(e,t)})),[e,t])}},6444:(e,t,a)=>{"use strict";a.d(t,{y:()=>n.A});var n=a(9072)},9072:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(1594);
/*!
@license
The MIT License (MIT)

Copyright (c) 2018-2022, React Training LLC

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
the Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
const r=!1,s=["bottom","height","left","right","top","width"],i=new Map;let o=0;const l=()=>{const e=[];i.forEach(((t,a)=>{const n=a.getBoundingClientRect();(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.some((a=>e[a]!==t[a]))})(n,t.rect)&&e.push({...t,rect:n})})),e.forEach((e=>{e.callbacks.forEach((t=>t(e.rect)))})),o=window.requestAnimationFrame(l)};function c(e,t){const a=t?.observe??!0,s=t?.onChange,[c,d]=n.useState(e.current),u=n.useRef(!1),m=n.useRef(!1),[p,g]=n.useState(null),h=n.useRef(s);return n.useLayoutEffect((()=>{h.current=s,e.current!==c&&d(e.current)})),n.useLayoutEffect((()=>{c&&!u.current&&(u.current=!0,g(c.getBoundingClientRect()))}),[c]),n.useLayoutEffect((()=>{if(!a)return()=>{};let t=c;if(m.current||(m.current=!0,t=e.current),!t)return r&&console.warn("[@aos/react-core/rect]: you need to place the ref"),()=>{};const n=(s=t,d=e=>{h.current&&h.current(e),g(e)},{observe(){const e=0===i.size;if(i.has(s)){const e=i.get(s);e&&e.callbacks.push(d)}else i.set(s,{rect:void 0,hasRectChanged:!1,callbacks:[d]});e&&l()},unobserve(){const e=i.get(s);if(e){const t=e.callbacks.indexOf(d);t>=0&&e.callbacks.splice(t,1),e.callbacks.length||i.delete(s),i.size||cancelAnimationFrame(o)}}});var s,d;return n.observe(),()=>{n.unobserve()}}),[a,c,e]),p}},5141:(e,t,a)=>{"use strict";a.d(t,{oz:()=>m,wb:()=>u,Kp:()=>E,T2:()=>f,Ay:()=>l,f2:()=>o});var n=a(8168),r=a(1594),s=a.n(r);const i=s().createContext({}),o=()=>{const e=s().useContext(i);if(!e)throw new Error("Tabs compound components cannot be rendered outside the Tabs component");return e},l=e=>{let{rootTag:t="div",index:a,defaultIndex:o=0,handleChange:l=(()=>{}),count:c=1,id:d,children:u,...m}=e;const p=s().useId(),g=d||p,h=(0,r.useRef)(!1),{current:f}=(0,r.useRef)(void 0!==a),[E,v]=(0,r.useState)(o),[y,b]=(0,r.useState)(!1),[A,S]=(0,r.useState)(""),w={isControlled:f,uid:g,doFocus:h,count:c,selectedIndex:f?a:E,handleSelect:e=>{h.current=!0,f||v(e),l(e)},height:A,adjustHeight:(e,t)=>{const a=e?e.getBoundingClientRect().height:"";"onEnter"===t?b(!0):"onEntering"===t?S(`${a}px`):"onEntered"===t&&setTimeout((()=>b(!1)),50)}};return s().createElement(t,(0,n.A)({"data-core-tabs":"","data-core-tabs-transition-done":y?void 0:"",id:g},m),s().createElement(i.Provider,{value:w},u))};var c=a(840),d=a(5911);const u=e=>{let{rootTag:t="div",children:a,...r}=e;return s().createElement(t,(0,n.A)({"data-core-tabs-tablist":"",role:"tablist"},r),a)},m=s().forwardRef(((e,t)=>{let{index:a,onClick:i=(()=>{}),onKeyDown:l=(()=>{}),children:u,...m}=e;const{selectedIndex:p,uid:g,doFocus:h,handleSelect:f,count:E}=o(),v=(0,r.useRef)(null),y=(0,d.E2)(v,t),b=p===a;(0,r.useEffect)((()=>{b&&v.current&&h.current&&(h.current=!1,v.current.focus())}),[b,h]);return s().createElement("button",(0,n.A)({type:"button","data-core-tabs-tab":"","data-core-tabs-tab-selected":b?"":void 0,role:"tab",id:`tab-${g}-${a}`,tabIndex:b?0:-1,"aria-selected":b,"aria-controls":`panel-${g}-${a}`,onClick:e=>{f(a),i(e)},onKeyDown:e=>{((e,t,a,n)=>{let r;const s=a-1;switch(e.keyCode){case c.HP.ArrowRight:return e.preventDefault(),r=t<s?t+1:0,n(r);case c.HP.ArrowLeft:return e.preventDefault(),r=t>0?t-1:s,n(r);default:;}})(e,a,E,f),l(e)},ref:y},m),u)}));m.displayName="Tab";var p=a(2224),g=a.n(p),h=a(7213);const f=e=>{let{rootTag:t="div",children:a,...r}=e;const{height:i}=o();return s().createElement(t,(0,n.A)({"data-core-tabs-panels":"",style:{height:i}},r),a)},E=e=>{let{index:t,onEnter:a=g().noop,onEntering:r=g().noop,onEntered:i=g().noop,children:l,...c}=e;const{uid:d,selectedIndex:u,adjustHeight:m}=o(),p=u===t;return s().createElement(h.A,(0,n.A)({"data-core-tabs-panel":"","data-core-tabs-panel-selected":p?"":void 0,in:p,id:`panel-${d}-${t}`,role:"tabpanel","aria-labelledby":`tab-${d}-${t}`,onEnter:e=>{m(e,"onEnter"),a(e)},onEntering:e=>{m(e,"onEntering"),r(e)},onEntered:e=>{m(e,"onEntered"),i(e)},appear:!0},c),l)}},5925:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(5398)},5398:(e,t,a)=>{"use strict";a.d(t,{A:()=>b});var n=a(8168),r=a(1594),s=a.n(r),i=a(840),o=a(791),l=a(2423),c=a(6444);const d=(e,t)=>{const a={};return Object.keys(t).forEach((n=>{a[n]=((e,t,a)=>n=>{e.props[t]&&"function"==typeof e.props[t]&&e.props[t](n),a(n)})(e,n,t[n])})),a},u="top_start",m="top",p="top_end",g="top_auto",h="right",f="left",E="bottom",v=(0,r.forwardRef)(((e,t)=>{let{visible:a,triggerEl:i,position:o,centered:l=!1,offset:d=0,noTip:v,ariaLabel:y,children:b,...A}=e;const S=(0,c.y)(t,{observe:a}),w=(0,c.y)(i,{observe:a}),T=(0,r.useRef)({}),O=w&&S&&o===g?((e,t)=>{const a=e.x+e.width/2,n=t.width/2,r=document.body.offsetWidth-n;let s=m;return a<n?s=u:a>r&&(s=p),s})(w,S):o;w&&S&&a&&(T.current=((e,t,a,n,r)=>{if(!e||!t)return{visibility:"hidden"};const s=n?(t.width-e.width)/2:0,i=n?(t.height-e.height)/2:0;switch(a){case h:return{insetInlineStart:`${e.width+r}px`,top:-e.height-i+"px"};case f:return{insetInlineStart:-t.width-r+"px",top:-e.height-i+"px"};case E:return{insetInlineStart:-s+"px",top:`${r}px`};case u:return{insetInlineStart:e.width/2-24+"px",top:-r-t.height-e.height+"px"};case p:return{insetInlineStart:-t.width+e.width/2+24+"px",top:-r-t.height-e.height+"px"};default:return{insetInlineStart:-s+"px",top:-r-t.height-e.height+"px"}}})(w,S,O,l,d));const N={"data-core-tooltip-content":"","data-core-tooltip-visible":a?"":void 0,"data-core-tooltip-withtip":v?void 0:"",[`data-core-tooltip-${O}`]:"","aria-hidden":!a||void 0};return s().createElement("div",(0,n.A)({ref:t,style:T.current,role:"tooltip","aria-label":y},N,A),b)}));v.displayName="TooltipContent";const y=(0,r.forwardRef)(((e,t)=>{let{visible:a,className:r,...i}=e;return s().createElement(l.A,{in:a,timeout:100,"data-core-tooltip-trans":"",className:r},s().createElement(v,(0,n.A)({ref:t,visible:a,tabIndex:-1},i)))}));y.displayName="TooltipPopup";const b=e=>{let{defaultVisible:t=!1,visible:a,handleChange:l=(()=>{}),content:c,ariaLabel:u,position:m="top",centered:p=!0,hideDelay:g=200,restDelay:h=100,offset:f=10,noTip:E,disableBlur:v,disableHover:b,autoFocus:A,className:S,id:w,children:T,focusOnClick:O,...N}=e;const C=s().useId(),_=w||C,I=(0,r.useRef)(null),D=(0,r.useRef)(null),L=(0,r.useRef)(null),k=(0,r.useRef)(!1),{current:x}=(0,r.useRef)(void 0!==a),[P,R]=(0,r.useState)(t),M=x?a:P,F=()=>{x||R(!0),l(!0),A&&setTimeout((()=>{D.current&&D.current.focus()}),g)},H=e=>{L.current=setTimeout((()=>{x||R(!1),l(!1),A&&setTimeout((()=>{D.current&&D.current.contains(document.activeElement)&&I.current&&I.current.focus()}),100)}),e?g:0),k.current=!1};return(0,o.A)("click",(e=>{if(M&&I.current){const t=e.target!==I.current&&!I.current.contains(e.target),a=D.current&&D.current.contains(e.target);t&&!a&&H(!1)}})),(0,o.A)("resize",(()=>{M&&H(!1)})),(0,o.A)("keydown",(e=>{M&&e.keyCode===i.HP.Esc&&H(!1)})),s().createElement("div",{"data-core-tooltip":"",className:S},s().cloneElement(T,{"data-core-tooltip-trigger":"","aria-describedby":M?_:void 0,ref:I,...d(T,{onClick:()=>{k.current=!0,b&&M?H(!1):F(),I.current&&O&&I.current.focus()},onMouseEnter:()=>{clearTimeout(L.current),b||(L.current=setTimeout((()=>{F()}),h))},onFocus:()=>{b||F()},onMouseLeave:()=>{k.current||v||(clearTimeout(L.current),H(!0))},onBlur:()=>{k.current||v||H(!1)}})}),s().createElement(y,(0,n.A)({ref:D,triggerEl:I,visible:M,position:m,centered:p,offset:f,noTip:E,id:_,ariaLabel:u},N),c))}},2423:(e,t,a)=>{"use strict";a.d(t,{A:()=>g});var n=a(8168),r=a(1594),s=a.n(r),i=a(6495),o=a(6942),l=a.n(o),c=a(5911),d=a(740),u=a(5428),m=a(7157);const p=(e,t)=>{let{className:a,in:o,timeout:p=400,classNames:g="r-fade-transition",appear:h=!1,onEnter:f,onEntering:E,onEntered:v,onExit:y,onExiting:b,onExited:A,children:S,...w}=e;const T=(0,r.useRef)(null),O=(0,c.E2)(T,t),N=(0,r.useRef)(!1),{finalTransitionClass:C,setTransitionHidden:_}=(0,d.A)(o,h,g),I=(0,u.Ay)(p,T.current);return s().createElement(i.A,(0,n.A)({in:o,timeout:I,appear:h,classNames:g,onEnter:(0,m.A)(f,T.current),onEntering:(0,m.A)(E,T.current),onEntered:(0,m.A)(v,T.current),onExit:()=>{N.current=!0,y&&y(T.current)},onExiting:(0,m.A)(b,T.current),onExited:()=>{N.current=!1,_(),A&&A(T.current)},className:l()(a,N.current?"":C),nodeRef:T},w),s().createElement("div",{ref:O,"aria-hidden":!o||void 0,"data-core-fade-transition-wrapper":""},S))},g=(0,r.forwardRef)(p)},4680:(e,t,a)=>{"use strict";a.d(t,{A:()=>g});var n=a(8168),r=a(1594),s=a.n(r),i=a(6495),o=a(6942),l=a.n(o),c=a(5911),d=a(740),u=a(5428),m=a(7157);const p=(e,t)=>{let{className:a,in:o,timeout:p=400,classNames:g="r-height-transition",appear:h=!1,onEnter:f,onEntering:E,onEntered:v,onExit:y,onExiting:b,onExited:A,children:S,...w}=e;const T=(0,r.useRef)(null),O=(0,c.E2)(T,t),N=(0,r.useRef)(!1),C=(0,r.useRef)(null),[_,I]=(0,r.useState)(""),D=()=>C.current?C.current.getBoundingClientRect().height:"",L=()=>{o&&T.current&&(T.current.style.height="")};(0,r.useLayoutEffect)((()=>{const e=D();I(o?`${e}px`:"0px")}),[I,o]),(0,r.useEffect)((()=>{setTimeout(L,p)}),[]);const{finalTransitionClass:k,setTransitionHidden:x}=(0,d.A)(o,h,g),P=(0,u.Ay)(p,T.current);return s().createElement(i.A,(0,n.A)({in:o,appear:h,timeout:P,classNames:g,onEnter:(0,m.A)(f,T.current),onEntering:(0,m.A)(E,T.current),onEntered:()=>{L(),v&&v(T.current)},onExit:()=>{if(N.current=!0,T.current){const e=D();T.current.style.height=`${e}px`}y&&y(T.current)},onExiting:(0,m.A)(b,T.current),onExited:()=>{N.current=!1,x(),A&&A(T.current)},className:l()(a,N.current?"":k),nodeRef:T},w),s().createElement("div",{ref:O,style:{height:_},"aria-hidden":!o||void 0,"data-core-height-transition-wrapper":""},s().createElement("div",{ref:C,"data-core-height-transition-content":""},S)))},g=(0,r.forwardRef)(p)},7213:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A,x:()=>r.A});var n=a(2423),r=a(4680)},7157:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n=(e,t)=>{if(e)return()=>e(t)}},740:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(1594),r=a(6942),s=a.n(r);const i=(e,t,a)=>{const r=(0,n.useRef)(e&&!t),i=(0,n.useRef)(!e);(0,n.useEffect)((()=>{r.current!==e&&(r.current=e),i.current===e&&(i.current=!e)}),[e]);return{finalTransitionClass:s()({[`${a}-enter-done`]:r.current&&e,[`${a}-exit-done`]:i.current&&!e}),setTransitionHidden:()=>{i.current=!0}}}},5428:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>i});var n=a(1594);const r=e=>{const t=e.match(/^([\d.+-]+)(\w+)$/)||["0","ms"];return parseFloat(t[0])*("ms"===t[1]?1:1e3)},s=e=>{if(e.indexOf(",")>0){const t=e.split(",").map((e=>r(e.trim()))).sort();return t[t.length-1]}return r(e)},i=(e,t)=>{const a=(0,n.useRef)(e),r=!!t;return(0,n.useLayoutEffect)((()=>{t&&(a.current=(e=>{const t=window.getComputedStyle(e),{transitionDuration:a,transitionDelay:n}=t;return s(a)+s(n)})(t))}),[r]),a.current}},5911:(e,t,a)=>{"use strict";a.d(t,{E2:()=>o,NL:()=>c,OH:()=>i,qE:()=>l});var n=a(1594),r=a(2224),s=a.n(r);a(6942);const i=e=>({dangerouslySetInnerHTML:{__html:e}}),o=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.useMemo)((()=>t.every((e=>null===e))?null:e=>{t.forEach((t=>{((e,t)=>{if(null!==e)if(s().isFunction(e))e(t);else try{e.current=t}catch(a){throw new Error(`Cannot assign value "${t}" to ref "${e}"`)}})(t,e)}))}),t)},l=(e,t,a,n)=>{const r=(e-t)%(a+1-t);return n?(r<0?a+1:t)+r:Math.max(t,Math.min(a,e))},c=()=>document?.documentElement?.getAttribute?.("dir")},6275:(e,t,a)=>{"use strict";a.d(t,{A:()=>w});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i),l=a(840);const c=s().createContext({}),d=()=>{const e=s().useContext(c);if(!e)throw new Error("Scroller compound components cannot be rendered outside the Scroller component");return e};var u=a(4792),m=a(791),p=a(1229),g=a(5911);const h=(e,t,a,n)=>{if(!e.current)return{};const r=e.current,s=r.scrollLeft,i=r.offsetWidth,o=r.scrollWidth-i,l=r.children[0],c=Array.from(l.children).map((e=>{const t=((e,t)=>{if(t&&e._cachedComputedStyle)return e._cachedComputedStyle;const a=window.getComputedStyle(e);return e._cachedComputedStyle=a,a})(e,a),r=t.scrollSnapAlign||"",s=t.scrollSnapCoordinate||"",o=e.offsetLeft+e.offsetWidth-i;return 0===r.indexOf("end")||0===s.indexOf("100%")?n?-1*e.offsetLeft:o:0===r.indexOf("center")||0===s.indexOf("50%")?(n?-1:1)*(e.offsetLeft+e.offsetWidth/2-i/2):n?-1*o:e.offsetLeft})).filter((e=>e<o));c.push(o);const d=c.map(((e,t)=>({x:e,i:t,d:Math.abs(e-(n?-1:1)*s)}))),u=d.reduce(((e,t)=>t.d<e.d?t:e),d[0]),m=d.length,p=void 0!==t?t:u.i,g=Math.min(Math.max(p,0),m-1),h=d[g].x>0?d[g].x:0;return{index:g,newX:(n?-1:1)*h,count:m,deltaX:(n?-1:1)*s-h,scrollX:s,maxX:o}},f=(e,t)=>{let a,n;switch(t.type){case"SCROLL_INDEX":return a=h(t.scrollerRef,t.targetIndex,t.cacheComputedStyle,t.isRTL),t.handleChange&&e.index!==a.index&&t.handleChange(a.index),{...e,index:a.index};case"SCROLL_TO":return a=h(t.scrollerRef,t.targetIndex,t.cacheComputedStyle,t.isRTL),t.handleChange&&e.index!==a.index&&t.handleChange(a.index),{...e,...a};case"SCROLL_UPDATE":return a=h(t.scrollerRef,e.index,t.cacheComputedStyle,t.isRTL),n=t.scrollerRef.current,n&&(n.style.overflowX="hidden",n.scrollLeft=a.newX,n.style.overflowX="scroll"),{...e,...a,deltaX:null};case"SCROLL_END":return e.deltaX||e.fixScroll?(n=t.scrollerRef.current,n&&(n.scrollLeft=e.newX),{...e,fixScroll:/transitionEnd$/i.test(t.eventType),deltaX:null}):e;case"MOUSE_DOWN":return{...e,mouseDown:!0};case"MOUSE_UP":return{...e,mouseDown:!1};default:return e}},E=e=>{let{index:t=0,handleChange:a,updateIndexWhileScrolling:n=!0,cacheComputedStyle:s=!0,dir:i}=e;const{touch:o}=u.Ez(),[l,c]=(0,r.useReducer)(f,{mouseDown:!1}),{count:d,fixScroll:h}=l,E=(0,r.useRef)(null),v=(0,r.useRef)(null),y=(0,r.useRef)(!1),b=(0,r.useRef)(0),A=(0,r.useRef)(0),S=(0,r.useRef)(0),w=(0,r.useMemo)((()=>"rtl"===i||"rtl"===(0,g.NL)()),[i]);(0,r.useLayoutEffect)((()=>{d||c({type:"SCROLL_TO",scrollerRef:E,handleChange:a,targetIndex:t,cacheComputedStyle:s,isRTL:w})}),[]),(0,r.useLayoutEffect)((()=>{h&&c({type:"SCROLL_END",scrollerRef:E})}),[h]),(0,r.useEffect)((()=>{t!==l.index&&c({type:"SCROLL_TO",scrollerRef:E,handleChange:null,targetIndex:t,cacheComputedStyle:s,isRTL:w})}),[t]),(0,r.useEffect)((()=>{A.current=l.maxX}),[l.maxX]);const T=()=>{y.current=!0,setTimeout((()=>{c({type:"SCROLL_UPDATE",scrollerRef:E}),y.current=!1}),100)},O=(0,p.A)(T,300);(0,m.A)("orientationchange",T),(0,m.A)("resize",(()=>{o||O()}));const N=()=>{y.current||c({type:"SCROLL_INDEX",scrollerRef:E,handleChange:a,cacheComputedStyle:s,isRTL:w})},C=(0,p.A)(N,100);return{state:l,scrollerRef:E,scrollerPlatterRef:v,handleScroll:n?N:C,handleScrollUpdate:T,handleTransition:e=>{e.target===v.current&&c({type:"SCROLL_END",scrollerRef:E,eventType:e&&e.type})},slideTo:e=>{l.deltaX||c({type:"SCROLL_TO",scrollerRef:E,handleChange:a,targetIndex:e,cacheComputedStyle:s,isRTL:w})},handleMouseDown:e=>{const t=E.current;l.deltaX||y.current||!t||(c({type:"MOUSE_DOWN"}),b.current=e.pageX-t.offsetLeft,S.current=t.scrollLeft)},handleMouseUp:()=>{y.current||(c({type:"SCROLL_TO",scrollerRef:E,handleChange:a,cacheComputedStyle:s,isRTL:w}),setTimeout((()=>{c({type:"MOUSE_UP"})}),500))},handleMouseMove:e=>{const t=E.current;if(!y.current&&!l.deltaX&&l.mouseDown&&t){e.preventDefault();const a=1.25*(e.pageX-t.offsetLeft-b.current);t.scrollLeft=S.current-a}},handleMouseWheel:e=>{const t=E.current;if(!t)return;const a=t.scrollLeft,{deltaX:n}=e,r=(a+n)*(w?-1:1);("hidden"===t.style.overflowX||r<0||r>A.current)&&e.preventDefault()},isRTL:w}},v=e=>{let{index:t,defaultIndex:a=0,dragEnabled:n=!1,preventNavigation:i=!1,customSnap:o=!1,snapDelay:l=150,updateIndexWhileScrolling:d,cacheComputedStyle:u,handleChange:m=(()=>{}),dir:p,children:g}=e;const{current:h}=(0,r.useRef)(void 0!==t),[f,v]=(0,r.useState)(a),y=E({index:h?t:f,handleChange:e=>h?setTimeout((()=>m(e)),10):v(e),updateIndexWhileScrolling:d,cacheComputedStyle:u,dir:p});return s().createElement(c.Provider,{value:{...y,preventNavigation:i,customSnap:o,snapDelay:l,dragEnabled:n}},g)},y=e=>{let{platterAttrs:t={},scrollerItemAttrs:a,children:i,updateOnWidthChange:o,...l}=e;const{state:c,scrollerRef:m,scrollerPlatterRef:g,handleScroll:h,handleScrollUpdate:f,handleTransition:E,preventNavigation:v,customSnap:y,snapDelay:b,slideTo:A,dragEnabled:S,handleMouseDown:w,handleMouseUp:T,handleMouseMove:O,handleMouseWheel:N,isRTL:C}=d(),_=(0,r.useRef)(0),I=(0,p.A)((()=>A()),b),{touch:D,os:L}=u.Ez(),k={"data-core-scroller":"","data-core-scroller-customsnap":y||c.mouseDown?"":void 0,onScroll:c.deltaX?void 0:()=>{h(),y&&I()},onTransitionEnd:E,style:{overflowX:c.deltaX&&!c.mouseDown?"hidden":"scroll",scrollSnapType:c.deltaX?"unset":void 0},onMouseDown:S?w:void 0,onMouseUp:S?T:void 0,onMouseLeave:S?T:void 0,onMouseMove:S?O:void 0},x=Math.random()/10,P={ref:g,"data-core-scroller-platter":"","data-core-scroller-transition":c.deltaX?"":void 0,style:c.deltaX?{transform:`translate(${(C?-1*c.deltaX:c.deltaX)+x}px)`}:{},...t};return(0,r.useEffect)((()=>{const e=e=>N(e),{current:t}=m,a=v&&"macosx"===L&&!D;return t&&a&&t.addEventListener("wheel",e,{passive:!1}),()=>{t&&a&&t.removeEventListener("wheel",e)}}),[]),(0,r.useEffect)((()=>{if(o&&m.current){const{scrollWidth:e}=m.current;_.current&&_.current!==e&&f(),_.current=e}}),[i]),s().createElement("div",(0,n.A)({ref:m},k,l),s().createElement("div",P,s().Children.map(i,(e=>s().createElement("div",(0,n.A)({"data-core-scroller-item":""},a),e)))))};var b=a(9066),A=a(1345);const S=e=>{let{items:t,groupKey:a,groupLabel:n,id:r,dotNavFocus:i}=e;const{state:c,slideTo:u}=d(),m=s().useRef([]),p=e=>t=>{m.current&&(m.current[e]=t)},g=e=>{const t=m.current?m.current[e]:null;t&&t.focus()};return s().useEffect((()=>{if(i){const e=m.current?m.current[c.index]:null;e&&e.focus()}}),[i]),t.length>1?s().createElement("div",{className:"rf-engraving-dotnav dotnav"},s().createElement("ul",{role:"tablist",className:"dotnav-items"},t.map(((e,t)=>{const i=c.index===t;return s().createElement("li",{className:"dotnav-item",role:"presentation",key:`dotnav_${a}_${e.group}`},s().createElement("button",{ref:p(t),type:"button",role:"tab","data-core-scroller-current":i?"":void 0,className:o()("dotnav-link",{current:i}),"aria-controls":`${r}-tab-item-${t}`,"aria-label":`${n} ${t+1}`,"aria-selected":i,tabIndex:i?0:-1,"data-autom":`scrollerButton${t}`,"data-trigger-id":`engraving-emoji-scroller-${t}`,onClick:()=>{u(t)},onKeyDown:e=>{switch(e.keyCode){case l.HP.ArrowUp:case l.HP.ArrowLeft:e.preventDefault(),c.deltaX||(u(t-1),g(t-1));break;case l.HP.ArrowDown:case l.HP.ArrowRight:e.preventDefault(),c.deltaX||(u(t+1),g(t+1))}}}))})))):""},w=e=>{let{bundleKey:t,groupKey:a,items:r,defaultIndex:i=0,fontIdx:o=0,selected:l="",groupLabel:c,dotNavFocus:d=!1,onHandleChange:u=(()=>{})}=e;const m=s().useId(),[p,g]=s().useState(i),h=`${a}_${t}_${o}`;return s().createElement("div",{className:"rf-engraving-scroller"},s().createElement(v,{index:p,"aria-label":c,handleChange:g},s().createElement(S,{items:r,groupKey:a,groupLabel:c,id:m,dotNavFocus:d}),s().createElement("div",{className:"rf-engraving-scroller-crop"},s().createElement(y,{className:"rf-engraving-scroller-item",platterAttrs:{className:"rf-engraving-scroller-platter"}},r.map(((e,t)=>{const{group:r,options:i=[]}=e,o=t===p,d=i.length-1;return s().createElement("div",{key:`${a}_${r}`,id:`${m}-tab-item-${t}`,className:"rf-engraving-scroller-itemcontent",role:"tabpanel","data-autom":`engravingEmojis${r}`,"aria-label":o?`${c} ${t+1}`:void 0,"aria-hidden":!o||void 0},s().createElement(b.N5,{withGutters:!0,className:"row row-logical",role:"list"},i.map(((e,t)=>{let{value:a,a11yText:i}=e;return s().createElement(b.Ay,(0,n.A)({name:`${h}_${r}`,value:a,key:`${h}_${r}_${a}`,checked:l===a,tagAttrs:{role:"listitem","data-option-index":`${h}_${r}_${t}`},className:"form-selector-singlecolumn column",role:"button"},(0,A.b)((e=>u(e)),!0),{onKeyDown:d>0&&(0===t||t===d)?()=>(e=>{let{idx:t,group:a,length:n}=e;const r=0===t?n:0,s=document.querySelector(`[data-option-index="${h}_${a}_${r}"] input`);s&&s.focus()})({idx:t,group:r,length:d}):void 0,tabIndex:o?0:-1,"aria-hidden":!o||void 0,"aria-label":i,"data-trigger-id":`engraving-emoji-${a}`}),s().createElement("span",{"aria-hidden":"true",translate:"no"},a))}))))}))))))}},2148:(e,t,a)=>{"use strict";a.d(t,{A:()=>E});var n=a(1594),r=a.n(n),s=a(6942),i=a.n(s),o=a(2224),l=a.n(o),c=a(4168),d=a(8595),u=a(7634),m=a(6637),p=a(7427),g=a(6275),h=a(7281);const f=document.documentElement.lang||"en-US",E=e=>{let{bundleKey:t,bundleDisplayValue:a,engravingPageData:n,slotName:s,selection:o,font:E,fontIdx:v=0,fontFamily:y,showEmojiPicker:b=!1,onAddingMessage:A,disabled:S=!1,disclaimerId:w="",clearField:T}=e;const{errors:O,hasError:N=!1}=o,{assets:C}=(0,m.useGlobalContext)(),_=l().get(o,"messagesA11y",[]),{errorMsg:I,textEmojiGroupLabel:D,regionalLangMessage:L="",addedA11yText:k="",skipUpperCaseGEOS:x="th-TH,zh-CN,ko-KR,ja-JP,en-IN"}=s,P=x.split(","),R=l().get(s,"labelArray.items"),M=l().get(n,"bundles",[]),F=l().get(n,`engravingMessageBox${t}.lines`,[]),H=l().get(F,"0.name",""),U=l().get(n,`engravingMessageBox${t}.groupKey`),$=l().get(n,`engravingMessageBox${t}.emojis.${E}`,[]),B=l().get(n,`fonts${t}.${v}.defaultValue`,[]),V=L?"engraving-regionallang-disclaimer":"",{initialValues:Y}=r().useMemo((()=>(e=>({initialValues:l().reduce(e,((e,t,a)=>(e[`line${a+1}`]=t,e)),{})}))((0,h.Ve)(o.font)?[]:o.messages)),[o.font,o.messages]),{values:q,setFieldValue:j}=(0,c.A)({initialValues:Y}),G=r().useRef({}),[W,z]=(0,p.oM)({resetDelay:4e3}),[K,Q]=r().useState(H),J=F.length>1,Z=l().get(n,"engravingMessageBox.engravingInUpperCaseOnly"),X=J&&b,[ee,te]=r().useState(!1),ae=e=>{e.persist();const n=e.target,{name:r,value:s}=n;let i=s;Z?P.indexOf(f)<0?i=((e,t)=>{const a=e.selectionStart,n=e.selectionEnd,r=e.value.toLocaleUpperCase(f);if(t(e.name,r),r){const t=r.length;window.setTimeout((()=>{e.setSelectionRange(a+t,n)}),0)}return r})(n,j):(j(r,s),i=s.toLocaleUpperCase(f)):j(r,s);const o={...q,[r]:i};A({bundleKey:t,bundleDisplayValue:a,font:E,fontIdx:v,fontFamily:y,fields:F,fieldVals:o})},ne=e=>{const{name:t,value:a}=e.target,n=l().get(G,`current.${t}`);if(13===e.keyCode&&(e.preventDefault(),Q(t),te(!0),a)){const e=a.length;n.setSelectionRange(e,e)}};return r().useEffect((()=>{T&&F.forEach((e=>j(e.name,"")))}),[T]),r().createElement("div",{className:"rf-engraving-messagebox"},r().createElement("div",{className:i()({"rf-engraving-singleline":!J&&!b,"rf-engraving-multilines":J,"rf-engraving-mixedtext":b,"rf-engraving-form-error":O,[`rf-engraving-${y}`]:!!y})},F.map(((e,n)=>{const{name:s,label:i}=e,o=M.length>1?l().get(R,`${t}.value`,i):i,c=q[s]?"":`${w} ${V}`;return r().createElement("div",{className:"field-wrapper",key:`${s}_${v}`,"data-autom":`Engrave-labelLine${n+1}`},r().createElement(d.A,{name:s,label:o,autoComplete:"off",error:O?O[s]:"",value:q[s]||"",onChange:ae,onFocus:()=>{X&&ee?te(!1):Q(s)},onKeyDown:X?ne:void 0,onReset:()=>(e=>{j(e,"");const n={...q,[e]:""},r=l().get(G,`current.${e}`);A({bundleKey:t,bundleDisplayValue:a,font:E,fontIdx:v,fontFamily:y,fields:F,fieldVals:n}),r&&r.focus()})(s),resetAttrs:{"aria-label":J?`${C.reset} ${i}`:C.reset,"data-autom":J?`removeEngrave${n+1}`:"removeEngrave","data-trigger-id":J?`remove-engrave${n+1}`:"remove-engrave"},errorAttrs:{"data-autom":J?`engraveValidationMsg${n+1}`:"engraveValidationMsg"},"aria-describedby":`${c} engraving-message-${s}`,"data-autom":`Engrave${s}`,disabled:S,ref:e=>{G.current[s]=e}}),K===s&&W?r().createElement(p.Ay,{message:`${o} ${W} ${k}`}):null,b&&r().createElement("div",{id:`engraving-message-${s}`,className:"visuallyhidden","aria-hidden":"true"},_[n]?r().createElement("span",null,o):null,r().createElement("span",null,_[n]||"")))})),r().createElement("div",{className:i()({"is-error":N})},r().createElement(u.A,{error:N?I:"",errorAttrs:{"data-autom":"engraveValidationMsg"},"aria-live":"polite"})),b&&r().createElement("div",{className:`rf-engraving-${E}`},r().createElement(g.A,{bundleKey:t,groupKey:U,items:$,groupLabel:D,fontIdx:v,dotNavFocus:ee,onHandleChange:e=>{const n=K,r=l().get(q,n,""),s=l().get(G,`current.${n}`),i=s.selectionStart;let o=r?r.substring(0,i)+e+r.substring(i):e;if(e&&!ee){const t=e.length;window.setTimeout((()=>{s.setSelectionRange(i+t,i+t),s.focus()}),0)}j(n,o),Z&&P.indexOf(f)>=0&&(o=o.toLocaleUpperCase(f));const c={...q,[n]:o};A({bundleKey:t,bundleDisplayValue:a,font:E,fontIdx:v,fontFamily:y,fields:F,fieldVals:c}),z((0,h.Q5)(e,B))}}))))}},9989:(e,t,a)=>{"use strict";a.d(t,{D$:()=>s,En:()=>n,MM:()=>i,Pp:()=>r});const n=Object.freeze({OPEN_OVERLAY:"OPEN_OVERLAY",CLOSE_OVERLAY:"CLOSE_OVERLAY",SET_PART:"SET_PART",SET_DATA:"SET_DATA",FETCH_META_START:"FETCH_META_START",FETCH_META_SUCCESS:"FETCH_META_SUCCESS",FETCH_META_ERROR:"FETCH_META_ERROR",CLEAR_META_DATA:"CLEAR_META_DATA",UPDATE_SELECTION_DATA:"UPDATE_SELECTION_DATA",SAVE_SELECTION:"SAVE_SELECTION",CLEAR_SELECTION:"CLEAR_SELECTION",UPDATE_SELECTION_INBUNDLE:"UPDATE_SELECTION_INBUNDLE",HIDE_CONTENT:"HIDE_CONTENT",HIDE_VIDEO:"HIDE_VIDEO",UPDATE_VIDEO_STATE:"UPDATE_VIDEO_STATE"}),r=Object.freeze({INLINE:"inline",TILE:"tile",SHOW_ONPAGE:"showonpage"}),s=Object.freeze({line1Key:"line1",line2Key:"line2",message1Key:"msg.0",message2Key:"msg.1",message3Key:"msg.2",message4Key:"msg.3",fontKey:"f"}),i=Object.freeze({TEXT:"text",EMOJI:"select",EMOJI_TEXT:"text+select",MULTI_SELECT:"multiselect"})},5718:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>z});var n=a(1594),r=a.n(n),s=a(6942),i=a.n(s),o=a(2224),l=a.n(o),c=a(840),d=a(3808),u=a(2684),m=a(5284),p=a(3151),g=a(8747),h=a(4792),f=a(9989),E=a(7281);const v=e=>e.every((e=>e?.engravedLines?.every((e=>!e.value&&!e.font)))),y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const r={...e},{engravingDetails:s,slotName:i}=r,o=l().get(i,"engravingData.fonts.items",[]),{engravingPageData:c,engravingVideo:d,baseProduct:u}=s,m=l().get(d,"src");if(!c||!c.engravingMessageBox)return{};const{bundleQuantity:p=0,engravingMessageBox:g}=c;r.isBundleEngraving=p>0,r.isMultiFontEngraving=o.length>0;const f=(0,E.Vp)(c),y=[];n.forEach((e=>{const{key:t,messages:a=[],font:n=""}=e;p>0?a.forEach(((e,a)=>{l().set(y,`${a}.engravedLines.${t}`,{value:e||"",font:n})})):a.forEach(((e,t)=>{l().set(y,`0.engravedLines.${t}`,{value:e||"",font:n})}))})),y.length>0&&(c.engravedItems=y),r.savedSelection=[],c.bundles=f.map((e=>{const{key:a,bundleDisplayValue:n}=e,s=l().cloneDeep(g),i=(0,E.jM)(c.engravedItems,a);let d=[...i];const u=(0,E.AW)(c.engravedItems,a),m=(0,E.af)(o,u),p=l().get(s,"inputTypes.sections[0].fields",[]);r.savedSelection[a]={key:a,bundleDisplayValue:n,messages:i,font:u,fontFamily:m,messageLines:p.length,errors:null},s.lines=p.map(((e,t)=>(l().set(e,"0.value",(0,E.Ve)(u)?"":i[t]),{...e[0]}))),s.selectedEmoji=(0,E.Ve)(u)?i[0]:"";const f=(0,E.US)(o,u),v=h.Ez().isHandheldPhone?35:40;return s.emojis={},f.forEach((e=>{const{fontDisplayType:a,fontLabel:n="Emoji",defaultValue:r}=e,o=n,l="text"!==a?[...r]:[],c=Math.ceil(l.length/v),u=Array(c).fill({}).map(((e,a)=>({legend:c>1?`${o} ${a+1}`:o,key:`${t}_selectedEmoji`,group:a,options:l.slice(a*v,a*v+v)})));s.emojis[e.fontName]=u,"text"!==a&&(d=(0,E.Uy)(i,r))})),r.savedSelection[a].messagesA11y=d,s.groupKey=t,c[`engravingMessageBox${a}`]={...s},c[`fonts${a}`]=f,e})),r.selection=Object.assign([],r.savedSelection);const b=l().get(i,"engravingData.additionalData.namedAssets",l().get(i,"data.map.namedAssets",{}));return r.slotName={...b},{data:r,showVideo:!!m&&(l().isEmpty(c.engravedItems)||v(c.engravedItems)),metricsConfig:{...a,baseProduct:u}}},b=(e,t)=>{switch(t.type){case f.En.SET_PART:return{...e,overlayPart:t.payload};case f.En.SET_DATA:{const{engravingData:a,id:n,metricsConfig:r}=t.payload;return{...e,...y(a,n,r)}}case f.En.OPEN_OVERLAY:return{...e,overlayVisible:!0,showContent:!0,loadOverlay:!0};case f.En.CLOSE_OVERLAY:return{...e,overlayVisible:!1};case f.En.FETCH_META_START:return{...e,isFetching:!0,isFetched:!1,error:null};case f.En.FETCH_META_ERROR:return{...e,isFetching:!1,isFetched:!0,error:t.error,data:{}};case f.En.FETCH_META_SUCCESS:return{...e,isFetching:!1,isFetched:!0,error:null,...t.payload};case f.En.UPDATE_SELECTION_DATA:{const{key:a,...n}=t.payload,r=((e,t)=>{let{key:a,isEmojiFont:n,fieldVals:r}=t;const s=l().cloneDeep(e);return n?l().set(s,`engravingPageData.engravingMessageBox${a}.selectedEmoji`,r):Object.keys(r).forEach(((e,t)=>{l().set(s,`engravingPageData.engravingMessageBox${a}.lines[${t}].value`,r[e])})),s})(e.data.engravingDetails,t.payload),s=l().get(e,"data.selection",[]).map((e=>e.key===a?{...e,...l().omit(n,["fieldVals","isEmojiFont"])}:{...e}));return{...e,data:{...e.data,selection:s,engravingDetails:r}}}case f.En.UPDATE_SELECTION_INBUNDLE:{const t=(e=>{let{engravingDetails:t,savedSelection:a=[]}=e;if(l().isEmpty(t))return{};const n=l().cloneDeep(t);return n.engravingPageData.bundles.forEach((e=>{let{key:t}=e;const r=l().get(n,`engravingPageData.engravingMessageBox${t}.lines`,[]);if(l().isEmpty(a))l().set(n,`engravingPageData.engravingMessageBox${t}.selectedEmoji`,""),r.forEach(((e,a)=>{l().set(n,`engravingPageData.engravingMessageBox${t}.lines[${a}].value`,"")}));else{const e=l().get(a,`${t}.font`,""),s=l().get(a,`${t}.messages`,[]);(0,E.Ve)(e)?(l().set(n,`engravingPageData.engravingMessageBox${t}.selectedEmoji`,s[0]),r.forEach(((e,a)=>{l().set(n,`engravingPageData.engravingMessageBox${t}.lines[${a}].value`,"")}))):(r.forEach(((e,a)=>{l().set(n,`engravingPageData.engravingMessageBox${t}.lines[${a}].value`,s[a])})),l().set(n,`engravingPageData.engravingMessageBox${t}.selectedEmoji`,""))}})),n})(e.data);return{...e,data:{...e.data,engravingDetails:t}}}case f.En.SAVE_SELECTION:return{...e,data:{...e.data,savedSelection:t.payload}};case f.En.CLEAR_SELECTION:{const t=l().cloneDeep(l().get(e,"data.savedSelection",[]));return{...e,data:{...e.data,selection:t}}}case f.En.REMOVE_SELECTION:return{...e,data:{...e.data,selection:t.payload,savedSelection:t.payload}};case f.En.HIDE_CONTENT:return{...e,showContent:!1};case f.En.HIDE_VIDEO:return{...e,showVideo:!1};case f.En.UPDATE_VIDEO_STATE:{const a=l().get(e,"data.engravingDetails.engravingVideo.src");return{...e,showVideo:!!a&&!t.payload}}default:return e}};var A=a(2494);const S=e=>{const t=e||A.Ay.getEntriesForStep({excludePath:!0}),{engravedPart:a,engravingOption:n}=t;n&&(A.Ay.remove("engravingOption"),A.Ay.remove("productToEngrave"),a&&(A.Ay.remove("engravedPart"),Object.keys(t).filter((e=>0===e.indexOf("msg.")||0===e.indexOf("f."))).forEach((e=>{A.Ay.remove(e)}))))},w=function(){let e=arguments.length>1?arguments[1]:void 0;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((t=>{let{key:a=0,font:n="",messages:r=[],messageLines:s=0}=t;if(!e&&r.length)n&&A.Ay.set(`f.${a}`,n),r.forEach(((e,t)=>{A.Ay.set(`msg.${a+t}`,e)}));else{A.Ay.remove(`f.${a}`);for(let e=0;e<s;e+=1)A.Ay.remove(`msg.${a+e}`)}}))},T=e=>{let{engravedData:t,engravingOption:a}=e;const{isEngraved:n,part:r,engravedPart:s,selection:i}=t;n?(A.Ay.set("engravedPart",s),A.Ay.set("productToEngrave",r),w(i)):(A.Ay.remove("engravedPart"),A.Ay.remove("productToEngrave"),w(i,!0)),A.Ay.set("engravingOption",a)},O=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if(window.asMetrics){const{baseProduct:r,pageName:s,disableFireMetrics:i=!1}=e,o=l().get(window,"s.pageName",""),c=" engraving ",d=` ${s} - ${r}`;let u=null;const m={eVar5:[o," ",d,c," finish engraving"].join("|")};if(t)u="typeface | bundle";else{const e=l().get(a,"0.font");if(e)if("mixed"===e){const{hasEmoji:e,hasText:t}=((e,t)=>{let a=!1,n=!1;const r=l().get(e,"fonts0",[]).find((e=>"mixed"===e.fontName)),s=l().get(r,"defaultValue",[]).reduce(((e,t)=>e+t.value),""),i=l().get(t,"0.messages",[]).join("");return l().some(i,(e=>(s.includes(e)?a=!0:n=!0,a&&n))),{hasEmoji:a,hasText:n}})(n,a);u=e&&t?"typeface | mixed":e?"typeface | emoji":t?"typeface | text":""}else u=(0,E.Ve)(e)?"typeface | emoji":"typeface | text";else u="text"}if(!i){const e=l().get(window.asMetrics,"sendUserInteraction",(()=>""));u&&(m.eVar6=[o," ",d,c,` ${u}`].join("|")),e({name:"metrics",data:m})}return{engravedType:u}}return{}},N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const a=l().get(e,"disableFireMetrics",!1);if(window.asMetrics&&t&&("no engraving"!==t||!a)){const a=l().get(window,"s.pageName",""),{baseProduct:n,pageName:r}=e;window.asMetrics.fireMicroEvent({eVar:"eVar5",page:a,part:"engraving",feature:`${r} - ${n}`,action:t})}},C=e=>{let{bootstrap:t,part:a,id:n,defaultEngravingOption:s,disableStorage:i,engravingData:o,storageData:h,removeEngraving:v,resetEngraving:w,onCancel:C=(()=>{}),onChange:_=(()=>{})}=e;if(!t)return{};const{metaUrl:I,assets:D,additionalParam:L,engravingSelectorKey:k,metricsConfig:x={},collapseAddEngraving:P=!0}=t,[R,M]=r().useReducer(b,{overlayVisible:!1,loadOverlay:!1,showContent:!1,showVideo:!1,overlayPart:"",data:{},assets:D}),[F,H]=r().useState(!!s),[U,$]=r().useState(s),[B,V]=r().useState(0),Y=r().useRef(null),q=r().useRef(null),j=r().useRef(!1),G=r().useRef(!!s),W=r().useRef(!1),{ref:z}=(0,g.R)(),K=(0,p.A)(a);r().useEffect((()=>{if(a){const e=h||(i?{}:(()=>{const e=A.Ay.getEntriesForStep({excludePath:!0}),t=[],{productToEngrave:a,engravedPart:n,engravingOption:r}=e;if(n){const a=[],n={key:0};Object.keys(e).filter((e=>0===e.indexOf("msg.")||0===e.indexOf("f."))).forEach((t=>{const[r,s]=t.split("."),i=e[t],o=Number(s);"msg"===r?a[o]=i:n.font=i})),t.push({...n,messages:a,messageLines:a.length})}return{selection:t,engravedPart:n,engravingOption:r,productToEngrave:a}})());M({type:f.En.SET_PART,payload:a}),(e=>{let{metaUrl:t,part:a,additionalParam:n,id:r,storageValue:s,assets:i,metricsConfig:o}=e;return e=>{const c=(0,d.A)("reducer/loadEngravingData"),p=u.extendUrlQuery(t,{product:a,...n}),g=l().get(i,"errorMessage","");e({type:f.En.FETCH_META_START});const h=(0,m.hI)(p);return h.then((t=>{const{engravingDetails:n,errorMessage:i}=l().get(t,"body",{});if(n&&!i){const i=n.variantEngravable||s.productToEngrave===a?s.selection:[];e({type:f.En.FETCH_META_SUCCESS,payload:y(t.body,r,o,i)})}else e({type:f.En.FETCH_META_ERROR,error:{isResponseError:!0,message:i||g}})})).catch((t=>{c.error(t),e({type:f.En.FETCH_META_ERROR,error:{isNetworkError:!0,errorInfo:t,message:g}})})),h}})({metaUrl:I,part:a,additionalParam:L,id:n,storageValue:e,assets:D,metricsConfig:x})(M).then((t=>{i&&l().isEmpty(e)?(H(!1),$(null),G.current=!1):((e,t)=>{const n=l().get(e,"body.engravingDetails",{}),r=l().get(n,"engravingPageData.bundleQuantity",0),s=!l().isEmpty(t.selection),o=n.variantEngravable&&(s||"noEngraving"===U);if(t.productToEngrave===a||o){if(H(!!t.engravingOption),$(t.engravingOption),G.current=s,n.variantEngravable){const e={engravedData:{selection:t.selection,isEngraved:s,isBundleEngraving:r>0,part:a,engravedPart:s?n.productEngrave:null,variantEngravable:n.variantEngravable},engravingOption:t.engravingOption,param:k?{[k]:!0}:{},partChange:!0};i||T(e),_(e)}}else K&&K!==a?(S(),H(!1),$(null),G.current=!1):t.engravingOption&&$(t.engravingOption)})(t,e)}))}}),[a]),r().useEffect((()=>{o&&M({type:f.En.SET_DATA,payload:{engravingData:o,id:n,metricsConfig:x}})}),[o]),r().useEffect((()=>{(0,E.Vr)(R.data.savedSelection)&&(H(!0),$("addEngraving"))}),[R.data.savedSelection]),r().useEffect((()=>{if(v||w){const e=w?null:s,t=l().get(window,"asMetrics.isBFEMetricsEnabled",!1);H(!!e),$(e);const a=l().cloneDeep(l().get(R,"data.selection",[])),n=l().get(R,"data.engravingDetails.product"),r=l().get(R,"data.isBundleEngraving",!1),o=a.map((e=>l().omit(e,["messages","messagesA11y","font","fontFamily"])));G.current&&!t&&N(R.metricsConfig,"remove engraving"),G.current=!!e,M({type:f.En.REMOVE_SELECTION,payload:o}),M({type:f.En.UPDATE_VIDEO_STATE,payload:!!e});const c={engravedData:{selection:o,isEngraved:!1,isBundleEngraving:r,part:n,engravedPart:null},engravingOption:e,param:{}};i||S(),w||_(c)}}),[v,w,s]);const Q=()=>{M({type:f.En.HIDE_CONTENT}),M({type:f.En.UPDATE_VIDEO_STATE,payload:G.current}),j.current&&M({type:f.En.CLEAR_SELECTION})},J=e=>{const t=(0,d.A)("useEngraving/validateEngravingMsg"),{bundleKey:a,bundleDisplayValue:n="",fields:r=[],fieldVals:s,font:i="",fontIdx:o=0,fontFamily:c="",emojiRemoved:p}=e,{engravingValidationUrl:g,product:h}=l().get(R,"data.engravingDetails",{}),v={};let y={};const b=i?{[f.D$.fontKey]:i}:{},A=(0,E.Ve)(i),S={key:a,bundleDisplayValue:n,font:i,fontFamily:c,fieldVals:s,isEmojiFont:A};if(A){const e=l().get(f.D$,"message1Key","");y[e]=s}else y=r.reduce(((e,t,a)=>{const n=l().get(f.D$,`message${a+1}Key`,""),r=l().trim(s[t.name]);return e[n]=r,e}),{});const w=Object.keys(y).map((e=>y[e]));if(w.filter((e=>e&&""!==e)).length>0){const e=u.extendUrlQuery(g,{product:h,...y,...b});(0,m.hI)(e).then((e=>{const{content:t}=e.body;if(t.hasErrors)Object.keys(t.errors).forEach((e=>{v[f.D$[`line${parseInt(e,10)+1}Key`]]=t.errors[e]})),M({type:f.En.UPDATE_SELECTION_DATA,payload:{...S,errors:v}});else{const e=l().get(R,`data.engravingDetails.engravingPageData.fonts${a}.${o}.defaultValue`,[]),t=(0,E.Uy)(w,e);M({type:f.En.UPDATE_SELECTION_DATA,payload:{...S,messages:w,messagesA11y:t,errors:null}})}})).catch((e=>{t.error(e),M({type:f.En.UPDATE_SELECTION_DATA,payload:{...S,errors:null,hasError:!0}})}))}else M({type:f.En.UPDATE_SELECTION_DATA,payload:{...S,font:i,fontFamily:c,messages:[],messagesA11y:[],errors:null}});p&&q.current&&setTimeout((()=>q.current.focus()),200)},Z=l().debounce((e=>{J(e)}),200);return{...R,focusRef:Y,videoRef:z,saveButtonRef:q,selectedOpt:U,completed:F,handleAddEngravingKeyDown:()=>{W.current=!0},handleEngravingChange:e=>{const t=l().cloneDeep(l().get(R,"data.selection",[])),{product:a,productEngrave:n,engravingPageData:r,variantEngravable:s}=l().get(R,"data.engravingDetails",{}),o=l().get(R,"data.isBundleEngraving",!1);let c={},d=!1;if(e)d=(0,E.Vr)(t),d?c=O(R.metricsConfig,o,t,r):N(R.metricsConfig,"no engraving"),M({type:f.En.SAVE_SELECTION,payload:t}),M({type:f.En.CLOSE_OVERLAY,payload:!1}),setTimeout((()=>Q()),400);else{if(!P){const e=t.map((e=>l().omit(e,["messages","font","fontFamily"])));M({type:f.En.REMOVE_SELECTION,payload:e})}N(R.metricsConfig,"no engraving")}const u=d?"addEngraving":"noEngraving";H(!0),$(u),G.current=d;const m={engravedData:{selection:t,isEngraved:d,isBundleEngraving:o,part:a,engravedPart:d?n:null,variantEngravable:s,metricsData:c},engravingOption:u,param:k?{[k]:!0}:{}};i||T(m),_(m),Y.current&&P&&setTimeout((()=>Y.current.focus()),200)},handleOpenOverlay:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0;(!a||W.current||a.keyCode!==c.HP.Return&&a.keyCode!==c.HP.Space)&&(W.current=!1,N(R.metricsConfig,e),j.current=!1,V(t),M({type:f.En.UPDATE_SELECTION_INBUNDLE}),(0,E.L7)()&&M({type:f.En.HIDE_VIDEO}),M({type:f.En.OPEN_OVERLAY}))},handleCloseOverlay:()=>{N(R.metricsConfig,"close engraving"),j.current=!0,M({type:f.En.CLOSE_OVERLAY}),setTimeout((()=>Q()),400)},removeEngrave:e=>{const t=l().cloneDeep(l().get(R,"data.selection",[])),{product:a,productEngrave:n}=l().get(R,"data.engravingDetails",{}),r=l().get(R,"data.isBundleEngraving",!1),s=t.map((t=>t.key===e?l().omit(t,["messages","font","fontFamily"]):t)),o=(0,E.Vr)(s),c=o?"addEngraving":"noEngraving";r&&(H(!0),$(c)),G.current=o;l().get(window,"asMetrics.isBFEMetricsEnabled",!1)||N(R.metricsConfig,"remove engraving"),M({type:f.En.REMOVE_SELECTION,payload:s});const d={engravedData:{selection:s,isEngraved:o,isBundleEngraving:r,part:a,engravedPart:o?n:null},engravingOption:c,param:k?{[k]:!0}:{}};i||T(d),_(d),Y.current&&setTimeout((()=>Y.current.focus()),200)},cancelEngrave:()=>{l().get(window,"asMetrics.isBFEMetricsEnabled",!1)||N(R.metricsConfig,"cancel engraving"),j.current=!0,M({type:f.En.CLOSE_OVERLAY}),setTimeout((()=>Q()),400),C()},onOverlayHidden:Q,validateEngravingMsg:J,onAddingMessage:Z,selectedBundleKey:B,onVideoEnded:()=>{M({type:f.En.HIDE_VIDEO})}}};var _=a(8168);const I='<svg viewBox="0 0 35 35" class="as-svgicon as-svgicon-engraving as-svgicon-base as-svgicon-engravingbase" role="img" aria-hidden="true" width="35px" height="35px"><path fill="none" d="M0 0h35v35H0z"/><path d="M17.5 6.1A11.4 11.4 0 1 1 6.1 17.5 11.413 11.413 0 0 1 17.5 6.1m0-1.1A12.5 12.5 0 1 0 30 17.5 12.5 12.5 0 0 0 17.5 5Z"/><path d="M23 20.5H12a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1ZM25 15.5H10a.5.5 0 0 1 0-1h15a.5.5 0 0 1 0 1Z"/></svg>';var D=a(5911);const L=e=>{let{part:t,bootstrap:a,engravingState:s,disabled:o}=e;const{addEngraving:c,addEngravingMultipack:d,addEngravingText:u,yourEngraving:m,editEngraving:p,removeEngraving:g,engravingFreeText:h,engravingFootnoteMessage:f}=l().get(a,"assets",{}),v=l().get(a,"personalizeAlly",""),{data:y,handleOpenOverlay:b,removeEngrave:A,focusRef:S}=s,w=l().get(y,"isBundleEngraving",!1),T=l().get(y,"engravingDetails.engravingPageData.bundleQuantity",0),O=l().get(y,"engravingDetails.engravingPageData.engravingMessageBox0.groupKey",""),{savedSelection:N=[]}=y,C=(0,E.Vr)(N),L=l().get(N,"0.messages",[]),k=l().get(N,"0.messagesA11y",[]),x=l().get(N,"0.fontFamily",""),P=w&&T>1,[R,M]=(0,n.useState)({"aria-hidden":!0});return r().createElement(r().Fragment,null,r().createElement("div",{className:i()({"rf-engraving-nonbundle row row-logical":!w,"rf-engraving-bundleview":w,"rf-engraving-disabled":!t})},C?P?r().createElement(r().Fragment,null,r().createElement("div",{className:"rf-engraving-headline"},r().createElement("span",(0,_.A)({className:"rf-engraving-iconcontainer"},(0,D.OH)(I))),r().createElement("h3",(0,D.OH)(m)),r().createElement("div",(0,_.A)({className:"as-engraving-addbutton"},(0,D.OH)(h)))),r().createElement("div",{className:`rf-engraving-bundleview-message rf-engraving-bundle-${T}`},N&&N.map((e=>{const t=l().get(e,"messages",[]),a=l().get(e,"messagesA11y",[]);return r().createElement("div",{className:"rf-engraving-messagesection row row-logical",key:e.key},r().createElement("div",{className:"column large-6 small-7 rf-engraving-messagesection-item"},r().createElement("span",null,e.bundleDisplayValue),t.length>0?t.map(((t,n)=>r().createElement(r().Fragment,{key:`${e.key}_${e.font}`},r().createElement("span",{className:`rf-engraving-${e.font} rf-engraving-messagevalue`,role:"img","aria-label":a[n]},t)))):null),r().createElement("div",{className:"column large-6 small-5 rf-engraving-addbutton"},t.length>0?r().createElement(r().Fragment,null,r().createElement("button",{className:"as-buttonlink rf-engraving-buttonlink rf-engraving-editbutton",type:"button",onClick:()=>b("edit engraving",e.key),disabled:o,ref:S,"data-trigger-id":"engraving-edit"},r().createElement("span",(0,D.OH)(p)),r().createElement("span",(0,_.A)({className:"visuallyhidden"},(0,D.OH)(`${m} - ${e.bundleDisplayValue}`)))),r().createElement("span",{className:"rf-engraving-lineseparator","aria-hidden":"true"}),r().createElement("button",{className:"as-buttonlink rf-engraving-buttonlink",type:"button",disabled:o,onClick:()=>A(e.key),"data-trigger-id":"engraving-remove"},r().createElement("span",(0,D.OH)(g)),r().createElement("span",(0,_.A)({className:"visuallyhidden"},(0,D.OH)(`${m} - ${e.bundleDisplayValue}`))))):r().createElement("button",{className:"as-buttonlink rf-engraving-buttonlink",type:"button",disabled:o,onClick:()=>b("add free engraving",e.key),ref:S,"data-trigger-id":"engraving-add"},r().createElement("span",(0,D.OH)(u)),r().createElement("span",(0,_.A)({className:"visuallyhidden"},(0,D.OH)(`${m} - ${e.bundleDisplayValue}`))))))})))):r().createElement(r().Fragment,null,r().createElement("div",{className:"column large-12 small-12 rf-engraving-headline"},r().createElement("span",(0,_.A)({className:"rf-engraving-iconcontainer"},(0,D.OH)(I))),r().createElement("h3",(0,_.A)({className:"rf-engraving-spacer"},(0,D.OH)(m))),r().createElement("span",{className:"rf-engraving-lineseparator","aria-hidden":"true"}),r().createElement("button",{type:"button",className:"as-buttonlink rf-engraving-buttonlink",ref:S,disabled:o,onClick:()=>b("edit engraving"),"data-analytics-title":"edit modal | personalize it","data-autom":"edit-engraving","data-trigger-id":"engraving-edit"},p,v&&r().createElement("span",(0,D.OH)(v)))),r().createElement("div",{className:"column large-12 small-12 rf-engraving-item"},L.map(((e,t)=>r().createElement("div",{className:"rf-engraving-message",key:e},r().createElement("p",{className:i()({[`rf-engraving-${x}`]:!!x}),role:"img","aria-label":k[t],"data-autom":"engraving-message"},e)))))):r().createElement(r().Fragment,null,r().createElement("div",{className:"column large-12 small-12 rf-engraving-headline"},r().createElement("button",{type:"button",className:"as-buttonlink icon icon-after icon-pluscircle",onClick:()=>b("add free engraving"),ref:S,disabled:!t||o,"aria-describedby":`engraving-footer-${O}`,"data-autom":`addEngraving-${O}`,"data-analytics-title":"open modal | personalize it","data-trigger-id":"engraving-add"},P&&d?r().createElement("span",(0,D.OH)(d)):r().createElement("span",(0,D.OH)(c)),v&&r().createElement("span",(0,D.OH)(v)))),r().createElement("div",{className:"column large-12 small-12"},r().createElement("div",(0,_.A)({id:`engraving-footer-${O}`,className:"rf-engraving-footer",onMouseEnter:()=>M({}),onMouseLeave:()=>M({"aria-hidden":!0})},(0,D.OH)(f),R))))))};var k=a(7213),x=a(3708),P=a(6637),R=a(4441),M=a(7404),F=a(837),H=a(4768);const U=e=>{let{content:t,id:a,sectionKey:s,disabled:o}=e;const{assets:c}=(0,P.useGlobalContext)(),d=(0,n.useId)(),u=a||d,{infoTitle:m,infoDescription:p,footer:g,cssClassName:h,videoId:f}=t||{},E=l().get(window,`${f}.image`),v=l().get(t,"overlayLink"),y=l().get(t,"fragmentList[0]",""),b=(0,n.useRef)(),A=l().get(c,"showMore","Show more");return(0,n.useEffect)((()=>{if(b.current){const e=b.current.firstElementChild;e&&(e.setAttribute("data-relatedlink",`${u}_link`),e.setAttribute("data-trigger-stoppropagation","true"),e.setAttribute("aria-labelledby",`${u}_showmore ${u}`),e.setAttribute("data-analytics-title",m),e.innerHTML=`<span id="${u}_showmore" class="visuallyhidden">${A}</span>`)}}),[]),r().createElement(M.A,null,r().createElement("div",{className:i()("rc-decisionsection","as-util-relatedlink",h,{"rc-decisionsection-disabled":o}),"data-trigger-click":`click [data-relatedlink='${u}_link']`,"data-autom":`${s}_decisionsection`,"data-analytics-region":"selectionarea"},E&&f&&r().createElement("div",{className:"rc-decisionsection-image-wrapper"},r().createElement(R.Ay,{className:"rc-decisionsection-image",data:E}),r().createElement("span",{className:"rc-decisionsection-playcta"},r().createElement("i",{className:"icon icon-playsolid"}))),r().createElement("div",{className:i()("rc-decisionsection-details",H.A.BODY_REDUCED)},r().createElement("div",{className:"rc-decisionsection-info"},r().createElement("div",(0,_.A)({id:u,className:i()("rc-decisionsection-header",H.A.BODY_REDUCED_TIGHT)},(0,D.OH)(m))),r().createElement("div",(0,_.A)({className:i()("rc-decisionsection-desc",H.A.BODY_REDUCED_TIGHT)},(0,D.OH)(p))),g?r().createElement("div",(0,_.A)({className:"rc-decisionsection-footer"},(0,D.OH)(g))):null)),v&&r().createElement("a",{href:o?void 0:v.url,role:"button","aria-labelledby":`${u}_showmore ${u}`,"data-relatedlink":`${u}_link`,"data-trigger-stoppropagation":!0,"data-ase-loader":o?void 0:"buyflow-info-overlay-loader","data-ase-loader-action":"load","data-ase-rerender":f?"":void 0,"data-display-name":l().get(v,"omnitureData.linkText")||"",className:"rc-decisionsection-button",tabIndex:o?-1:void 0,"aria-disabled":!!o||void 0,"data-analytics-title":m},r().createElement("span",(0,_.A)({id:`${u}_showmore`,className:"visuallyhidden"},(0,D.OH)(A)))),!v&&y&&r().createElement(F.A,{disabled:o},r().createElement("div",(0,_.A)({className:"rc-decisionsection-button-container",ref:b},(0,D.OH)(y))))))},$=e=>{let{engravingState:t,bootstrap:a,disabled:n}=e;const{data:s,handleOpenOverlay:o,focusRef:c,removeEngrave:d,showContent:u}=t,{assets:m={},collapseAddEngraving:p=!0}=a,{addEngraving:g,noEngravingOptionTitle:h,yourEngraving:f,editEngraving:v,removeEngraving:y,changeEngraving:b,addEngravingText:A,selectedA11yText:S,addEngravingOptionFooter:w}=m,T=l().get(s,"isBundleEngraving",!1),O=l().get(s,"engravingDetails.engravingPageData.bundleQuantity",0),{savedSelection:N=[]}=s,C=(0,E.Vr)(N),I=l().get(N,"0.messages",[]),L=l().get(N,"0.messagesA11y",[]),x=l().get(N,"0.fontFamily","");return r().createElement(r().Fragment,null,C?T?r().createElement("div",{className:"rf-engraving-summary"},r().createElement("div",(0,_.A)({className:"rf-flagship-collapsable-header-text"},(0,D.OH)(f))),r().createElement("div",{className:`rf-engraving-bundleview-message rf-engraving-bundle-${O}`},N&&N.map((e=>{const t=l().get(e,"messages",[]),a=l().get(e,"messagesA11y",[]);return r().createElement("div",{className:"rf-engraving-messagesection row row-logical",key:e.key},r().createElement("div",{className:"column large-6 small-7 rf-engraving-messagesection-item"},O>1&&r().createElement("span",null,e.bundleDisplayValue),t.length>0?t.map(((t,n)=>r().createElement(r().Fragment,{key:`${e.key}_${e.font}`},r().createElement("span",{className:`rf-engraving-${e.font} rf-engraving-messagevalue`,role:"img","aria-label":a[n],"data-autom":`engraving-message-${n}`},t)))):null),r().createElement("div",{className:"column large-6 small-5 rf-engraving-addbutton"},t.length>0?r().createElement(r().Fragment,null,r().createElement("button",{className:"as-buttonlink rf-engraving-buttonlink rf-engraving-editbutton",type:"button",onClick:()=>o("edit engraving",e.key),disabled:n,ref:c,"data-trigger-id":"engraving-edit"},r().createElement("span",(0,D.OH)(v)),r().createElement("span",(0,_.A)({className:"visuallyhidden"},(0,D.OH)(`${f} - ${e.bundleDisplayValue}`)))),r().createElement("span",{className:"rf-engraving-lineseparator","aria-hidden":"true"}),r().createElement("button",{className:"as-buttonlink rf-engraving-buttonlink",type:"button",disabled:n,onClick:()=>d(e.key),"data-trigger-id":"engraving-remove"},r().createElement("span",(0,D.OH)(y)),r().createElement("span",(0,_.A)({className:"visuallyhidden"},(0,D.OH)(`${f} - ${e.bundleDisplayValue}`))))):r().createElement("button",{className:"as-buttonlink rf-engraving-buttonlink",type:"button",disabled:n,onClick:()=>o("add free engraving",e.key),ref:c,"data-trigger-id":"engraving-add"},r().createElement("span",(0,D.OH)(A)),r().createElement("span",(0,_.A)({className:"visuallyhidden"},(0,D.OH)(`${f} - ${e.bundleDisplayValue}`))))))})))):r().createElement("div",{className:"rf-engraving-summary"},r().createElement("div",(0,_.A)({className:"rf-flagship-collapsable-header-text"},(0,D.OH)(f))),r().createElement("div",{className:"row row-logical"},r().createElement("div",{className:"column large-9 small-8"},I.map(((e,t)=>r().createElement("div",{className:"rf-engraving-message",key:t},e&&r().createElement("p",{className:i()({[`rf-engraving-${x}`]:!!x}),role:"img","aria-label":L[t],"data-autom":"engraving-message"},e))))),r().createElement("div",{className:"column large-3 small-4 rf-engraving-editbutton"},r().createElement("button",{className:"as-buttonlink",type:"button",onClick:()=>o("edit engraving"),ref:c,disabled:n,"data-autom":"editEngraving","data-trigger-id":"engraving-edit"},v,r().createElement("span",(0,_.A)({className:"visuallyhidden"},(0,D.OH)(f))))),w&&r().createElement("div",{className:"rf-engraving-option-footer"},r().createElement("span",(0,D.OH)(w))))):p&&r().createElement("div",{className:"rf-engraving-collapsable"},r().createElement(k.A,{in:!0,className:"rf-flagship-collapsable-header"},r().createElement("div",(0,_.A)({className:"rf-flagship-collapsable-header-text rf-flagship-collapsable-link",onClick:()=>o("change engraving"),onKeyDown:e=>(e=>{13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),u?setTimeout((()=>o("change engraving")),400):o("change engraving"))})(e)},(0,D.OH)(h),{role:"button",tabIndex:"-1"})),r().createElement("button",(0,_.A)({className:"as-buttonlink rf-flagship-collapsable-header-button",type:"button",onClick:()=>o("change engraving"),ref:c,disabled:n,"data-autom":"changeEngraving","data-trigger-id":"engraving-change"},(0,D.OH)(`${b}\n                                <span class="visuallyhidden">\n                                    (${g} - ${h} ${S})\n                                </span>`))))))},B=e=>{let{part:t,engravingState:a,bootstrap:n,disabled:s,gallery:o}=e;const{viewport:c}=(0,P.useGlobalContext)(),d="small"===c,{data:u,handleOpenOverlay:m,selectedOpt:p,handleAddEngravingKeyDown:g,handleEngravingChange:h,showContent:f}=a,{engravingFreeText:v,assets:y={},collapseAddEngraving:b=!0,decisionSupportTile:A}=n,{key:S="select",sectionHeader:w,addEngravingOptionTitle:T,noEngravingOptionTitle:O,addEngravingOptiondesc:N,engravingFootnoteMessage:C}=y,{savedSelection:I=[]}=u,L=(0,E.Vr)(I),k=r().useId(),R=l().get(A,"items.0.value"),M=l().get(u,"engravingDetails.engravingPageData.engravingMessageBox0.groupKey","");return r().createElement(x.c6,{legend:w&&r().createElement("h2",(0,_.A)({className:"rf-engraving-section-header",tabIndex:"-1"},(0,D.OH)(w))),className:"rf-engraving-tileoptions",tag:"div"},b&&R?r().createElement(U,{content:R,dimensionKey:`engraving-option-${S}-${M}`,disabled:!t||s}):null,d&&!b&&o,r().createElement(x.gW,{key:"addEngraving",name:`engraving-option-${S}-${M}`,value:"addEngraving",checked:"addEngraving"===p,onKeyDown:!L&&g?g:void 0,handleChange:(e,t)=>{L||(f?setTimeout((()=>m("add free engraving",0,t)),400):m("add free engraving",0,t))},"aria-haspopup":"dialog","aria-describedby":k,"data-autom":`addEngraving-${M}`,"data-trigger-id":"engraving-add",classes:{input:"rf-engraving-tileoption-input"},disabled:!t||s,skipChangeSelection:!0,withAriaLabeledBy:!0,"aria-label":T,render:e=>{let{SelectorLabel:t}=e;return r().createElement(t,null,r().createElement("span",{className:"row row-logical"},r().createElement("span",{className:"rf-engraving-tileoption-left-col form-selector-left-col column large-9 small-8"},r().createElement(x._V,{text:T}),r().createElement("span",(0,_.A)({id:k,className:"row row-logical form-label-small rf-engraving-tileoption-desc"},(0,D.OH)(N)))),r().createElement("span",{className:"rf-engraving-tileoption-right-col form-selector-right-col form-label-small column large-3 small-4"},r().createElement("span",(0,_.A)({className:"rf-engraving-tileoption-labelright"},(0,D.OH)(v))))))}}),!b&&r().createElement($,{engravingState:a,bootstrap:n,disabled:s}),r().createElement(x.gW,{key:"noEngraving",name:`engraving-option-${S}-${M}`,value:"noEngraving",checked:"noEngraving"===p,handleChange:()=>h(),disabled:!t||s,"data-autom":`noEngraving-${M}`,skipChangeSelection:!0,render:e=>{let{SelectorLabel:t}=e;return r().createElement(t,null,r().createElement("span",{className:"row row-logical"},r().createElement("span",{className:i()("form-selector-left-col","column","large-12")},r().createElement(x._V,{text:O}))))}}),!b&&R?r().createElement(U,{content:R,dimensionKey:`engraving-option-${S}-${M}`,disabled:!t||s}):null,!b&&C?r().createElement("div",(0,_.A)({id:`engraving-footer-${M}`,className:"rf-engraving-footer"},(0,D.OH)(C))):null)},V=e=>{let{part:t,engravingState:a,bootstrap:n,disabled:s,gallery:o}=e;const{data:c,completed:d}=a,{collapse:u=!0,collapseAddEngraving:m=!0}=n,p=l().get(c,"isBundleEngraving",!1),{savedSelection:g=[]}=c,h=(0,E.Vr)(g),f=u?d:h;return r().createElement("div",{className:i()({"rf-engraving-nonbundle":!p,"rf-engraving-bundleview":p,"rf-engraving-nocollapsable":!m})},r().createElement("div",{className:"rf-engraving-container rf-engraving-tile"},m&&r().createElement(r().Fragment,null,r().createElement(k.x,{in:!f},r().createElement(B,{part:t,engravingState:a,bootstrap:n,disabled:s})),r().createElement(k.x,{in:f},r().createElement($,{engravingState:a,bootstrap:n,disabled:s}))),!m&&r().createElement(B,{part:t,engravingState:a,bootstrap:n,disabled:s,gallery:o})))};var Y=a(2148),q=a(3725),j=a(584);const G=e=>{let{bootstrap:t,engravingState:a,disabled:s,hideView:o,editMode:c}=e;const[d,u]=(0,n.useState)(!1),{sectionHeader:m,sectionDescription:p,saveButton:g,cancelButton:h}=l().get(t,"assets",{}),{data:v,handleEngravingChange:y,removeEngrave:b,cancelEngrave:A,onAddingMessage:S,error:w,isFetched:T,isSaving:O,saveButtonRef:N,videoRef:C,showVideo:I,onVideoEnded:L}=a,{slotName:k,selection:x=[],savedSelection:P=[]}=v,{engravingPageData:R,engravingVideo:M}=l().get(v,"engravingDetails",{}),H=(0,E.Vr)(P),U=l().get(R,"bundles",[]),{key:$=0,bundleDisplayValue:B=""}=U[0]||{},V=l().get(x,"font")||"",G=(T&&x?x.filter((e=>!!e.errors||e.hasError)):[]).length>0,W=l().get(R,`fonts${$}`,[]),z=V?l().findIndex(W,{fontName:V}):0,{fontIdx:K=0,fontName:Q="",fontDisplayType:J,fontFamily:Z=""}=W[z]||{},X={bundleKey:$,bundleDisplayValue:B,engravingPageData:R,slotName:k,selection:x?x[$]:{},onAddingMessage:S,font:V,disabled:s,clearField:d},ee={data:M,videoRef:C,showVideo:I,onVideoEnded:L,slotName:k};return r().createElement(r().Suspense,{fallback:null},r().createElement("div",{className:"rf-engraving-showonpage"},l().isEmpty(w)&&T?r().createElement("div",{className:"row row-logical"},r().createElement("div",{className:i()("column large-6 small-12 rf-engraving-showonpage-left",{"rf-engraving-media-content":!!M})},r().createElement(j.Dk,(0,_.A)({},X,{selectedTab:z,showVideo:I})),M&&r().createElement(j.ZI,ee)),r().createElement("div",{className:"column large-6 small-12 rf-engraving-showonpage-right"},(!H||!o&&H)&&r().createElement("div",{className:"row row-logical"},r().createElement("h2",(0,_.A)({className:"rf-engraving-section-header",tabIndex:"-1"},(0,D.OH)(m))),p&&r().createElement("div",(0,_.A)({className:"rf-engraving-section-description"},(0,D.OH)(p))),r().createElement("div",{className:"column large-12 small-12"},r().createElement(F.A,{disabled:I,className:i()("rf-engraving-content",{"rf-engraving-content-disabled":I,"rf-engraving-content-hide":s})},r().createElement(Y.A,(0,_.A)({},X,{font:Q,fontFamily:Z,fontIdx:K,showEmojiPicker:J===f.MM.EMOJI_TEXT})))),r().createElement("div",{className:"column large-12 small-12 rf-engraving-actions-section"},r().createElement("button",(0,_.A)({type:"button",className:i()("button","button-block","button-super","rf-engraving-save-button",{"as-button-isloading":O}),ref:N,disabled:G||O||I,"data-autom":"engraving-save","data-trigger-id":"engraving-save",onClick:()=>{y(!0),u(!1)}},(0,D.OH)(g))),r().createElement("button",(0,_.A)({type:"button",className:"as-buttonlink rf-engraving-skip-button","data-autom":"engraving-skip","data-trigger-id":"engraving-skip",onClick:()=>{c?A():(b($),u(!0))}},(0,D.OH)(h))))))):r().createElement(q.A,{ariaLabel:"loading"})))},W=r().lazy((()=>a.e(5339).then(a.bind(a,6322)))),z=e=>{let{part:t,bootstrap:a,id:n,defaultEngravingOption:s,disableStorage:o=!1,disabled:l=!1,removeEngraving:c=!1,resetEngraving:d=!1,storageData:u,onCancel:m,onChange:p,gallery:g,hideView:h=!1,editMode:v=!1}=e;const y=C({part:t,bootstrap:a,id:n,defaultEngravingOption:s,disableStorage:o,storageData:u,removeEngraving:c,resetEngraving:d,onCancel:m,onChange:p});if(!a)return null;const{view:b,additionalParam:A}=a,{overlayVisible:S,loadOverlay:w,showContent:T,showVideo:O,saveButtonRef:N,videoRef:_,data:I,isFetching:D,error:k,handleCloseOverlay:x,validateEngravingMsg:P,onAddingMessage:R,handleEngravingChange:M,cancelEngrave:F,onOverlayHidden:H,selectedBundleKey:U,onVideoEnded:$}=y,B=(0,E.Vr)(I.savedSelection);return r().createElement(r().Fragment,null,r().createElement("div",{className:i()("rf-engraving",{"rf-engraving-isengraved":B})},(e=>{let{view:t,part:a,disabled:n,engravingState:s,bootstrap:i,gallery:o,hideView:l,editMode:c}=e;switch(t){case f.Pp.TILE:return r().createElement(V,{part:a,engravingState:s,bootstrap:i,disabled:n,gallery:o});case f.Pp.SHOW_ONPAGE:return r().createElement(G,{part:a,engravingState:s,bootstrap:i,disabled:n,gallery:o,hideView:l,editMode:c});case f.Pp.INLINE:default:return r().createElement(L,{part:a,engravingState:s,bootstrap:i,disabled:n})}})({view:b,disabled:l,engravingState:y,bootstrap:a,part:t,gallery:g,hideView:h,editMode:v})),r().createElement(r().Suspense,{fallback:null},w&&r().createElement(W,{visible:S,showContent:T,data:I,isFetching:D,error:k,videoRef:_,showVideo:O,saveButtonRef:N,onClose:x,validateEngravingMsg:P,onAddingMessage:R,onVideoEnded:$,saveEngrave:M,cancelEngrave:F,onOverlayHidden:H,selectedBundleKey:U,additionalParam:A})))}},3725:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(1594),r=a.n(n);const s=e=>{let{ariaLabel:t}=e;const a=r().useRef(null),n=r().useRef(null);return r().useEffect((()=>(n.current=document.activeElement,a.current&&a.current.focus(),()=>{n.current&&n.current.focus()})),[]),r().createElement("div",{className:"column large-12 small-12 rf-engraving-overlay-spinner"},r().createElement("div",{ref:a,role:"img",tabIndex:-1,className:"waitindicator waitindicator40-blue","aria-label":t}))}},584:(e,t,a)=>{"use strict";a.d(t,{Dk:()=>f,ZI:()=>E,rs:()=>v});var n=a(8168),r=a(1594),s=a.n(r),i=a(2224),o=a.n(i),l=a(6942),c=a.n(l),d=a(6637),u=a(8747),m=a(7213),p=a(5911),g=a(2684),h=a(7281);const f=s().forwardRef(((e,t)=>{let{bundleKey:a,bundleDisplayValue:r,engravingPageData:i,slotName:l,selection:u={},selectedTab:m,showVideo:f,additionalParam:E}=e;const{retina:v}=(0,d.useGlobalContext)(),y={},b=o().get(i,"dynamicImage",{}),A=o().get(i,`fonts${a}`,[]),S=A.length?A[m]:"",w=o().cloneDeep(b),T=o().get(w,"srcSet.src"),O={},N=o().get(w,"alt"),C=o().get(w,"defaultAXMessagePartial","");w.alt=g.GP(N,{message:C});let _=u.messages&&u.messages[0]||"",I=u.messages&&u.messages[1]||"";const D=u.messagesA11y&&u.messagesA11y[0]||"",L=u.messagesA11y&&u.messagesA11y[1]||"";y.th=_,y.tl=I;const k=o().get(l,"defaultValueArray.items"),x=o().get(l,"defaultValue",""),P=(0,h.Ve)(S.fontName),R=o().get(l,"transparentBg",!1);""===_&&""===I?(_=o().get(k,"0.value")||x,I=o().get(k,"1.value")||"",P||(y.th=_,y.tl=I)):w.alt=g.GP(N,{message:`${D} ${L}`});const M=u.font?u.font:S.fontName,F=M?{f:M,...E}:{...E};if(T&&w){const e=g.extendUrlQuery(T,{...y,...F});O.src=e}const{scaleParams1x:H,scaleParams2x:U}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;const{scaleParams1:n,scaleParams2:r}=e;return{scaleParams1x:n?g.fX({...g.parseQueryString(n),...t,...a}):null,scaleParams2x:r?g.fX({...g.parseQueryString(r),...t,...a}):null}}(w.srcSet,y,F);H&&(O.scaleParams1=H),U&&(O.scaleParams2=U);const $=o().get(O,"src",""),{src1x:B,src2x:V}=s().useMemo((()=>(e=>{if(!e||!e.src)return{};const[t,a]=e.src.split("?"),n=a?g.parseQueryString(a):{};return{src1x:e.scaleParams2?g.extendUrlQuery(t,n):g.extendUrlQuery(t,g.parseQueryString(e.scaleParams1||"")),src2x:e.scaleParams1?g.extendUrlQuery(t,n):g.extendUrlQuery(t,g.parseQueryString(e.scaleParams2||""))}})(O)),[$]),Y=v?V:B;return s().createElement("div",{className:c()("rf-engraving-image-wrapper",{"rf-engraving-transparent-wrapper":R}),ref:t},s().createElement("div",(0,n.A)({className:"rf-engraving-displayvalue"},(0,p.OH)(r))),w&&Y&&s().createElement("img",{width:w.width,height:w.height,alt:w.alt||"",src:Y,className:c()("rf-engraving-image",{"rf-engraving-image-hidden":f}),"data-autom":"preview-image"}))}));f.displayName="ImageView";const E=e=>{let{data:t,onVideoEnded:a,showVideo:r,videoRef:i,slotName:l}=e;const{alt:c,...d}=t,p={autoPlay:!0,muted:!0,playsInline:!0,"aria-hidden":!0,title:c,...o().omit(d,["poster","format"])},g=o().get(l,"transitionDuration",700);return s().createElement(m.A,{in:r,timeout:g,className:"rf-engraving-media-wrapper"},s().createElement(u.A,(0,n.A)({ref:i,className:"rf-engraving-media"},p,{onEnded:a,onStalled:a,onError:a,onContextMenu:e=>e.preventDefault()})))},v=e=>{let{isSaving:t,showVideo:a,saveButtonRef:r,slotName:i,saveEngrave:l,cancelEngrave:d,selection:u}=e;const m=o().get(i,"saveButton","Save"),g=o().get(i,"cancelButton","Cancel"),h=(u?u.filter((e=>!!e.errors||e.hasError)):[]).length>0;return s().createElement("div",{className:"rf-engraving-actions"},s().createElement("div",{className:"rf-engraving-save"},s().createElement("button",(0,n.A)({type:"button",className:c()("button","button-super","button-block",{"as-button-isloading":t}),ref:r,disabled:h||t||a,"data-autom":"engraving-save","data-trigger-id":"engraving-save",onClick:()=>l(!0)},(0,p.OH)(m)))),s().createElement("div",{className:"rf-engraving-cancel"},s().createElement("button",(0,n.A)({type:"button",className:"as-buttonlink",disabled:t,"data-autom":"engraving-cancel","data-trigger-id":"engraving-cancel",onClick:()=>d()},(0,p.OH)(g)))))}},7281:(e,t,a)=>{"use strict";a.d(t,{AW:()=>o,L7:()=>m,Q5:()=>g,US:()=>c,Uy:()=>p,Ve:()=>s,Vp:()=>d,Vr:()=>u,af:()=>l,jM:()=>i});var n=a(2224),r=a.n(n);const s=e=>"emoji"===e||"char1"===e,i=(e,t)=>r().get(e,`${t}.engravedLines`,[]).map((e=>{let{value:t}=e;return t})),o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;const a=r().uniqBy(r().get(e,`${t}.engravedLines`,[]),"font"),{font:n=""}=a[0]||{};return n},l=(e,t)=>{const a=r().find(e,(e=>e.value.fontName===t));return r().get(a,"value.fontFamily")||""},c=(e,t)=>e.map(((e,a)=>({fontIdx:a,open:t?e.value.fontName===t:0===a,...e.value}))),d=e=>{let{bundleQuantity:t=1,bundles:a=[]}=e;return Array(t).fill({}).map(((e,t)=>({...e,...a[t]?a[t]:{},key:t})))},u=e=>(e?e.filter((e=>!r().isEmpty(e)&&e.messages&&e.messages.length>0)):[]).length>0,m=()=>window.matchMedia("(prefers-reduced-motion: reduce)").matches,p=(e,t)=>r().isEmpty(t)?e:e.map((e=>e?[...e].map((e=>{const a=t.find((t=>t.value===e));return a?` ${a.a11yText} `:e})).join(""):e)),g=(e,t)=>{if(!r().isEmpty(t)){const a=t.find((t=>t.value===e));return a?a.a11yText:e}return e}},9470:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i);const l=e=>{let{title:t,className:a="",error:r,children:i,...l}=e;return s().createElement("div",(0,n.A)({className:o()(["form-alert",a,{"is-error":r}])},l),t&&s().createElement("p",{className:"form-alert-title"},t),i)}},4668:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(9470)},3360:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i);const l=(e,t)=>{let{id:a,className:r,children:i,isLoading:l,hasDefaultClass:c=!0,...d}=e;const u=o()([r,{"form-button":c},{"button-spinner":l}]);return s().createElement("button",(0,n.A)({id:a,type:"button",className:u,ref:t},d),s().createElement("span",null,i))},c=s().forwardRef(l)},7466:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(3360)},1134:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i),l=a(2370);const c=(e,t)=>{let{id:a,name:r,error:i,errorA11y:c,errorAttrs:d={},classes:u={},checked:m,className:p,label:g,children:h,"aria-describedby":f="",...E}=e;const v=o()([u.root,{"is-error":i}]),y=o()(["form-checkbox",u.wrapper]),b=s().useId(),A=a||b;return s().createElement("div",{className:v},s().createElement("div",{className:y},s().createElement("input",(0,n.A)({type:"checkbox",id:A,name:r,checked:m,className:o()(["form-checkbox-input",p]),"aria-labelledby":`${A}_label`,"aria-describedby":i?`${A}_error ${f}`:f||void 0,"aria-invalid":Boolean(i),ref:t},E)),s().createElement("label",{className:"form-label",htmlFor:A,id:`${A}_label`},s().createElement("span",{"aria-hidden":"true",className:"form-checkbox-indicator"}),h||g),i&&s().createElement(l.A,{id:`${A}_error`,className:u.error,error:i,errorA11y:c,errorAttrs:d})))},d=s().forwardRef(c)},103:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(1134)},9138:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(8168),r=a(1594),s=a.n(r);const i=(e,t)=>{let{children:a,...r}=e;return s().createElement("option",(0,n.A)({ref:t},r),a)},o=s().forwardRef(i)},3102:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i),l=a(2370);const c=(e,t)=>{let{id:a,name:r,value:i,label:c,allowNone:d,error:u,errorA11y:m,errorAttrs:p={},classes:g={},children:h,"aria-describedby":f="",...E}=e;const v=s().useId(),y=a||v,b=o()(["form-dropdown-select",g.select,{"form-dropdown-selectnone":!i&&!d}]);return s().createElement("div",{className:o()("form-dropdown",g.root,{"is-error":u})},s().createElement("select",(0,n.A)({id:y,name:r,value:i,className:b,"aria-labelledby":`${y}_label`,"aria-describedby":`${y}_error ${f}`,ref:t},E),h),s().createElement("span",{className:o()("form-dropdown-chevron",g.chevron),"aria-hidden":"true"}),s().createElement("span",{className:o()("form-dropdown-label",g.label),id:`${y}_label`,"aria-hidden":"true"},c),u&&s().createElement(l.A,{id:`${y}_error`,className:g.error,error:u,errorA11y:m,errorAttrs:p}))},d=s().forwardRef(c)},4067:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A,n:()=>r.A});var n=a(3102),r=a(9138)},2370:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i);const l=e=>{let{className:t,error:a,errorA11y:r,errorAttrs:i,...l}=e;return s().createElement("div",(0,n.A)({className:o()([t,"form-message-wrapper"])},l),r&&s().createElement("span",{className:"visuallyhidden"},r),"string"==typeof a?s().createElement("span",(0,n.A)({className:"form-message",dangerouslySetInnerHTML:{__html:a}},i)):s().createElement("div",(0,n.A)({className:"form-message"},i),a))}},7634:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(2370)},9066:(e,t,a)=>{"use strict";a.d(t,{N5:()=>u.A,Ay:()=>d});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i);const l=e=>{let{inputId:t,classes:a={},children:r,...i}=e;return s().createElement("label",(0,n.A)({htmlFor:t,className:o()("form-selector-label",a.root)},i),r)},c=(e,t)=>{let{id:a,name:r,value:i,className:c,classes:d={},children:u,render:m,circle:p,tall:g,tag:h="li",tagAttrs:f,withAriaLabeledBy:E=!1,disabled:v,nonEditable:y,...b}=e;const A=s().useId(),S=a||A,w=E?`${S}_label`:void 0;return s().createElement(h,(0,n.A)({className:o()(c,"form-selector",d.root,{"form-selector-circle":p,"form-selector-tall":g,"form-selector-non-editable":y})},f),s().createElement("input",(0,n.A)({className:o()("form-selector-input",d.input),name:r,id:S,type:"radio",value:i,"aria-labelledby":w,ref:t,disabled:v||y},b)),"function"==typeof m?m({inputId:S,SelectorLabel:e=>s().createElement(l,(0,n.A)({inputId:S,id:w},e))}):s().createElement(l,{id:w,classes:{root:d.label},inputId:S},u))},d=s().forwardRef(c);var u=a(9932)},9932:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i);const l=e=>{let{id:t,className:a,children:r,withGutters:i=!1,tag:l="ul",...c}=e;return s().createElement(l,(0,n.A)({id:t,className:o()(a,i?"form-selector-group-withgutters":"form-selector-group")},c),r)}},8595:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(3570);a(1967)},1967:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i);const l=(e,t)=>{let{classes:a={},children:r,...i}=e;return s().createElement("button",(0,n.A)({type:"button",className:o()("form-textbox-button",a.root),ref:t},i),r)},c=s().forwardRef(l)},3570:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i),l=a(2370);const c=(e,t)=>{let{id:a,name:r,value:i,label:c,labelA11y:d,type:u="text",error:m,errorA11y:p,errorAttrs:g={},search:h,valid:f,countryCode:E,countryCodeA11y:v,characterCounter:y,characterCounterA11y:b,onReset:A,resetA11y:S,resetAttrs:w,classes:T={},children:O,"aria-describedby":N="",...C}=e;const _=o()(["form-textbox",T.root,{"is-error":m,"form-textbox-with-button":O,"form-textbox-with-righticon":A||f,"form-textbox-with-lefticon":h,"form-textbox-with-countrycode":E&&E.length>4,"form-textbox-with-countrycode-twodigits":E&&3===E.length,"form-textbox-with-countrycode-threedigits":E&&4===E.length,"form-textbox-with-countrycode-onedigit":E&&E.length<=2,"form-textbox-with-counter":y}]),I=o()(["form-textbox-input",T.input,{"form-textbox-entered":Boolean(i)}]),D=s().useId(),L=a||D;return s().createElement("div",{className:_}," ",s().createElement("input",(0,n.A)({id:L,name:r,value:i,type:u,className:I,"aria-labelledby":`${L}_label`,"aria-describedby":`${L}_error ${N}`,"aria-invalid":Boolean(m),ref:t},C)),s().createElement("span",{id:`${L}_label`,className:o()("form-textbox-label",T.label),"aria-hidden":"true","aria-label":d},c),O,m&&s().createElement(l.A,{id:`${L}_error`,className:T.error,error:m,errorA11y:p,errorAttrs:g}),y&&s().createElement("div",{className:o()("form-textbox-counter-wrapper",T.characterCounter,{"is-error":m})},b&&s().createElement("span",{className:"visuallyhidden"},b),s().createElement("span",{className:"form-textbox-counter"},y)),E&&s().createElement("span",{className:o()("form-textbox-countrycode",T.countryCode)},v&&s().createElement("span",{className:"visuallyhidden"},v),s().createElement("span",null,E)),h&&s().createElement("div",{className:"form-textbox-lefticon"},s().createElement("span",{className:o()(["form-icons","form-icons-search15"])})),f&&s().createElement("div",{className:"form-textbox-righticon"},s().createElement("span",{className:o()(["icon","icon-check"])})),A&&s().createElement("div",{className:"form-textbox-righticon"},s().createElement("button",(0,n.A)({type:"button",onClick:A,className:o()(["form-icons","form-icons-reset"])},w),S&&s().createElement("span",{className:"visuallyhidden"},S))))},d=s().forwardRef(c)},4168:(e,t,a)=>{"use strict";a.d(t,{A:()=>g});var n=a(1594),r=a.n(n),s=a(2224),i=a.n(s);const o=Object.freeze({SET_FIELD_VALUE:"SET_FIELD_VALUE",SET_FIELD_TOUCHED:"SET_FIELD_TOUCHED",SET_FIELD_ERROR:"SET_FIELD_ERROR",SET_ERRORS:"SET_ERRORS",SET_TOUCHED:"SET_TOUCHED",SET_VALUES:"SET_VALUES",SET_STATUS:"SET_STATUS",SET_ISSUBMITTING:"SET_ISSUBMITTING",SET_ISVALIDATING:"SET_ISVALIDATING",SUBMIT_ATTEMPT:"SUBMIT_ATTEMPT",SUBMIT_FAILURE:"SUBMIT_FAILURE",SUBMIT_SUCCESS:"SUBMIT_SUCCESS",RESET:"RESET",RESET_FIELD:"RESET_FIELD"}),l=(e,t)=>i().get(e,t),c=(e,t,a)=>{const n=i().clone(e);return i().set(n,t,a),n},d=(e,t)=>{const a=i().clone(e);return i().unset(a,t),a},u=e=>{const t=r().useRef(e);return r().useLayoutEffect((()=>{t.current=e})),r().useCallback((function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];return t.current.apply(void 0,a)}),[])},m=(e,t)=>{let a={};return Object.keys(e).forEach((n=>{const r=e[n];if(Array.isArray(r))if(!Array.isArray(r)||(s=r)&&Array.isArray(s)&&s.reduce(((e,t)=>e&&"type"in t),!0)){const e=l(t,n),s=r?((e,t)=>t.reduce(((t,a)=>{if(t)return t;if("required"===a.type.toLowerCase())return e?t:a.message;if("regex"===a.type.toLowerCase())return a.regEx&&e?a.regEx.reduce(((t,a)=>Boolean(e.match(a))||t),!1)?t:a.message:t;if("invalid-regex"===a.type.toLowerCase())return a.regEx&&e?a.regEx.reduce(((t,a)=>!e.match(a)&&t),!0)?t:a.message:t;if("maxlength"===a.type.toLowerCase()){const n=i().get(a,"restrictions.maxLength");return n&&e?e.length<=n?t:a.message:t}if("maxlines"===a.type.toLowerCase()){const n=i().get(a,"restrictions.maxLines");return n&&e?e.split("\n").length<=n?t:a.message:t}if("range"===a.type.toLowerCase()){const n=i().get(a,"restrictions.maxVal"),r=i().get(a,"restrictions.minVal");if(!n||!r||!e)return t;const s=parseFloat(e.replace(/,/g,""));return s>=r&&s<=n?t:a.message}return console.warn(`WARNING: useForm validation rule type '${a.type}' is not supported`),t}),""))(e,r):"";s&&(a=c(a,n,s))}else{const e=[];r.forEach(((a,r)=>{const s=m({field:a},{field:t[n]&&t[n][r]});s.field&&(e[r]=s.field)})),Object.keys(e).length>0&&(a=c(a,n,e))}else{const e=m(r,t[n]);Object.keys(e).length>0&&(a=c(a,n,e))}var s})),a},p=function(e,t){switch(t.type){case o.SET_FIELD_VALUE:return{...e,values:c(e.values,t.payload.field,t.payload.value)};case o.SET_FIELD_TOUCHED:return{...e,touched:c(e.touched,t.payload.field,t.payload.value)};case o.SET_FIELD_ERROR:return{...e,errors:c(e.errors,t.payload.field,t.payload.value)};case o.SET_VALUES:return{...e,values:t.payload};case o.SET_TOUCHED:return{...e,touched:t.payload};case o.SET_ERRORS:return{...e,errors:t.payload};case o.SUBMIT_ATTEMPT:return{...e,isSubmitting:!0,touched:Object.keys(e.values).reduce(((e,t)=>(e[t]=!0,e)),{})};case o.SUBMIT_FAILURE:return{...e,isSubmitting:!1,submitError:t.payload};case o.SUBMIT_SUCCESS:return{...e,isSubmitting:!1};case o.RESET:return{values:t.payload,errors:{},touched:{}};case o.RESET_FIELD:return{...e,values:c(e.values,t.payload.field,t.payload.value),errors:d(e.errors,t.payload.field),touched:d(e.touched,t.payload.field)};case o.SET_ISSUBMITTING:return{...e,isSubmitting:t.payload};case o.SET_ISVALIDATING:return{...e,isValidating:t.payload};case o.SET_STATUS:return{...e,status:t.payload};default:return e}},g=function(e){let{initialStatus:t,initialValues:a={},initialErrors:n={},initialTouched:s={},validate:d,validationSchema:g,validateOnChange:h=!0,validateOnBlur:f=!0,focusOnFailedSubmit:E=!0,onSubmit:v=(()=>{})}=e;const[y,b]=r().useReducer(p,{status:t,values:a,errors:n,touched:s}),A=r().useRef({}),S=r().useCallback((e=>new Promise(((t,a)=>{const n=d?d(e):{};var r;n?null!==(r=n)&&"object"==typeof r&&"function"==typeof r.then?n.then((e=>t(e||{}))).catch((e=>a(e))):t(n):t({})}))),[d]),w=r().useCallback((e=>new Promise((t=>{const a=g?m(g,e):{};t(a||{})}))),[g]),T=r().useCallback((e=>Promise.all([S(e),w(e)]).then((e=>{let[t,a]=e;return i().merge(t,a)}))),[S,w]),O=r().useCallback((e=>{b({type:o.SET_ISVALIDATING,payload:!0}),T(e).then((e=>{b({type:o.SET_ERRORS,payload:e}),b({type:o.SET_ISVALIDATING,payload:!1})}))}),[T]),N=r().useCallback((e=>{b({type:o.SET_VALUES,payload:e})}),[]),C=r().useCallback((e=>{b({type:o.SET_TOUCHED,payload:e})}),[]),_=r().useCallback((e=>{b({type:o.SET_ERRORS,payload:e})}),[]),I=u(((e,t)=>{h&&O(c(y.values,e,t)),b({type:o.SET_FIELD_VALUE,payload:{field:e,value:t}})})),D=u(((e,t)=>{b({type:o.SET_FIELD_TOUCHED,payload:{field:e,value:t}}),f&&O(y.values)})),L=r().useCallback(((e,t)=>{b({type:o.SET_FIELD_ERROR,payload:{field:e,value:t}})}),[]),k=u((e=>{b({type:o.SET_ISVALIDATING,payload:!0}),T(y.values).then((t=>{b({type:o.SET_FIELD_ERROR,payload:{field:e,error:t[e]}}),b({type:o.SET_ISVALIDATING,payload:!1})}))})),x=u((()=>{b({type:o.SET_ISVALIDATING,payload:!0}),T(y.values).then((e=>{b({type:o.SET_ERRORS,payload:e}),b({type:o.SET_ISVALIDATING,payload:!1})}))})),P=r().useCallback((e=>{b({type:o.RESET_FIELD,payload:{field:e,value:l(a,e)}})}),[a]),R=r().useCallback((()=>{b({type:o.RESET,payload:a})}),[a]),M=r().useCallback((e=>{b({type:o.SET_ISSUBMITTING,payload:e})}),[]),F=r().useCallback((e=>{b({type:o.SET_ISVALIDATING,payload:e})}),[]),H=r().useCallback((e=>{b({type:o.SET_STATUS,payload:e})}),[]),U={setValues:N,setTouched:C,setErrors:_,setFieldValue:I,setFieldError:L,setFieldTouched:D,setIsSubmitting:M,setIsValidating:F,setStatus:H,resetField:P,resetForm:R},$=u((()=>{b({type:o.SUBMIT_ATTEMPT}),T(y.values).then((e=>{if(Object.keys(e).length)b({type:o.SET_ERRORS,payload:e}),b({type:o.SUBMIT_FAILURE}),E&&(e=>{const t=Object.keys(e)[0];if(!t||!A.current)return;const a=A.current[t];a&&a.focus()})(e);else try{v(y.values,U),b({type:o.SUBMIT_SUCCESS})}catch(e){b({type:o.SUBMIT_FAILURE,payload:e})}}))})),B=r().useCallback((e=>{e.persist();const t=e.target,a="checkbox"===t.type?t.checked:t.value;I(t.name,a)}),[I]),V=r().useCallback((e=>{const t=e.target;D(t.name,!0)}),[D]),Y=u((e=>{e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),$()})),q=r().useMemo((()=>!i().isEqual(y.values,a)),[y.values,a]),j=0===Object.keys(y.errors).length;return{values:y.values,errors:y.errors,touched:y.touched,isSubmitting:y.isSubmitting,isValidating:y.isValidating,status:y.status,submitError:y.submitError,isValid:j,isDirty:q,handleChange:B,handleBlur:V,handleSubmit:Y,fieldProps:e=>({name:e,value:y.values[e],onChange:B,onBlur:V}),setValues:N,setErrors:_,setTouched:C,setFieldValue:I,setFieldError:L,setFieldTouched:D,validateField:k,validateForm:x,resetField:P,resetForm:R,submitForm:$,setIsSubmitting:M,setIsValidating:F,setStatus:H,fieldRegistryRef:A,registerFieldRef:e=>{e&&e.name&&A.current&&(A.current[e.name]=e)}}}},4325:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(2224),r=a.n(n),s=a(5284),i=a(7536);const o=e=>e.reduce(((e,t)=>({...e,deliveryMessage:{...e.deliveryMessage,...r().get(t,"body.content.deliveryMessage",{})},pickupMessage:{...e.pickupMessage,...r().get(t,"body.content.pickupMessage",{}),pickupEligibility:{...r().get(e,"pickupMessage.pickupEligibility",{}),...r().get(t,"body.content.pickupMessage.pickupEligibility",{})},stores:[{...r().get(e,"pickupMessage.stores[0]",{}),...r().get(t,"body.content.pickupMessage.stores[0]",{}),partsAvailability:{...r().get(e,"pickupMessage.stores[0].partsAvailability",{}),...r().get(t,"body.content.pickupMessage.stores[0].partsAvailability",{})}}]}})),{deliveryMessage:{},pickupMessage:{}}),l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{parts:a,maxParams:n,messageTypes:l,doParamRestriction:c,timeout:d,filterTopStore:u,...m}=t,[p,g]=r().partition(a,(e=>!(!e||"object"!=typeof e)&&e.little)),h=r().chunk(p,c?n:p.length),f=r().chunk(g,c?n:g.length),E=u&&!m.little?{fts:!0}:{},v=[...h.map((t=>(0,s.hI)((0,i.bj)(e,{...m,parts:t,mts:["compact"]})))),...f.map((t=>(0,s.hI)((0,i.bj)(e,{...m,parts:t,mts:l,...E}),{timeout:d})))];return Promise.all(v).then(o)}},3757:(e,t,a)=>{"use strict";a.d(t,{E:()=>n,Y:()=>r});const n=Object.freeze({OPEN_OVERLAY:"OPEN_OVERLAY",CLOSE_OVERLAY:"CLOSE_OVERLAY",FETCH_DELIVERY_MESSAGE:"FETCH_DELIVERY_MESSAGE",SET_DELIVERY_MESSAGE:"SET_DELIVERY_MESSAGE",FETCH_LOCALITY_LOOKUP:"FETCH_LOCALITY_LOOKUP",SET_LOCALITY_LOOKUP:"SET_LOCALITY_LOOKUP",SET_USER_STATE:"SET_USER_STATE"}),r=Object.freeze({GEO_WARM:"geo warm",WARM:"dude warm",DEFAULT:"default dude",COLD:"cold"})},6638:(e,t,a)=>{"use strict";a.d(t,{C7:()=>m,GV:()=>s,Tu:()=>l,XE:()=>c,kj:()=>d,mk:()=>u,r0:()=>i,tH:()=>r,wp:()=>o});var n=a(3757);const r=function(e,t){window.asMetrics&&window.asMetrics.dudeState&&window.asMetrics.dudeState({state:"warm",inStock:e,withSetup:t})},s=function(e,t){window.asMetrics&&window.asMetrics.dudeState&&window.asMetrics.dudeState({state:"cold",inStock:e,withSetup:t})},i=function(e,t){window.asMetrics&&window.asMetrics.dudeState&&window.asMetrics.dudeState({state:"default",inStock:e,withSetup:t})},o=function(e,t){window.asMetrics&&window.asMetrics.dudeState&&window.asMetrics.dudeState({state:"warm-geo",inStock:e,withSetup:t})},l=function(e,t,a){let r;switch(e){case n.Y.GEO_WARM:case n.Y.WARM:r="Delivery options";break;case n.Y.DEFAULT:r="Get more delivery options";break;case n.Y.Cold:default:r="Get Delivery dates"}window.asMetrics.fireMicroEvent({eVar:"eVar6",feature:a||`${t[1]} - Link`,action:`${r} | Selected`})},c=function(e){window.asMetrics.fireMicroEvent({eVar:"prop37",feature:"view options",action:e})},d=function(e){window.asMetrics.fireMicroEvent({eVar:"prop37",feature:"Delivery options",action:e})},u=function(e){e.length&&window.asMetrics.leadQuote&&"function"==typeof window.asMetrics.leadQuote&&window.asMetrics.leadQuote(e)},m=function(e){let{eaglePosition:t,...a}=e;window.asMetrics.dude2&&"function"==typeof window.asMetrics.dude2&&window.asMetrics.dude2({position:t,...a})}},982:(e,t,a)=>{"use strict";a.d(t,{CF:()=>o,bv:()=>i,h2:()=>l,zP:()=>c});var n=a(2224),r=a.n(n),s=a(3757);const i=(e,t,a)=>t&&t.address||r().get(a,`[${e}].expanded.address`)||r().get(a,`[${e}].regular.address`),o=(e,t)=>e&&e.geoLocated||t&&t.geoEnabled&&t.geoLocated,l=(e,t)=>{let a=t[0];return"object"==typeof a&&(a=a.part),e.geoLocated?s.Y.GEO_WARM:e.dudeLocated||e.dudeWarmedForOmniture?s.Y.WARM:a&&r().get(e,`[${a}].regular.defaultLocationEnabled`)?s.Y.DEFAULT:s.Y.COLD},c=(e,t)=>Object.keys(e).reduce(((a,n)=>(a[n]=t[n]?`${e[n]} ${t[n]}`:e[n],a)),{})},6602:(e,t,a)=>{"use strict";a.d(t,{A:()=>g});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i),l=a(2224),c=a.n(l),d=a(5087),u=a(2651),m=a(1426);const p=e=>{let{part:t,bootstrap:a,fulfillment:n,classes:r,hideDudeQuote:i,hidePickupQuote:l,hideSearch:p,little:g,compact:h,sticky:f,cache:E=!0,a11yText:v,disabled:y=!1,isStickyBanner:b=!1}=e;const A=(e=>{let{bootstrap:t,little:a,compact:n,sticky:r}=e;return a||n?c().get(t,"messageType.compact","compact"):r?c().get(t,"messageType.sticky","sticky"):c().get(t,"messageType.regular","regular")})({bootstrap:a,little:g,compact:h,sticky:f}),S=(0,m.A)(c().get(n,`deliveryMessage[${t}][${A}]`),E),w=c().get(S,"dudeAttributes.leadByPickup"),T=c().get(S,"dudeAttributes.templateID"),O=c().get(r,"dude","column large-12"),N=i?null:s().createElement(d.A,{key:"dude-quote",part:t,format:A,deliveryMessage:c().get(n,`deliveryMessage[${t}][${A}]`),onTriggerClick:n.handleOpenDudeOverlay,little:g,classes:{dude:O},a11yText:v,templateId:T,cache:E,disabled:y,isStickyBanner:b}),C=l?null:s().createElement(u.A,{key:"pickup-quote",pickupMessage:n.pickupMessage,part:t,format:A,hideSearch:p,bootstrap:a,onTriggerClick:n.handleOpenApuOverlay,classes:r,templateId:T,cache:E,disabled:y,isStickyBanner:b});return s().createElement("div",{className:o()({"rf-fulfillment-quote row":!g,"rf-fulfillment-quote-little":g,"rf-fulfillment-quote-sticky":f,"rf-fulfillment-quote-leadbypickup":"true"===w})},"true"===w?s().createElement(s().Fragment,null,C,N):s().createElement(s().Fragment,null,N,C))},g=e=>{let{bootstrap:t,...a}=e;return t?s().createElement(p,(0,n.A)({bootstrap:t},a)):null}},101:(e,t,a)=>{"use strict";a.d(t,{X:()=>r.A,w:()=>n.A});var n=a(4473),r=a(6602)},2905:(e,t,a)=>{"use strict";a.d(t,{E:()=>n});const n=Object.freeze({FETCH_PICKUP_AVAILABILITY:"FETCH_PICKUP_AVAILABILITY",SET_PICKUP_AVAILABILITY:"SET_PICKUP_AVAILABILITY",UPDATE_PICKUP_AVAILABILITY:"UPDATE_PICKUP_AVAILABILITY",SET_STORE_ID:"SET_STORE_ID",SET_GEO_STORE_ID:"SET_GEO_STORE_ID",SET_OVERLAY:"SET_OVERLAY",SELECTED_PART_DATA:"SELECTED_PART_DATA",SL_FETCH_PICKUP_START:"SL_FETCH_PICKUP_START",SL_FETCH_PICKUP_ERROR:"SL_FETCH_PICKUP_ERROR",SL_FETCH_PICKUP_SUCCESS:"SL_FETCH_PICKUP_SUCCESS",SL_CLEAR_PICKUP_DATA:"SL_CLEAR_PICKUP_DATA",PL_FETCH_META_START:"PL_FETCH_META_START",PL_FETCH_META_ERROR:"PL_FETCH_META_ERROR",PL_FETCH_META_SUCCESS:"PL_FETCH_META_SUCCESS",PL_META_SET_CONFIG:"PL_META_SET_CONFIG",PL_FILTER_INIT:"PL_FILTER_INIT",PL_FILTER_UPDATE:"PL_FILTER_UPDATE",PL_FILTER_SET_PART:"PL_FILTER_SET_PART",PL_FILTER_SHOW:"PL_FILTER_SHOW",PL_FILTER_HIDE:"PL_FILTER_HIDE",PL_PICKUP_SHOW_TOGGLE:"PL_PICKUP_SHOW_TOGGLE",PL_PICKUP_HIDE_TOGGLE:"PL_PICKUP_HIDE_TOGGLE",PL_PICKUP_UPDATE_STORE_SELECTION:"PL_PICKUP_UPDATE_STORE_SELECTION",PL_PICKUP_REMOVE_STORE_SELECTION:"PL_PICKUP_REMOVE_STORE_SELECTION",PL_FETCH_PICKUP_START:"PL_FETCH_PICKUP_START",PL_FETCH_PICKUP_ERROR:"PL_FETCH_PICKUP_ERROR",PL_FETCH_PICKUP_SUCCESS:"PL_FETCH_PICKUP_SUCCESS",PL_CLEAR_PICKUP_DATA:"PL_CLEAR_PICKUP_DATA",PL_FETCH_DELIVERY_START:"PL_FETCH_DELIVERY_START",PL_FETCH_DELIVERY_ERROR:"PL_FETCH_DELIVERY_ERROR",PL_FETCH_DELIVERY_SUCCESS:"PL_FETCH_DELIVERY_SUCCESS",PL_CLEAR_DELIVERY_DATA:"PL_CLEAR_DELIVERY_DATA",PL_FETCH_SUGGESTIONS_START:"PL_FETCH_SUGGESTIONS_START",PL_FETCH_SUGGESTIONS_ERROR:"PL_FETCH_SUGGESTIONS_ERROR",PL_FETCH_SUGGESTIONS_SUCCESS:"PL_FETCH_SUGGESTIONS_SUCCESS",PL_CLEAR_SUGGESTIONS_DATA:"PL_CLEAR_SUGGESTIONS_DATA",PL_SUGGESTIONS_UPDATE_STORE_SELECTION:"PL_SUGGESTIONS_UPDATE_STORE_SELECTION",PL_SUGGESTIONS_REMOVE_STORE_SELECTION:"PL_SUGGESTIONS_REMOVE_STORE_SELECTION",PL_SUGGESTIONS_SHOW_TOGGLE:"PL_SUGGESTIONS_SHOW_TOGGLE",PL_SELECTION_UPDATE:"PL_SELECTION_UPDATE",PL_SELECTION_REMOVE:"PL_SELECTION_REMOVE",PL_SELECTION_CLEAR:"PL_SELECTION_CLEAR"})},5087:(e,t,a)=>{"use strict";a.d(t,{A:()=>O});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i),l=a(2224),c=a.n(l),d=a(1191),u=a(3785),m=a(3908),p=a(4828),g=a(5911),h=a(6637),f=a(1265),E=a(7536),v=a(1426),y=a(941),b=a(809),A=a(8823);const S=e=>{let{part:t,deliveryMessage:a,templateId:r,onTriggerClick:i,a11yText:o,classes:l={},disabled:c,isStickyBanner:d}=e;const u=(0,E.zP)({dude:"rf-dude-quote",dudeDefault:"rf-dude-quote-default",dudeWithTooltip:"rf-dude-quote-tooltip",icon:"rf-dude-quote-icon",header:"rf-dude-quote-header",label:"rf-dude-quote-label",suffixlabel:"rf-dude-quote-suffix-label",info:`rf-dude-quote-info ${f.A.BODY_REDUCED}`,deliveryMessageList:"rf-dude-quote-delivery-message-list",deliveryMessage:"rf-dude-quote-delivery-message",deliveryPromo:"rf-dude-quote-delivery-promo",overlayTrigger:"rf-dude-quote-overlay-trigger"},l);return r===A.A.DUDE2_0?s().createElement(b.A,(0,n.A)({},a,{composedClasses:u,onTriggerClick:i,part:t,a11yText:o,disabled:c,isStickyBanner:d})):s().createElement(y.A,(0,n.A)({},a,{composedClasses:u,onTriggerClick:i,part:t,a11yText:o,disabled:c,isStickyBanner:d}))},w=e=>{let{part:t,deliveryMessage:a={},onTriggerClick:r=(e=>e),classes:i={}}=e;const l=s().useRef(),{stickyMessageDeliveryOptions:c,stickyMessageIDL:v,stickyMessageSTH:y}=a,b=(0,E.zP)({info:`rf-dude-quote-sticky-info ${f.A.BODY_REDUCED}`,suffixlabel:"rf-dude-quote-sticky-suffix-label",delivery:"rf-dude-quote-sticky-delivery",idlWrapper:"rf-dude-quote-sticky-idl",sthWrapper:"rf-dude-quote-sticky-sth",deliveryInfo:"rf-dude-quote-sticky-delivery-info",deliveryMessage:"rf-dude-quote-sticky-delivery-message",overlayTrigger:"rf-dude-quote-overlay-trigger"},i),{viewport:A}=(0,h.useGlobalContext)(),S="small"===A,w=S?d:u,T=S?m:p;return s().createElement("div",{className:b.info,"data-autom":"deliveryQuotes"},c&&s().createElement("div",{className:b.delivery},s().createElement("div",(0,n.A)({ref:l,className:b.suffixlabel},(0,g.OH)(c),{onClick:e=>{const a=l.current?l.current.querySelector("button"):null,n=a&&a.contains(e.target);e.target&&(n||e.target.classList.contains(b.overlayTrigger))&&r(t,l,!0)}}))),v&&s().createElement("div",{className:o()(b.delivery,b.idlWrapper)},s().createElement("span",(0,n.A)({className:"as-svgicon-container"},(0,g.OH)(w))),s().createElement("span",(0,n.A)({className:b.deliveryInfo},(0,g.OH)(v)))),y&&s().createElement("div",{className:o()(b.delivery,b.sthWrapper)},s().createElement("span",(0,n.A)({className:"as-svgicon-container"},(0,g.OH)(T))),s().createElement("span",(0,n.A)({className:b.deliveryMessage},(0,g.OH)(y)))))},T=e=>{let{deliveryMessage:t={},classes:a={}}=e;const{label:n,quote:r}=t,i=(0,E.zP)({littleDude:"rf-dude-quote-little",quote:`rf-dude-quote-little-quote ${f.A.BODY_REDUCED}`},a);return s().createElement("div",{className:i.littleDude},s().createElement("div",{className:i.quote,"data-autom":"deliveryQuotes"},n?s().createElement("span",null,n," "):null,r?s().createElement("span",null,r," "):null))},O=e=>{let{format:t="regular",cache:a=!0,deliveryMessage:r,...i}=e;const o=(0,v.A)(r,a);if(c().isEmpty(o))return null;switch(t){case"compact":return s().createElement(T,(0,n.A)({deliveryMessage:o},i));case"sticky":return s().createElement(w,(0,n.A)({deliveryMessage:o},i));default:return s().createElement(S,(0,n.A)({deliveryMessage:o},i))}}},941:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i),l=a(554),c=a(4828),d=a(1265),u=a(5911);const m=e=>{let{orderByDeliveryBy:t,deliveryOptionMessages:a,promoMessage:r,showDeliveryOptionsLink:i,deliveryOptionsLink:m,isElectronic:p,composedClasses:g,onTriggerClick:h,part:f,a11yText:E,disabled:v,isStickyBanner:y}=e;const b=s().useRef();return s().createElement("div",{className:o()(g.dude,g.dudeDefault,d.A.BODY_REDUCED),"data-autom":"dudeInfo"},s().createElement("span",(0,n.A)({className:o()("as-svgicon-container",g.icon)},(0,u.OH)(p?l:c))),s().createElement("div",{className:g.info},t&&s().createElement("span",{className:g.label},t),s().createElement("ul",{className:g.deliveryMessageList},a&&a.map((e=>s().createElement("li",{key:e.displayName,className:g.deliveryMessage},s().createElement("span",null,e.displayName)))),r&&s().createElement("li",{className:g.deliveryPromo},s().createElement("span",null,r))),i&&m&&s().createElement("button",{ref:b,type:"button",className:o()(g.overlayTrigger,"as-buttonlink","icon icon-after icon-pluscircle"),onClick:()=>h(f,b,y),"data-autom":`deliveryDateChecker_${f}`,disabled:v},s().createElement("span",(0,u.OH)(m.text)),E&&s().createElement("span",(0,n.A)({className:"visuallyhidden"},(0,u.OH)(E))))))}},809:(e,t,a)=>{"use strict";a.d(t,{A:()=>v});var n=a(8168),r=a(1594),s=a.n(r),i=a(2224),o=a.n(i),l=a(6942),c=a.n(l),d=a(554),u=a(4828),m=a(1265),p=a(5911),g=a(5925),h=a(837);const f=e=>{e&&window.asMetrics.fireMicroEvent({eVar:"prop37",feature:"delivery",action:"setup | tooltip"})},E=e=>{const{content:t,title:a}=e,n=s().createElement("span",(0,p.OH)(t));return s().createElement("span",null,s().createElement(g.A,{content:n,focusOnClick:!0,handleChange:f,className:"rf-dude-quote-tooltip-content"},s().createElement("button",{className:"rf-dude-quote-tooltip-button icon icon-after icon-questionsolid",type:"button","aria-label":a})))},v=e=>{let{orderByDeliveryBy:t,deliveryOptionMessages:a,promoMessage:r,showDeliveryOptionsLink:i,deliveryOptionsLink:l,isElectronic:g,orderByDeliveryBySuffix:f,composedClasses:v,onTriggerClick:y,part:b,dudeAttributes:A,a11yText:S,disabled:w,isStickyBanner:T}=e;const O=s().useRef(),N=o().get(A,"deliveryHeader");return s().createElement("div",{className:c()(v.dude,v.dudeWithTooltip,m.A.BODY_REDUCED)},s().createElement("span",(0,n.A)({className:c()("as-svgicon-container",v.icon)},(0,p.OH)(g?d:u))),s().createElement("div",{className:v.info},N&&s().createElement("div",{className:v.header},N),s().createElement("div",{className:"rf-dude-quote-delivery-label"},t&&s().createElement("span",{className:v.label},`${t} `),f&&s().createElement(h.A,{disabled:w,classes:{root:"rf-dude-quote-tooltip-disabled"}},s().createElement("span",(0,n.A)({ref:O,className:v.suffixlabel},(0,p.OH)(f),{onClick:e=>{const t=O.current?O.current.querySelector("button"):null,a=t&&t.contains(e.target);e.target&&(a||e.target.classList.contains(v.overlayTrigger))&&y(b,O,T)}})))),s().createElement("ul",{className:v.deliveryMessageList},a&&a.map((e=>s().createElement("li",{key:e.displayName,className:v.deliveryMessage},s().createElement("span",null,e.displayName),e.toolTip&&s().createElement(E,{title:e.displayName,content:e.toolTip})))),r&&s().createElement("li",{className:v.deliveryPromo},s().createElement("span",null,r))),i&&l&&s().createElement("button",{ref:O,type:"button",className:c()(v.overlayTrigger,"as-buttonlink","icon icon-after icon-pluscircle"),onClick:()=>y(b,O),"data-autom":`deliveryDateChecker_${b}`,disabled:w},s().createElement("span",(0,p.OH)(l.text)),S&&s().createElement("span",(0,n.A)({className:"visuallyhidden"},(0,p.OH)(S))))))}},8823:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n=Object.freeze({DUDE2_0:"DUDE_APU_N"})},2651:(e,t,a)=>{"use strict";a.d(t,{A:()=>S});var n=a(8168),r=a(1594),s=a.n(r),i=a(2224),o=a.n(i),l=a(6942),c=a.n(l),d=a(6637),u=a(1265),m=a(1337),p=a(6019),g=a(5911),h=a(1426),f=a(2009),E=a(7960),v=a(747);const y=e=>{let{part:t,hideSearch:a=!1,info:n,pickupQuote:r,pickupQuoteForApu2:i,onTriggerClick:o=(e=>e),classes:l={},templateId:c,storeData:d,singleStoreCountry:u,productLocatorEnabled:m,littleApuEnabled:p,disabled:g,isStickyBanner:h}=e;return c===v.A.APU2_0?s().createElement(E.A,{pickupQuote:r,pickupQuoteForApu2:i,part:t,onTriggerClick:o,storeData:d,classes:l,hideSearch:a,info:n,singleStoreCountry:u,productLocatorEnabled:m,littleApuEnabled:p,disabled:g,isStickyBanner:h}):s().createElement(f.A,{pickupQuote:r,part:t,onTriggerClick:o,storeData:d,classes:l,hideSearch:a,info:n,singleStoreCountry:u,productLocatorEnabled:m,littleApuEnabled:p,disabled:g,isStickyBanner:h})},b=e=>{let{info:t={},pickupQuote:a}=e;return a?s().createElement("div",{className:c()("rf-pickup-quote-info","rf-pickup-quote-info-little",u.A.BODY_REDUCED),"data-autom":"pickUpDetails"},s().createElement("span",(0,n.A)({className:"rf-pickup-quote-label"},(0,g.OH)(t.storePickupLabel))),s().createElement("span",(0,n.A)({className:"rf-pickup-quote-value"},(0,g.OH)(a)))):null},A=e=>{let{part:t,info:a={},pickupQuote:r,onTriggerClick:i=(e=>e)}=e;const l=s().useRef(),h=r||o().get(a,"storePickupMessage"),{viewport:f}=(0,d.useGlobalContext)(),E="small"===f?m:p;return s().createElement("div",{className:c()("rf-pickup-quote-sticky-info",u.A.BODY_REDUCED),"data-autom":"pickUpDetails"},s().createElement("span",(0,n.A)({className:"as-svgicon-container"},(0,g.OH)(E))),s().createElement("span",(0,n.A)({ref:l,className:"rf-pickup-quote-sticky-value"},(0,g.OH)(h),{onClick:e=>{e.target&&e.target.classList.contains("rf-pickup-quote-overlay-trigger")&&i(t,a.storePickupProductTitle,l,!0)}})))},S=e=>{let{bootstrap:t,part:a,format:r="regular",cache:i=!0,pickupMessage:l,...c}=e;const{singleStoreCountry:d,productLocatorEnabled:u}=t,m=o().get(l,"stores.0",{hoursUrl:"#"}),p=o().get(m,`partsAvailability[${a}].messageTypes[${r}]`)||o().get(l,`content.pickupEligibility[${a}].messageTypes[${r}]`),g=(0,h.A)(p,i);if(o().isEmpty(g)||o().isEmpty(t))return null;const f=o().get(g,"storePickupQuote")||o().get(g,"pickupQuote"),E=o().get(g,"storePickupQuote2_0");switch(r){case"compact":return s().createElement(b,(0,n.A)({part:a,info:g,pickupQuote:f,singleStoreCountry:d,productLocatorEnabled:u,storeData:m},c));case"sticky":return s().createElement(A,(0,n.A)({part:a,info:g,pickupQuote:f,singleStoreCountry:d,productLocatorEnabled:u,storeData:m},c));default:return s().createElement(y,(0,n.A)({part:a,info:g,pickupQuote:f,pickupQuoteForApu2:E,singleStoreCountry:d,productLocatorEnabled:u,storeData:m},c))}}},7960:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i),l=a(6019),c=a(1265),d=a(5911),u=a(837);const m=e=>{let{pickupQuote:t,pickupQuoteForApu2:a,part:r,onTriggerClick:i,storeData:m,classes:p,hideSearch:g,info:h,singleStoreCountry:f,productLocatorEnabled:E,littleApuEnabled:v,disabled:y,isStickyBanner:b}=e;const A=s().useRef(),S=a||t;if(!t&&(g||v))return null;const w=a?null:s().createElement("button",{ref:A,type:"button",onClick:()=>i(r,h.storePickupProductTitle,A,b),className:o()("rf-pickup-quote-overlay-trigger","as-buttonlink","icon icon-after icon-pluscircle"),"data-autom":E?"productLocatorTriggerLink":"buacEligibilityChecker",disabled:y},s().createElement("span",(0,d.OH)(h.storePickupLinkText)));return s().createElement("div",{className:o()("rf-pickup-quote-storelink",p.root)},s().createElement("div",{className:o()(c.A.BODY_REDUCED,"rf-pickupinfo",p.info,{"rf-pickupinfo-noquote":!S})},!v&&s().createElement("span",(0,n.A)({className:o()("as-svgicon-container","rf-pickup-quote-icon",p.svgIcon)},(0,d.OH)(l))),s().createElement("div",{className:o()("rf-pickup-quote-info",{"rf-pickup-quote-info-little":v},c.A.BODY_REDUCED),"data-autom":"pickUpDetails",onClick:e=>{e.target&&e.target.classList.contains("rf-pickup-quote-overlay-trigger")&&i(r,h.storePickupProductTitle,A,b)}},s().createElement("span",(0,n.A)({className:"rf-pickup-quote-label"},(0,d.OH)(h.storePickupLabel))),h.storePickupLabelDesc&&s().createElement("span",(0,n.A)({className:"rf-pickup-quote-label-desc"},(0,d.OH)(h.storePickupLabelDesc))),s().createElement(u.A,{disabled:y,classes:{root:"rf-pickup-quote-disabled"}},s().createElement("span",(0,n.A)({className:"rf-pickup-quote-value",ref:A},(0,d.OH)(S)))),!v&&h.storeSearchEnabled&&!g&&(f&&!E?s().createElement("a",{className:"rf-pickupinfo-moreinfolink",href:m.hoursUrl,target:"_blank",rel:"noopener noreferrer",tabIndex:y?-1:void 0},s().createElement("span",(0,d.OH)(h.storePickupLinkText)),s().createElement("span",{className:"visuallyhidden"},h.storePickupProductTitle)):w))))}},2009:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var n=a(8168),r=a(1594),s=a.n(r),i=a(6942),o=a.n(i),l=a(6019),c=a(1265),d=a(5911);const u=e=>{let{pickupQuote:t,part:a,onTriggerClick:r,storeData:i,classes:u,hideSearch:m,info:p,singleStoreCountry:g,productLocatorEnabled:h,littleApuEnabled:f,disabled:E,isStickyBanner:v}=e;const y=s().useRef();return t||!m&&!f?s().createElement("div",{className:u.root},s().createElement("div",{className:o()(c.A.BODY_REDUCED,"rf-pickupinfo",u.info,{"rf-pickupinfo-noquote":!t})},!f&&s().createElement("span",(0,n.A)({className:o()("as-svgicon-container","rf-pickup-quote-icon",u.svgIcon)},(0,d.OH)(l))),s().createElement("div",{className:o()("rf-pickup-quote-info",{"rf-pickup-quote-info-little":f},c.A.BODY_REDUCED),"data-autom":"pickUpDetails"},s().createElement("span",(0,n.A)({className:"rf-pickup-quote-label"},(0,d.OH)(p.storePickupLabel))),s().createElement("span",(0,n.A)({className:"rf-pickup-quote-value"},(0,d.OH)(t))),!f&&p.storeSearchEnabled&&!m&&(g&&!h?s().createElement("a",{className:"rf-pickupinfo-moreinfolink",href:i.hoursUrl,target:"_blank",rel:"noopener noreferrer",tabIndex:E?-1:void 0},s().createElement("span",(0,d.OH)(p.storePickupLinkText)),s().createElement("span",(0,n.A)({className:"visuallyhidden"},(0,d.OH)(p.storePickupProductTitle)))):s().createElement("button",{ref:y,type:"button",onClick:()=>r(a,p.storePickupProductTitle,y,v),className:o()("rf-pickup-quote-overlay-trigger","as-buttonlink","icon icon-after icon-pluscircle"),"data-autom":h?`productLocatorTriggerLink_${a}`:`buacEligibilityChecker_${a}`,disabled:E},s().createElement("span",(0,d.OH)(p.storePickupLinkText)),s().createElement("span",(0,n.A)({className:"visuallyhidden"},(0,d.OH)(p.storePickupProductTitle)))))))):null}},747:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n=Object.freeze({APU2_0:"DUDE_APU_N"})},2397:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,E:()=>l});var n=a(2224),r=a.n(n),s=a(3757),i=a(2905),o=a(7536);const l=Object.freeze({SET_LOADED:"SET_LOADED"}),c=(e,t)=>{switch(t.type){case s.E.OPEN_OVERLAY:return{...e,overlayDudeVisible:!0,overlayPart:t.payload};case s.E.CLOSE_OVERLAY:return{...e,overlayDudeVisible:!1};case s.E.FETCH_DELIVERY_MESSAGE:return{...e,deliveryMessage:{...e.deliveryMessage,fetching:!0}};case s.E.SET_DELIVERY_MESSAGE:return{...e,deliveryMessage:{...(0,o.t$)(e.deliveryMessage,t.payload),errorMessage:r().get(t,"payload.data.errorMessage"),fetching:!1}};case s.E.SET_USER_STATE:return{...e,userState:t.payload};case i.E.FETCH_PICKUP_AVAILABILITY:return{...e,fetching:!0};case i.E.SET_STORE_ID:return{...e,storeId:t.payload,geoStoreId:null};case i.E.SET_GEO_STORE_ID:return{...e,geoStoreId:t.payload};case i.E.SET_OVERLAY:return{...e,overlayApuVisible:t.payload};case i.E.SELECTED_PART_DATA:{const{partNumber:a,productTitle:n}=t.payload;return{...e,overlayPart:a,productTitle:n}}case i.E.UPDATE_PICKUP_AVAILABILITY:{const a=r().get(e,"pickupMessage.content",{}),n=r().get(t,"payload.data"),s=r().get(t,"payload.partsToClear",[]),i={...r().omit(a.pickupEligibility,s),...n.pickupEligibility},o={...a,...n};o.pickupEligibility=i;const l=r().get(e,"pickupMessage.stores[0]",{}),c=r().get(t,"payload.data.stores[0]",{}),d={...r().omit(l.partsAvailability,s),...c.partsAvailability},u=[{...l,...c}];return u[0].partsAvailability=d,{...e,fetching:!1,pickupMessage:{...e.pickupMessage,...t.payload,stores:u,content:o}}}case i.E.SET_PICKUP_AVAILABILITY:return{...e,fetching:!1,pickupMessage:t.payload};case l.SET_LOADED:return{...e,loaded:t.payload};default:return e}}},1426:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(1594),r=a.n(n),s=a(2224),i=a.n(s);const o=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const a=r().useRef(e),n=i().isEmpty(e)&&!i().isEmpty(a.current);return r().useEffect((()=>{n||(a.current=e)}),[e,n]),n&&t?a.current:e}},4473:(e,t,a)=>{"use strict";a.d(t,{A:()=>b});var n=a(1594),r=a.n(n),s=a(2224),i=a.n(s),o=a(2096),l=a(6638),c=a(982),d=a(3757),u=a(2905),m=a(2397),p=a(4325),g=a(7536);const h=(e,t)=>e.map((e=>e&&"object"==typeof e?e.part:e)).map((e=>t[e])),f=e=>{e&&e.querySelector("button")?e.querySelector("button").focus():e&&e.focus()},E=(e,t)=>{e.map((e=>e&&"object"==typeof e?e.part:e)).forEach((e=>{if(void 0!==i().get(t,`[${e}].regular.dudeAttributes.source`)){const{deliveryHeader:a,leadByPickup:n,fastestShipMethodPriceLabel:r,cutoffFormat:s,eaglePosition:o,templateId:c,deliveryOrderSortBy:d}=i().get(t,`[${e}].regular.dudeAttributes.source`);(0,l.C7)({eaglePosition:o,deliveryHeader:a,leadByPickup:n,deliveryOrderSortBy:d,fastestShipMethodPriceLabel:r,cutoffFormat:s,templateId:c})}}))},v=(e,t)=>{if(!t)return;const a=h(e,t).map((e=>i().isEmpty(i().get(e,"expanded"))?i().get(e,"regular"):i().get(e,"expanded")));i().isEmpty(a)||(0,l.mk)(a)},y=(e,t,a)=>{const n=(0,c.bv)(t.overlayPart,{},t.deliveryMessage),r=(0,c.bv)(t.overlayPart,{},a),s=e===d.Y.WARM&&!i().isEqual(n,r);(t.userState!==e||s)&&(0,l.XE)(`${t.userState} - ${e}`)},b=e=>{let{bootstrap:t={},messageTypes:a=["regular"],parts:n,onDeliveryMessage:s,onStoreSelection:b}=e;const{fulfillmentMessageUrl:A,geoLookupUrl:S,hasLittleDude:w,littleApuEnabled:T=!1,maxParamsPerURL:O,doParamRestriction:N,isSingleStorePickup:C,singleStoreId:_,countryCode:I,cookie:D={},omnitureData:L=[],suppressMetrics:k,loadingVoText:x="",resultVoText:P="",resultsVoText:R="",consent:M={},timeout:F=1e4,filterTopStore:H=!1}=t,[U,$]=r().useReducer(m.A,{overlayDudeVisible:!1,overlayApuVisible:!1,overlayPart:null,deliveryMessage:{},localityLookup:{},storeId:null,pickupMessage:{stores:[]},loaded:!1}),B=r().useRef(null),V=r().useRef(null),Y=r().useRef(!1),q=N&&0!==O?O:n.length,j=(0,o.y)(M),G=i().get(j,"getConsentCookie"),W=r().useRef([]),z=r().useRef({}),K=r().useRef(!1),Q=a.join("-");r().useEffect((()=>{if(A){const e=C?_:U.storeId||(0,g.Jd)(D.name,I);U.storeId||$({type:u.E.SET_STORE_ID,payload:e});const t=i().differenceWith(n,W.current,i().isEqual),r=Array.isArray(t)&&t.length;W.current=n,r?($({type:d.E.FETCH_DELIVERY_MESSAGE}),$({type:u.E.FETCH_PICKUP_AVAILABILITY}),(0,p.A)(A,{parts:t,maxParams:q,doParamRestriction:N,messageTypes:w?["compact"]:a,store:e,little:T,timeout:F,filterTopStore:H}).then((a=>{const o=(0,g.Ns)(z,t),p=(0,g.nm)(n,o);$({type:d.E.SET_DELIVERY_MESSAGE,payload:{data:a.deliveryMessage,parts:t,partsToClear:p}}),s&&s(a.deliveryMessage,r?"partChange":"warmedByApu");const f=(0,c.h2)(a.deliveryMessage,n);$({type:d.E.SET_USER_STATE,payload:f}),$({type:u.E.UPDATE_PICKUP_AVAILABILITY,payload:{data:a.pickupMessage,partsToClear:p}});const y=(0,g.Jd)(D.name,I),b=i().get(a,"pickupMessage.stores.0.storeNumber");e||(y&&$({type:u.E.SET_STORE_ID,payload:y}),!y&&b&&$({type:u.E.SET_GEO_STORE_ID,payload:b}));i().get(a,"pickupMessage.filteredTopStore",!1)&&e&&b&&$({type:u.E.SET_STORE_ID,payload:b}),U.loaded||$({type:m.E.SET_LOADED,payload:!0}),K.current||(((e,t,a)=>{const n=h(t,a),r=i().some(n,"regular.dudeAttributes.deliveryHeader")||null,s=n.reduce(((e,t)=>{const a=i().get(t,"regular.deliveryOptionMessages",[]);return i().some(a,"toolTip")||null}),null);switch(e){case d.Y.GEO_WARM:return void(0,l.wp)(r,s);case d.Y.WARM:return void(0,l.tH)(r,s);case d.Y.DEFAULT:return void(0,l.r0)(r,s);case d.Y.COLD:default:(0,l.GV)(r,s)}})(f,n,a.deliveryMessage),K.current=!0),k||(v(n,a.deliveryMessage),E(n,a.deliveryMessage))}))):0===n.length&&U.loaded&&$({type:m.E.SET_LOADED,payload:!1})}}),[n,A,q,w,s,k,U.storeId,Q,C,_,I,N,F,T,D.name,H]);const J=()=>$({type:u.E.SET_OVERLAY,payload:!1}),Z={loading:x,result:P,results:R},X={label:M.label,cookieCompliance:j};return{...U,geoLookupUrl:S,handleOpenDudeOverlay:function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];$({type:d.E.OPEN_OVERLAY,payload:e});const r=a?`${L[1]}|sticky - Link`:`${L[1]} - Link`;(0,l.Tu)(U.userState,L,r);const i=(0,c.bv)(e,{},U.deliveryMessage)||{},o=(0,c.CF)({},U.deliveryMessage);if(U.userState===d.Y.GEO_WARM||U.userState===d.Y.WARM){$({type:d.E.FETCH_DELIVERY_MESSAGE});(0,p.A)(A,{parts:n,maxParams:q,doParamRestriction:N,messageTypes:["expanded"],geoLocated:o,...i}).then((e=>{$({type:d.E.SET_DELIVERY_MESSAGE,payload:{data:e.deliveryMessage,parts:n}}),k||v(n,e.deliveryMessage),s&&s(e.deliveryMessage,"warmStart")}))}B.current=t.current},handleCloseDudeOverlay:()=>{$({type:d.E.CLOSE_OVERLAY});const e=U.overlayPart,t=(0,c.bv)(e,{},U.deliveryMessage)||{},r=(0,c.CF)({},U.deliveryMessage);(U.userState===d.Y.GEO_WARM||U.userState===d.Y.WARM)&&(0,p.A)(A,{parts:n,maxParams:q,doParamRestriction:N,messageTypes:a,geoLocated:r,...t,filterTopStore:H}).then((e=>{$({type:d.E.SET_DELIVERY_MESSAGE,payload:{data:e.deliveryMessage,parts:n}}),s&&s(e.deliveryMessage,"overlayClosed");const t=(0,g.Jd)(D.name,I);!_&&!U.storeId&&t&&($({type:u.E.SET_STORE_ID,payload:t}),e.pickupMessage&&$({type:u.E.UPDATE_PICKUP_AVAILABILITY,payload:{data:e.pickupMessage}})),f(B.current)})),f(B.current)},handleDudeFormSubmit:(e,t)=>($({type:d.E.FETCH_DELIVERY_MESSAGE}),(0,p.A)(A,{parts:n,maxParams:q,doParamRestriction:N,messageTypes:["expanded"],geoLocated:t,...e}).then((e=>{$({type:d.E.SET_DELIVERY_MESSAGE,payload:{data:e.deliveryMessage,parts:n}});const t=(0,c.h2)(e.deliveryMessage,n);return $({type:d.E.SET_USER_STATE,payload:t}),y(t,U,e.deliveryMessage),k||(v(n,e.deliveryMessage),E(n,e.deliveryMessage)),s&&s(e.deliveryMessage,"formSubmit"),e}))),handleOpenApuOverlay:function(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Y.current=n,$({type:u.E.SELECTED_PART_DATA,payload:{partNumber:e,productTitle:t}}),$({type:u.E.SET_OVERLAY,payload:!0}),M.showConsent&&G(),V.current=a.current},handleStoreSelection:e=>{const t=U.storeId;$({type:u.E.SET_STORE_ID,payload:e.store}),$({type:u.E.FETCH_PICKUP_AVAILABILITY}),(0,p.A)(A,{parts:n,store:e.store,little:T,messageTypes:a,maxParams:q,doParamRestriction:N,timeout:F,filterTopStore:H,sp:!0}).then((e=>{if($({type:u.E.UPDATE_PICKUP_AVAILABILITY,payload:{data:e.pickupMessage}}),e.deliveryMessage){$({type:d.E.SET_DELIVERY_MESSAGE,payload:{data:e.deliveryMessage,parts:n}});const t=(0,c.h2)(e.deliveryMessage,n);$({type:d.E.SET_USER_STATE,payload:t})}f(V.current)})),b&&b(e,t),J()},handleCloseApuOverlay:J,refreshDudeWithValues:e=>($({type:d.E.FETCH_DELIVERY_MESSAGE}),(0,p.A)(A,{parts:n,maxParams:q,doParamRestriction:N,messageTypes:[...a,"expanded"],...e}).then((e=>{$({type:d.E.SET_DELIVERY_MESSAGE,payload:{data:e.deliveryMessage,parts:n}});const t=(0,c.h2)(e.deliveryMessage,n);$({type:d.E.SET_USER_STATE,payload:t}),y(t,U,e.deliveryMessage),k||(v(n,e.deliveryMessage),E(n,e.deliveryMessage)),s&&s(e.deliveryMessage,"formSubmit");const a=(0,g.Jd)(D.name,I);return a&&($({type:u.E.SET_STORE_ID,payload:a}),e.pickupMessage&&$({type:u.E.UPDATE_PICKUP_AVAILABILITY,payload:{data:e.pickupMessage}})),e}))),overlayDudeA11yLabels:Z,consent:X,stickyTrigger:Y.current}}},7536:(e,t,a)=>{"use strict";a.d(t,{Jd:()=>i,Ns:()=>m,bj:()=>c,nm:()=>p,t$:()=>u,zP:()=>d});var n=a(2224),r=a.n(n),s=a(9246);const i=(e,t)=>{const a=e?s.Jt(e):null,n=/i=(.+)?;/,r=/t=a;/;let i,o,l=null;if(a&&(i=a.match(new RegExp(t+"={(.*?)};")),i)){const[,e]=i;e.match(r)&&(o=e.match(n),l=o?o[1]:null)}return l},o=(e,t)=>encodeURI(`${e}=${t}`),l=e=>Object.keys(e).filter((t=>t in e&&void 0!==e[t]&&null!==e[t]&&""!==e[t])).map((t=>"parts"===t?e[t].map(((e,t)=>{if(e&&"object"==typeof e){const a=[];return e.part&&a.push(o(`parts.${t}`,e.part)),e.option&&a.push(o(`option.${t}`,e.option.join(","))),e.cppart&&a.push(o("cppart",e.cppart)),e.purchaseOption&&a.push(o("purchaseOption",e.purchaseOption)),a.join("&")}return o(`parts.${t}`,`${e}`)})).join("&"):"mts"===t?e[t].map(((e,t)=>{const a=[];return a.push(o(`mts.${t}`,e)),a})).join("&"):o(`${t}`,`${e[t]}`))).join("&"),c=function(e){return((e,t)=>(e=(e=r().unescape(e)).indexOf("?")>-1?/&$/.test(e)?e:`${e}&`:`${e}?`,e+t))(e,l(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))},d=(e,t)=>Object.keys(e).reduce(((a,n)=>(a[n]=t[n]?`${e[n]} ${t[n]}`:e[n],a)),{}),u=(e,t)=>{const{data:a,parts:n,partsToClear:s=[]}=t,i=n.map((e=>"object"==typeof e?r().get(e,"part"):e)),o={...r().omit(e,s),...r().omit(a,i)};return i.forEach((t=>{o[t]={...r().get(e,t,{}),...r().get(a,t,{})}})),o},m=(e,t)=>{const a=t.map((e=>"object"==typeof e?r().get(e,"part"):e));return e.current?(a.forEach((t=>{e.current[t]=!0})),Object.keys(e.current)):[]},p=(e,t)=>{const a=e.map((e=>"object"==typeof e?r().get(e,"part"):e));return r().pullAll(t,a)}},6766:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(1594),r=a.n(n),s=a(103);const i=e=>{let{consent:t,handleChange:a,label:n}=e;return r().createElement("div",{className:"rc-cookie-compliance"},r().createElement(s.A,{className:"rc-cookie-compliance-checkbox",checked:t,onChange:e=>a(e.target.checked)},n))}},2096:(e,t,a)=>{"use strict";a.d(t,{f:()=>r.A,y:()=>n.A});var n=a(9832),r=a(6766)},9832:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var n=a(1594),r=a(2224),s=a.n(r),i=a(5284),o=a(2684);const l=e=>{const[t,a]=(0,n.useState)(!1),r=e.showConsent&&e.url&&e.label;return{consent:t,handleChange:t=>{a(t),(t=>{const n=o.extendUrlQuery(e.url,{consent:t});(0,i.hI)(n).then((e=>{const t=s().get(e,"body.consent",!1);a(t)}))})(t)},showConsent:r,getConsentCookie:()=>(0,i.hI)(e.url).then((e=>{const t=s().get(e,"body.consent",!1);a(t)}))}}},986:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(6924)},6924:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(8168),r=a(1594),s=a.n(r),i=a(5911);const o=e=>{let{url:t,text:a,newTab:r,attrs:o={},children:l}=e;const c={href:t,target:r?"_blank":void 0,...o};return l?s().createElement("a",c,l):s().createElement("a",(0,n.A)({},c,(0,i.OH)(a)))}},6141:(e,t,a)=>{"use strict";a.d(t,{A:()=>N,P:()=>k});var n=a(1594),r=a.n(n),s=a(6942),i=a.n(s),o=a(2224),l=a.n(o),c=a(5911),d=a(7427),u=a(4768),m=a(6766),p=a(8595),g=a(4067),h=a(8168),f=a(5206),E=a(9283),v=a(3808),y=a(2684),b=a(5284);const A=e=>e?{width:e.width,left:0}:{},S=e=>{let{typeAheadUrl:t,form:a,clearGeoLookupError:n,handleInputChange:s,handleGeoLocationClear:i,handleGeoLocationKeyDown:o,onSubmit:c,geoLocationField:u,field:m}=e;const[g,S]=(0,d.oM)({resetDelay:4e3}),[w,T]=r().useState([]),[O,N]=r().useState([]);return r().createElement(r().Fragment,null,r().createElement(E.A,{value:a.values[m.name],onChange:e=>{a.setFieldValue("typeAheadLocalitySearch",e.target.value);const n=(0,v.A)("location-input/location-inline-editor"),r=y.extendUrlQuery(t,{value:e.target.value});(0,b.hI)(r).then((e=>{const t=[],a=l().get(e,"body.suggestions",[]);N(a),a.forEach((e=>{t.push(e.displayValue)}));const n=l().get(e,"body.suggestionsVOText","");T(t),S(n)})).catch((e=>n.error(e)))},onSelection:e=>{(0,f.flushSync)((()=>{a.setFieldValue(m.name,e)})),(e=>{window?.asMetrics?.autocomplete&&window.asMetrics.autocomplete.onItemSelected("ShippingAddress",w.indexOf(e)+1,w.length)})(e),c(null,(e=>{const t=O.find((t=>t.displayValue===e)).fields.reduce(((e,t)=>(e[t.name]=t.value,e)),{});return a.setValues(t),t})(e))},options:w,getPosition:A,renderInput:e=>r().createElement(p.A,(0,h.A)({ref:a.registerFieldRef,key:m.name,name:m.name,label:m.label,classes:{root:u&&"rc-location-geolocated-text",input:"rc-location-form-text",error:"rc-location-form-errormsg"},maxLength:m.maxSize,required:m.required,error:u?void 0:a.touched[m.name]&&a.errors[m.name],onBlur:a.handleBlur,onFocus:n,onChange:s,onClick:u?i:void 0,onKeyDown:u?o:void 0,autoComplete:"off",onReset:()=>{a.setFieldValue(m.name,""),T([])}},e)),classes:{root:"rf-location-autocomplete"}}),r().createElement(d.Ay,{message:g}))},w=e=>{let{typeAheadUrl:t,isTypeAheadEnabled:a,formFields:n,form:s,geoLocatedAttr:i={},showButton:o,clearGeoLookupError:l,handleInputChange:c,handleSelectChange:d,handleGeoLocationClear:u,handleGeoLocationKeyDown:m,ariaDescribedBy:h,onSubmit:f}=e;const{numFields:E,geoLookup:v,geoLabel:y}=i;return r().createElement("div",{className:"rc-location-field-wrapper"},n.map(((e,i)=>{if(!e)return null;const b=1===E&&0===i&&v.isLocated,A=o&&`${y}${s.values[e.name]}`||"";if("text"===e.type)return a?r().createElement(S,{form:s,clearGeoLookupError:l,handleInputChange:c,handleGeoLocationClear:u,handleGeoLocationKeyDown:m,onSubmit:f,geoLocationField:b,typeAheadUrl:t,field:e}):r().createElement(p.A,{ref:s.registerFieldRef,key:e.name,name:e.name,label:e.label,classes:{root:b&&"rc-location-geolocated-text",input:"rc-location-form-text",error:"rc-location-form-errormsg"},value:b?A:s.values[e.name]||"","data-autom":"pinCode",maxLength:e.maxSize,required:e.required,error:b?void 0:s.touched[e.name]&&s.errors[e.name],onBlur:s.handleBlur,onFocus:l,onChange:c,onClick:b?u:void 0,onKeyDown:b?m:void 0});if("select"===e.type){const t=n.slice(i+1).filter((e=>"select"===e.type)).length;return r().createElement(g.A,{key:e.name,name:e.name,value:s.values[e.name],classes:{root:b&&"rc-location-geolocated-text",error:"rc-location-form-errormsg"},onBlur:s.handleBlur,onChange:d(t),label:e.data[0].text,disabled:e.data.length<=1,required:e.required,error:e.data.length>1&&s.touched[e.name]&&s.errors[e.name],"aria-describedby":0===t?h:""},e.data.map((e=>r().createElement(g.n,{value:e.value,key:e.value,disabled:e.isDisabled},e.text))))}return null})))},T='<svg viewBox="0 0 25 25" class="as-svgicon as-svgicon-location as-svgicon-reduced as-svgicon-locationreduced" role="img" aria-hidden="true" width="25px" height="25px"><path fill="none" d="M0 0h25v25H0z"/><path d="m19.946 5.057-.027.066-6.684 14.388c-.034.073-.075.163-.116.246l-.034-6.57a1.251 1.251 0 0 0-.353-.923 1.236 1.236 0 0 0-.908-.345l-6.565-.043c.078-.037.161-.074.236-.108l14.384-6.682.067-.029M20.149 4a1.67 1.67 0 0 0-.69.178L5.073 10.861a2.508 2.508 0 0 0-.8.467.86.86 0 0 0-.052 1.21 1.325 1.325 0 0 0 .942.337l6.649.043a.3.3 0 0 1 .207.052.28.28 0 0 1 .06.216l.035 6.649a1.325 1.325 0 0 0 .337.942.794.794 0 0 0 .561.222.939.939 0 0 0 .658-.274 2.8 2.8 0 0 0 .467-.8l6.688-14.381c.259-.588.225-1-.069-1.3A.825.825 0 0 0 20.149 4Z"/></svg>',O=e=>{let{numFields:t,geoLookup:a={}}=e;const{isLocated:n,errorMsg:s}=a,o=1===t;return s?r().createElement("span",(0,h.A)({className:"rc-location-geo-svgicon rc-location-geo-error"},(0,c.OH)(T))):o&&n?r().createElement("span",{className:i()("icon","icon-resetsolid","rc-location-clear-geo")}):r().createElement("span",(0,h.A)({className:"rc-location-geo-svgicon rc-location-geo-locate"},(0,c.OH)(T)))},N=e=>{let{typeAheadUrl:t,isTypeAheadEnabled:a,a11yAssets:n={},buttonTextAttr:s={},geoLocatedAttr:o={},showButton:p=!1,showButtonLink:g=!1,consent:h={},form:f,formFields:E,isFetched:v,ariaDescribedBy:y,clearGeoLookupError:b,handleInputChange:A,handleSelectChange:S,handleGeoLocationClick:T,handleGeoLocationClear:N,handleGeoLocationKeyDown:C,fireIconMicroEvent:_=(e=>e),handleDudeFormSubmit:I=(e=>e),handleApply:D=(e=>e),handleReset:L=(e=>e)}=e;const{geoLookup:k,numFields:x,a11yGeoOffText:P,a11yGeoOnText:R,geoEnabled:M}=o,F=l().get(n,"a11ytext",""),{consent:H,handleChange:U,showConsent:$}=l().get(h,"cookieCompliance",{}),{apply:B,cancel:V,buttonText:Y}=s,q=l().get(k,"errorMsg",""),j=l().get(k,"isLocated",!1)&&1===x,[G,W]=(0,d.oM)({resetDelay:4e3});r().useEffect((()=>{W(F)}),[F]);return v?r().createElement("div",{className:i()("rc-location-input",{"rc-location-singleinput":1===x,"rc-location-multiple-geoinput":x>1})},r().createElement("div",{className:"rc-location-inline-editor"},r().createElement(w,{typeAheadUrl:t,isTypeAheadEnabled:a,formFields:E,form:f,geoLocatedAttr:o,showButton:p,clearGeoLookupError:b,handleInputChange:A,handleSelectChange:S,handleGeoLocationClick:T,handleGeoLocationClear:N,handleGeoLocationKeyDown:C,ariaDescribedBy:y,onSubmit:I})),p&&r().createElement("div",{className:"rc-location-geo-span"},M&&r().createElement("button",{type:"button",onClick:e=>(e=>{j?(N(e),_("reset Geolocation")):(T(e),_("Geolocation"))})(e),className:"rc-location-geo-icon"},r().createElement("span",{className:"visuallyhidden"},j?P:R),r().createElement(O,{numFields:x,geoLookup:k})),!a&&r().createElement("button",{type:"submit",className:i()("button","button-super","button-block","rc-location-button"),"data-autom":"viewOptions",onClick:e=>I(e)},Y),G&&r().createElement(d.Ay,{message:G})),g&&r().createElement("div",{className:"rc-location-inline-buttons"},r().createElement("button",{type:"submit",className:"as-buttonlink rc-location-inline-apply-button",onClick:e=>D(e)},r().createElement("span",(0,c.OH)(B)),r().createElement("span",{className:"visuallyhidden"},n.a11yText)),r().createElement("button",{type:"button",className:"as-buttonlink rc-location-inline-reset-button",onClick:e=>L(e)},r().createElement("span",(0,c.OH)(V)),r().createElement("span",{className:"visuallyhidden"},n.a11yText))),p&&r().createElement("div",{className:i()("rc-location-geo-errormessage",u.A.CAPTION)},q),$&&r().createElement("div",null,r().createElement(m.A,{consent:H,handleChange:U,label:h.label}))):""};var C=a(4168),_=a(9832);const I=e=>Object.keys(e).filter((t=>void 0!==e[t]&&null!==e[t]&&""!==e[t])).reduce(((t,a)=>{return"parts"===a&&Array.isArray(e[a])?{...t,...(n=e[a],n.reduce(((e,t,a)=>t&&"object"==typeof t?(t.part&&(e[`parts.${a}`]=t.part),t.option&&(e[`option.${a}`]=t.option.join(",")),t.cppart&&(e.cppart=t.cppart),e):(e[`parts.${a}`]=t,e)),{}))}:Array.isArray(e[a])?(e[a].forEach(((e,n)=>{t[`${a}.${n}`]=e})),t):(t[a]=e[a],t);var n}),{}),D=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(0,v.A)("location-input/utils/getLocalityLookup"),n=I(t),r=y.extendUrlQuery(e,n);return(0,b.hI)(r,{method:"GET",cache:"no-cache",timeout:2e4}).then((e=>l().get(e,"body",{}))).catch((e=>a.error(e)))},L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(0,v.A)("location-input/utils/getLocationUpdate"),n=I(t),r=y.extendUrlQuery(e,n);return(0,b.hI)(r).then((e=>l().get(e,"body.content",{}))).catch((e=>a.error(e)))},k=function(e){let{bootstrap:t}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l().noop;const r=l().get(t,"localityLookupData.a11yGeoOffText",""),s=l().get(t,"localityLookupData.a11yGeoOnText",""),i=l().get(t,"consent",{}),o=l().get(t,"geoLookupUrl",""),c=l().get(t,"localityLookupData.geoLabel",""),d=l().get(t,"localityLookupUrl",""),u=l().get(t,"locationUrl",""),m=(0,_.A)(i),p=l().get(m,"getConsentCookie"),[g,h]=(0,n.useState)(!1),[f,E]=(0,n.useState)(!1),[y,A]=(0,n.useState)(!1),[S,w]=(0,n.useState)({}),[T,O]=(0,n.useState)({isLocated:g&&f,errorMsg:void 0}),{initialValues:N,validationSchema:I}=(0,n.useMemo)((()=>(e=>{const t={},a={},n=l().get(e,"localityLookupData",{}),r=l().get(n,"localityLookupFields",[]);return e&&e.localityLookupData&&r.forEach((e=>{const r=n[e];"text"===r.type&&(t[e]=r.value||"",r.fieldValues&&(t.fieldValues=r.fieldValues)),"select"===r.type&&(t[e]=r.data.reduce(((e,t)=>"true"===t.selected?t.value:e),"")),a[e]=[],r.required&&a[e].push({type:"required",message:r.requiredErrorMsg}),r.validRegexes&&a[e].push({type:"regex",regEx:r.validRegexes,message:r.invalidErrorMsg})})),{initialValues:t,validationSchema:a}})(S)),[S]),k=(0,C.A)({initialValues:N,validationSchema:I}),x=()=>O((e=>({...e,errorMsg:void 0})));(0,n.useEffect)((()=>{k.resetForm(),k.setValues(N)}),[N]),(0,n.useEffect)((()=>{i.showConsent&&p()}),[]);const P=()=>{L(u).then((e=>(e=>{const a=l().get(e,"address",{}),n=l().get(e,"geoLocated"),r=l().get(e,"geoEnabled");h(r),E(n),O((e=>({...e,isLocated:n&&r}))),l().isEmpty(a)?(w({...t}),A(!0)):D(d,{geoLocated:n,...a}).then((e=>{w({localityLookupData:{...e}}),A(!0)}))})(e)))};(0,n.useEffect)((()=>{P()}),[]);const R=e=>{k.resetForm(),k.setValues(e)},M=()=>{O((e=>({...e,isLocated:!1})))},F=(e,t)=>{D(d,{geoLocated:t,...e}).then((e=>{w({localityLookupData:{...e}})}))},H=()=>{M(),R((e=>Object.keys(e).reduce(((e,t)=>(e[t]="",e)),{}))(N))},U=l().get(S,"localityLookupData.localityLookupFields",[]).map((e=>({name:e,...S.localityLookupData[e]}))),$=l().isEmpty(S)?"":l().get(S,"localityLookupData.localityLookupFields.length",""),B={label:i.label,cookieCompliance:m};return{form:k,formFields:U,isFetched:y,geoLocatedAttr:{a11yGeoOnText:s,a11yGeoOffText:r,geoLookup:T,geoEnabled:g,geoLabel:c,numFields:$},consent:B,getConsentCookie:p,clearGeoLookupError:x,handleInputChange:e=>{k.handleChange(e),T.isLocated&&M()},handleSelectChange:e=>t=>{if(k.handleChange(t),e){const e={...k.values,[t.target.name]:t.target.value};F(e,T.isLocated)}T.isLocated&&M()},handleFormSubmit:(e,t)=>{if(e&&(e.preventDefault(),k.submitForm(e)),k.validateForm(),k.isValid){const e=t||k.values.fieldValues||k.values;L(u,{geoLocated:T.isLocated,...e}),a({...e},T.isLocated),T.errorMsg&&x()}},handleReset:R,handleGeoLocationClick:()=>{(e=>{const t=(0,v.A)("location-input/utils/getGeoLookup");return(0,b.hI)(e,{method:"GET",timeout:2e4}).then((e=>l().get(e,"body",{}))).catch((e=>t.error(e)))})(o).then((e=>{if(O((t=>({...t,isLocated:e.geoLocated,errorMsg:e.errorMsg||""}))),e.address){e.reloadFields&&F(e.address,!0);const t=Object.keys(e.address).reduce(((t,a)=>{const n=l().get(e,`address[${a}]`,"");return t[a]=null===n?"":n,t}),{});R(t)}}))},handleGeoLocationClear:H,handleGeoLocationKeyDown:e=>{13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),H())},locationUpdate:P}}},9267:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(18)},18:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(1594),r=a.n(n),s=a(986),i=a(5911);const o=e=>{let{dataPatten:t="data-ase-loader",dataAction:a="data-ase-loader-action",text:n,url:o,attrs:l={}}=e;const c={[t]:"buyflow-info-overlay-loader",[a]:"load",role:"button",...l};return o?r().createElement(s.A,{attrs:c,text:n,url:o}):r().createElement("div",(0,i.OH)(n))}},9187:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A,h:()=>r.A});var n=a(6734),r=a(9998)},73:(e,t,a)=>{"use strict";a.d(t,{Ly:()=>g,b3:()=>p,tw:()=>h});var n=a(8168),r=a(1594),s=a.n(r),i=a(2224),o=a.n(i),l=a(5911),c=a(837),d=a(6942),u=a.n(d),m=a(4768);const p=e=>{let{price:t,previousPrice:a,refurbSavings:r,netPrice:i,withSavingsMessage:o,segmentSavingsIncludedMessage:c}=e;return s().createElement("div",{className:"rc-price"},t&&s().createElement("div",{className:u()("rc-prices-currentprice",m.A.LABEL)},s().createElement("span",(0,n.A)({className:"rc-prices-fullprice"},(0,l.OH)(t),{"data-autom":"full-price"})),a&&s().createElement("span",(0,n.A)({className:a.omitContainerTag?"":"as-price-previousprice"},(0,l.OH)(a.priceString))),r&&s().createElement("div",(0,n.A)({className:"rc-prices-savings"},(0,l.OH)(r))),o&&!c&&s().createElement("span",(0,n.A)({className:m.A.BODY_REDUCED},(0,l.OH)(o)))),i&&s().createElement("div",(0,n.A)({className:u()("rc-prices-tradeincredit",m.A.BODY_REDUCED)},(0,l.OH)(i))))},g=e=>{let{monthlyPrice:t,netPrice:a,assets:r}=e;return s().createElement("div",{className:"rc-monthly-price","data-autom":"monthly-price"},t&&s().createElement("div",(0,n.A)({className:u()("rc-prices-currentprice",m.A.LABEL)},(0,l.OH)(t))),a&&r&&r.priceSubText&&s().createElement("div",(0,n.A)({className:u()("rc-prices-tradeincredit",m.A.BODY_REDUCED)},(0,l.OH)(r.priceSubText))),r?.monthlyPriceAccessoryDisclaimer&&s().createElement("div",(0,n.A)({className:u()("rs-monthly-price-accessory-disclaimer",m.A.BODY_REDUCED)},(0,l.OH)(r.monthlyPriceAccessoryDisclaimer))),r?.installmentFeesText&&s().createElement("div",(0,n.A)({className:m.A.CAPTION},(0,l.OH)(r.installmentFeesText))),r?.downPayment&&s().createElement("div",(0,n.A)({className:m.A.CAPTION},(0,l.OH)(r.downPayment))))},h=e=>{let{disclaimer:t,savings:a,purchaseOptionDescription:r,accessoriesDescription:i,accessoriesDisclaimer:d,addonDescription:p,promotion:g,financing:h,carrierDiscount:f,carrierPromotion:E,segmentSavings:v,totalInstallmentSavings:y,instantTradeInText:b,tradeInMessage:A,isACMIFinance:S,tradeInAmountDisplay:w,disabled:T=!1,segmentSavingsIncludedMessage:O}=e;const N=o().get(E,"estimatedSummaryPriceMessage");return s().createElement("div",{className:"rc-prices-footer"},a&&s().createElement("div",(0,n.A)({className:"rc-prices-savings"},(0,l.OH)(a))),b&&s().createElement("div",(0,n.A)({className:u()("rc-prices-instanttradeintext",m.A.BODY_REDUCED)},(0,l.OH)(b))),y&&s().createElement("div",(0,n.A)({className:u()("rc-prices-totalinstallmentsavings",m.A.BODY_REDUCED)},(0,l.OH)(y))),f&&s().createElement("div",(0,n.A)({className:u()("rc-prices-carrierdiscount",m.A.BODY_REDUCED)},(0,l.OH)(f))),N&&s().createElement("div",(0,n.A)({className:u()("rc-prices-estimatedpricemsg",m.A.BODY_REDUCED),"data-autom":"carrierpromo-pricecarriermessage"},(0,l.OH)(N))),w&&s().createElement("div",(0,n.A)({className:"rc-prices-tradeinamounttext"},(0,l.OH)(w))),r&&s().createElement("div",(0,n.A)({className:"rc-prices-purchaseoptiondescription"},(0,l.OH)(r))),p&&s().createElement("div",(0,n.A)({className:"rc-prices-addondescription","data-autom":"summary-addonDescription"},(0,l.OH)(p))),i&&s().createElement("div",(0,n.A)({className:"rc-prices-accessoriesdescription","data-autom":"summary-applecareMessage"},(0,l.OH)(i))),d&&s().createElement("div",(0,n.A)({className:u()("rc-prices-accessoriesdisclaimer",m.A.BODY_REDUCED)},(0,l.OH)(d))),t&&s().createElement("div",(0,n.A)({className:"rc-prices-disclaimer as-price-disclaimer"},(0,l.OH)(t))),g&&s().createElement("div",(0,n.A)({className:"rc-prices-promotion"},(0,l.OH)(g))),A&&s().createElement("div",(0,n.A)({className:"rc-prices-tradeinmessage"},(0,l.OH)(A))),O&&s().createElement("div",(0,n.A)({className:u()("rc-prices-savingsincluded",m.A.BODY_REDUCED)},(0,l.OH)(O))),!S&&h&&s().createElement(c.A,{disabled:T,key:h},s().createElement("div",(0,n.A)({className:u()("rc-financing-message",m.A.BODY_REDUCED)},(0,l.OH)(h)))),v&&s().createElement("div",(0,n.A)({className:u()("rc-prices-segmentsavings",m.A.BODY_REDUCED)},(0,l.OH)(v))))}},9998:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var n=a(2224),r=a.n(n),s=a(1594),i=a.n(s),o=a(8442),l=a(7250),c=a(3642);const d=e=>{let{templateId:t,data:a={},assets:n,defaultPrice:s,defaultNetPrice:d,defaultPromoSavings:u,defaultFinancing:m,financeMessage:p,paymentNote:g,disabled:h=!1,segmentSavingsIncludedMessage:f}=e;const E=r().get(a,"monthlyPrice.priceString"),v=r().get(a,"fullPrice.priceString"),y=r().get(a,"amsPrice.priceString"),b=r().get(a,"netPrice.priceString"),A=r().get(a,"previousPrice"),S=r().get(a,"promoSavings.priceString"),w=r().get(a,"priceFeeDisclaimer.priceString"),T=r().get(a,"tierListSavings.priceString"),O=r().get(a,"refurbProduct",!1)?r().get(a,"savings.priceString",""):"",N=r().get(a,"financing.priceString"),C=r().get(a,"isACMIFinance"),_=r().get(a,"poDescription"),I=r().get(a,"accessoryDescription"),D=r().get(a,"accessoriesDisclaimer"),L=r().get(a,"addonDescription"),k=r().get(a,"carrierDiscount"),x=r().get(a,"carrierPromotion"),P=r().get(a,"segmentSavings.priceString"),R=r().get(a,"tradeInMessage"),M=r().get(a,"totalInstallmentSavings"),F=r().get(a,"instantTradeInText"),H=r().get(a,"bnplDisclaimer"),U=r().get(a,"savingsMessage"),$=r().get(a,"withSavingsMessage");switch(t){case"LEAD_WITH_MONTHLY_PRICE":return i().createElement(l.A,{monthlyPrice:E,fullPrice:v,netPrice:b,assets:n,promoSavings:S,financeMessage:p,disclaimer:w,savings:T,savingsMessage:U,withSavingsMessage:$,refurbSavings:O,financing:N,purchaseOptionDescription:_,accessoriesDescription:I,accessoriesDisclaimer:D,addonDescription:L,carrierDiscount:k,carrierPromotion:x,segmentSavings:P,totalInstallmentSavings:M,instantTradeInText:F,tradeInMessage:R,isACMIFinance:C,disabled:h,bnplDisclaimer:H,segmentSavingsIncludedMessage:f});case"LEAD_WITH_FULL_PRICE":case"LEAD_WITH_FULL_PRICE_END_WITH_AMS":return i().createElement(o.A,{monthlyPrice:E,fullPrice:v,amsPrice:y,netPrice:b,assets:n,promoSavings:S,financeMessage:p,disclaimer:w,savings:T,savingsMessage:U,withSavingsMessage:$,refurbSavings:O,financing:N,purchaseOptionDescription:_,accessoriesDescription:I,accessoriesDisclaimer:D,addonDescription:L,carrierDiscount:k,carrierPromotion:x,segmentSavings:P,totalInstallmentSavings:M,instantTradeInText:F,tradeInMessage:R,isACMIFinance:C,paymentNote:g,disabled:h,bnplDisclaimer:H,segmentSavingsIncludedMessage:f});case"MONTHLY_IN_FINANCING_LINK":case"NO_MONTHLY":return i().createElement(c.A,{price:v,netPrice:b,previousPrice:A,promoSavings:S,financeMessage:p,disclaimer:w,savings:T,savingsMessage:U,withSavingsMessage:$,refurbSavings:O,financing:N,purchaseOptionDescription:_,accessoriesDescription:I,accessoriesDisclaimer:D,addonDescription:L,carrierDiscount:k,carrierPromotion:x,segmentSavings:P,totalInstallmentSavings:M,instantTradeInText:F,tradeInMessage:R,isACMIFinance:C,disabled:h,bnplDisclaimer:H,segmentSavingsIncludedMessage:f});default:return i().createElement(c.A,{price:s,netPrice:d,promoSavings:u,financeMessage:p,financing:m,carrierDiscount:k,carrierPromotion:x,segmentSavings:P,savingsMessage:U,withSavingsMessage:$,totalInstallmentSavings:M,instantTradeInText:F,tradeInMessage:R,isACMIFinance:C,paymentNote:g,disabled:h,bnplDisclaimer:H,segmentSavingsIncludedMessage:f})}}},6734:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var n=a(2224),r=a.n(n),s=a(1594),i=a.n(s),o=a(6474),l=a(5954),c=a(3642);const d=e=>{let{templateId:t,data:a={},assets:n,defaultPrice:s,defaultNetPrice:d,defaultPromoSavings:u,defaultFinancing:m,financeMessage:p,paymentNote:g,disabled:h=!1,segmentSavingsIncludedMessage:f}=e;const E=r().get(a,"monthlyPrice.priceString"),v=r().get(a,"fullPrice.priceString"),y=r().get(a,"previousPrice"),b=r().get(a,"promoSavings.priceString"),A=r().get(a,"netPrice.priceString"),S=r().get(a,"priceFeeDisclaimer.priceString"),w=r().get(a,"tierListSavings.priceString"),T=r().get(a,"refurbProduct",!1)?r().get(a,"savings.priceString",""):"",O=r().get(a,"financing.priceString"),N=r().get(a,"isACMIFinance"),C=r().get(a,"poDescription"),_=r().get(a,"accessoryDescription"),I=r().get(a,"accessoriesDisclaimer"),D=r().get(a,"addonDescription"),L=r().get(a,"carrierDiscount"),k=r().get(a,"carrierPromotion"),x=r().get(a,"segmentSavings.priceString"),P=r().get(a,"tradeInMessage"),R=r().get(a,"paymentPromo"),M=r().get(a,"tradeInAmountDisplay"),F=r().get(a,"totalInstallmentSavings"),H=r().get(a,"instantTradeInText"),U=r().get(a,"monthlyPriceDisclaimer"),$=r().get(a,"bnplDisclaimer"),B=r().get(a,"savingsMessage"),V=r().get(a,"withSavingsMessage");switch(t){case"LEAD_WITH_MONTHLY_PRICE":return i().createElement(l.A,{monthlyPrice:E,fullPrice:v,netPrice:A,previousPrice:y,promoSavings:b,assets:n,financeMessage:p,disclaimer:S,savings:w,savingsMessage:B,withSavingsMessage:V,refurbSavings:T,financing:O,purchaseOptionDescription:C,accessoriesDescription:_,accessoriesDisclaimer:I,addonDescription:D,carrierDiscount:L,carrierPromotion:k,segmentSavings:x,totalInstallmentSavings:F,instantTradeInText:H,monthlyPriceDisclaimer:U,tradeInMessage:P,isACMIFinance:N,disabled:h,tradeInAmountDisplay:M,bnplDisclaimer:$,segmentSavingsIncludedMessage:f});case"LEAD_WITH_FULL_PRICE":case"LEAD_WITH_FULL_PRICE_END_WITH_AMS":return i().createElement(o.A,{monthlyPrice:E,fullPrice:v,netPrice:A,previousPrice:y,promoSavings:b,assets:n,financeMessage:p,disclaimer:S,savings:w,savingsMessage:B,withSavingsMessage:V,refurbSavings:T,financing:O,purchaseOptionDescription:C,accessoriesDescription:_,accessoriesDisclaimer:I,addonDescription:D,carrierDiscount:L,carrierPromotion:k,segmentSavings:x,totalInstallmentSavings:F,instantTradeInText:H,monthlyPriceDisclaimer:U,tradeInMessage:P,isACMIFinance:N,paymentNote:g,paymentPromo:R,tradeInAmountDisplay:M,disabled:h,bnplDisclaimer:$,segmentSavingsIncludedMessage:f});case"MONTHLY_IN_FINANCING_LINK":case"NO_MONTHLY":return i().createElement(c.A,{price:v,netPrice:A,previousPrice:y,promoSavings:b,financeMessage:p,disclaimer:S,savings:w,savingsMessage:B,refurbSavings:T,financing:O,purchaseOptionDescription:C,accessoriesDescription:_,accessoriesDisclaimer:I,addonDescription:D,carrierDiscount:L,carrierPromotion:k,segmentSavings:x,totalInstallmentSavings:F,instantTradeInText:H,tradeInMessage:P,isACMIFinance:N,tradeInAmountDisplay:M,disabled:h,bnplDisclaimer:$,segmentSavingsIncludedMessage:f});default:return i().createElement(c.A,{price:s,netPrice:d,promoSavings:u,financeMessage:p,financing:m,carrierDiscount:L,carrierPromotion:k,savingsMessage:B,segmentSavings:x,withSavingsMessage:V,totalInstallmentSavings:F,instantTradeInText:H,tradeInMessage:P,isACMIFinance:N,paymentNote:g,disabled:h,bnplDisclaimer:$,segmentSavingsIncludedMessage:f})}}},3642:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var n=a(8168),r=a(1594),s=a.n(r),i=a(5911),o=a(6942),l=a.n(o),c=a(4768),d=a(73);const u=e=>{let{price:t,netPrice:a,promoSavings:r,previousPrice:o,financeMessage:u,disclaimer:m,savings:p,refurbSavings:g,financing:h,purchaseOptionDescription:f,accessoriesDescription:E,accessoriesDisclaimer:v,addonDescription:y,carrierDiscount:b,carrierPromotion:A,segmentSavings:S,totalInstallmentSavings:w,instantTradeInText:T,tradeInMessage:O,isACMIFinance:N,paymentNote:C,tradeInAmountDisplay:_,disabled:I,bnplDisclaimer:D,savingsMessage:L,withSavingsMessage:k,segmentSavingsIncludedMessage:x}=e;return s().createElement("div",{className:l()("rc-prices rc-prices-default",c.A.LABEL)},t&&s().createElement(d.b3,{price:t,netPrice:a,previousPrice:o,refurbSavings:g,withSavingsMessage:k,segmentSavingsIncludedMessage:x}),C&&s().createElement("div",{className:"rc-prices-paymentnote"},C),L&&!k&&s().createElement("div",(0,n.A)({className:l()("rc-prices-savingsmessage",c.A.BODY_REDUCED)},(0,i.OH)(L))),u&&s().createElement("div",{className:l()("rc-financing-message",c.A.BODY_REDUCED)},u),r&&s().createElement("div",(0,n.A)({className:"rc-prices-promosavings"},(0,i.OH)(r))),D&&s().createElement("div",(0,n.A)({className:"rc-prices-bnpl-disclaimer  typography-body"},(0,i.OH)(D))),s().createElement(d.tw,{purchaseOptionDescription:f,accessoriesDescription:E,accessoriesDisclaimer:v,addonDescription:y,disclaimer:m,savings:p,carrierDiscount:b,carrierPromotion:A,financing:u?null:h,segmentSavings:S,totalInstallmentSavings:w,instantTradeInText:T,tradeInMessage:O,isACMIFinance:N,tradeInAmountDisplay:_,disabled:I,segmentSavingsIncludedMessage:x}))}},8442:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var n=a(8168),r=a(1594),s=a.n(r),i=a(5911),o=a(6942),l=a.n(o),c=a(4768),d=a(73);const u=e=>{let{monthlyPrice:t,fullPrice:a,amsPrice:r,netPrice:o,assets:u,promoSavings:m,financeMessage:p,disclaimer:g,savings:h,refurbSavings:f,financing:E,purchaseOptionDescription:v,accessoriesDescription:y,accessoriesDisclaimer:b,addonDescription:A,carrierDiscount:S,carrierPromotion:w,segmentSavings:T,totalInstallmentSavings:O,instantTradeInText:N,tradeInMessage:C,isACMIFinance:_,disabled:I,bnplDisclaimer:D,savingsMessage:L,withSavingsMessage:k,segmentSavingsIncludedMessage:x}=e;const P=s().useId();return s().createElement("div",{className:"rc-prices-inline rc-prices-inline-lead-with-full-price"},s().createElement("div",{className:"rc-price","aria-labelledby":`${P}_price_desc`},s().createElement("span",{id:`${P}_price_desc`},a&&s().createElement("span",(0,n.A)({className:l()("rc-prices-currentprice",c.A.LABEL)},(0,i.OH)(a))),a&&t&&u&&u.priceSeparator&&s().createElement("span",(0,n.A)({className:"rc-prices-installmentsseparator"},(0,i.OH)(u.priceSeparator))),t&&s().createElement("span",{className:"rc-monthly-price"},s().createElement("span",(0,n.A)({className:l()("rc-prices-currentprice",c.A.LABEL)},(0,i.OH)(t))),u?.downPayment&&s().createElement("span",(0,n.A)({className:"rc-prices-downpayment"},(0,i.OH)(u.downPayment)))),a&&t&&r&&u&&u.priceSeparator&&s().createElement("span",(0,n.A)({className:"rc-prices-installmentsseparator"},(0,i.OH)(u.priceSeparator))),r&&s().createElement("span",{className:"rc-ams-price"},s().createElement("span",(0,n.A)({className:l()("rc-prices-currentprice",c.A.LABEL)},(0,i.OH)(r))))),k&&!x&&s().createElement("span",(0,n.A)({className:l()("rc-prices-withsavingsmessage",c.A.BODY_REDUCED_TIGHT)},(0,i.OH)(k)))),o&&s().createElement("div",(0,n.A)({className:l()("rc-prices-tradeincredit",c.A.BODY_REDUCED)},(0,i.OH)(o))),L&&!k&&s().createElement("div",(0,n.A)({className:l()("rc-prices-savingsmessage",c.A.BODY_REDUCED)},(0,i.OH)(L))),p&&s().createElement("div",{className:l()("rc-financing-message",c.A.BODY_REDUCED)},p),f&&s().createElement("div",(0,n.A)({className:"rc-prices-savings"},(0,i.OH)(f))),m&&s().createElement("div",(0,n.A)({className:"rc-prices-promosavings"},(0,i.OH)(m))),D&&s().createElement("div",(0,n.A)({className:"rc-prices-bnpl-disclaimer  typography-body"},(0,i.OH)(D))),s().createElement(d.tw,{purchaseOptionDescription:v,accessoriesDescription:y,accessoriesDisclaimer:b,addonDescription:A,disclaimer:g,savings:h,carrierDiscount:S,carrierPromotion:w,financing:p?null:E,segmentSavings:T,totalInstallmentSavings:O,instantTradeInText:N,tradeInMessage:C,isACMIFinance:_,disabled:I,segmentSavingsIncludedMessage:x}))}},6474:(e,t,a)=>{"use strict";a.d(t,{A:()=>g});var n=a(8168),r=a(1594),s=a.n(r),i=a(2224),o=a.n(i),l=a(5911),c=a(6942),d=a.n(c),u=a(4768),m=a(73),p=a(9267);const g=e=>{let{monthlyPrice:t,fullPrice:a,previousPrice:r,promoSavings:i,netPrice:c,assets:g,financeMessage:h,disclaimer:f,savings:E,refurbSavings:v,financing:y,purchaseOptionDescription:b,accessoriesDescription:A,accessoriesDisclaimer:S,addonDescription:w,carrierDiscount:T,carrierPromotion:O,segmentSavings:N,totalInstallmentSavings:C,instantTradeInText:_,monthlyPriceDisclaimer:I,tradeInMessage:D,isACMIFinance:L,paymentNote:k,paymentPromo:x={},tradeInAmountDisplay:P,disabled:R,bnplDisclaimer:M,savingsMessage:F,segmentSavingsIncludedMessage:H}=e;const U=h?null:y,$=!o().isEmpty(x),B=!$;return s().createElement("div",{className:d()("rc-prices rc-prices-lead-with-full-price",u.A.LABEL)},s().createElement(m.b3,{netPrice:c,price:a,previousPrice:r,refurbSavings:v,bnplDisclaimer:M}),k&&s().createElement("div",{className:"rc-prices-paymentnote"},k),i&&s().createElement("div",(0,n.A)({className:"rc-prices-promosavings"},(0,l.OH)(i))),a&&t&&g&&g.priceSeparator&&s().createElement("div",(0,n.A)({className:"rc-prices-acinstallments rc-prices-installmentsseparator"},(0,l.OH)(g.priceSeparator))),t&&s().createElement(m.Ly,{monthlyPrice:t,netPrice:c,assets:g}),I&&s().createElement("div",(0,n.A)({className:"rc-prices-monthly-price-disclaimer typography-body-reduced"},(0,l.OH)(I))),F&&s().createElement("div",(0,n.A)({className:d()("rc-prices-savingsmessage",u.A.BODY_REDUCED)},(0,l.OH)(F))),h&&s().createElement("div",{className:d()("rc-financing-message",u.A.BODY_REDUCED)},h),M&&s().createElement("div",(0,n.A)({className:"rc-prices-bnpl-disclaimer  typography-body"},(0,l.OH)(M))),s().createElement(m.tw,{purchaseOptionDescription:b,accessoriesDescription:A,accessoriesDisclaimer:S,addonDescription:w,disclaimer:f,savings:E,carrierDiscount:T,carrierPromotion:O,financing:B?U:null,segmentSavings:N,totalInstallmentSavings:C,instantTradeInText:_,tradeInMessage:D,isACMIFinance:L,tradeInAmountDisplay:P,disabled:R,segmentSavingsIncludedMessage:H}),$&&s().createElement("div",{className:"rc-payment-promo"},s().createElement(p.A,{text:o().get(x,"overlayText"),url:o().get(x,"overlayUrl")})))}},7250:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var n=a(8168),r=a(1594),s=a.n(r),i=a(5911),o=a(6942),l=a.n(o),c=a(4768),d=a(73);const u=e=>{let{monthlyPrice:t,fullPrice:a,netPrice:r,assets:o,promoSavings:u,financeMessage:m,disclaimer:p,savings:g,refurbSavings:h,financing:f,purchaseOptionDescription:E,accessoriesDescription:v,accessoriesDisclaimer:y,addonDescription:b,carrierDiscount:A,carrierPromotion:S,segmentSavings:w,totalInstallmentSavings:T,instantTradeInText:O,tradeInMessage:N,isACMIFinance:C,disabled:_,bnplDisclaimer:I,savingsMessage:D,withSavingsMessage:L,segmentSavingsIncludedMessage:k}=e;return s().createElement("div",{className:"rc-prices-inline rc-prices-inline-lead-with-monthly-price"},s().createElement("div",{className:"rc-price"},t&&s().createElement("span",{className:"rc-monthly-price"},s().createElement("span",(0,n.A)({className:l()("rc-prices-currentprice",c.A.LABEL),"data-autom":"monthlyPrice"},(0,i.OH)(t)))),t&&a&&o&&o.priceSeparator&&s().createElement("span",(0,n.A)({className:"rc-prices-installmentsseparator"},(0,i.OH)(o.priceSeparator))),a&&s().createElement("span",(0,n.A)({className:l()("rc-prices-currentprice",c.A.LABEL),"data-autom":"fullPrice"},(0,i.OH)(a))),L&&!k&&s().createElement("span",(0,n.A)({className:l()("rc-prices-withsavingsmessage",c.A.BODY_REDUCED_TIGHT)},(0,i.OH)(L)))),r&&s().createElement("div",(0,n.A)({className:l()("rc-prices-tradeincredit",c.A.BODY_REDUCED)},(0,i.OH)(r))),D&&s().createElement("div",(0,n.A)({className:l()("rc-prices-savingsmessage",c.A.BODY_REDUCED)},(0,i.OH)(D))),m&&s().createElement("div",{className:l()("rc-financing-message",c.A.BODY_REDUCED)},m),h&&s().createElement("div",(0,n.A)({className:"rc-prices-savings"},(0,i.OH)(h))),u&&s().createElement("div",(0,n.A)({className:"rc-prices-promosavings"},(0,i.OH)(u))),I&&s().createElement("div",(0,n.A)({className:"rc-prices-bnpl-disclaimer  typography-body"},(0,i.OH)(I))),s().createElement(d.tw,{purchaseOptionDescription:E,accessoriesDescription:v,accessoriesDisclaimer:y,addonDescription:b,disclaimer:p,savings:g,carrierDiscount:A,carrierPromotion:S,financing:m?null:f,segmentSavings:w,totalInstallmentSavings:T,instantTradeInText:O,tradeInMessage:N,isACMIFinance:C,disabled:_,segmentSavingsIncludedMessage:k}))}},5954:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var n=a(8168),r=a(1594),s=a.n(r),i=a(5911),o=a(6942),l=a.n(o),c=a(4768),d=a(73);const u=e=>{let{monthlyPrice:t,fullPrice:a,netPrice:r,previousPrice:o,promoSavings:u,assets:m,financeMessage:p,disclaimer:g,savings:h,refurbSavings:f,financing:E,purchaseOptionDescription:v,accessoriesDescription:y,accessoriesDisclaimer:b,addonDescription:A,carrierDiscount:S,carrierPromotion:w,segmentSavings:T,totalInstallmentSavings:O,instantTradeInText:N,monthlyPriceDisclaimer:C,tradeInMessage:_,isACMIFinance:I,disabled:D,bnplDisclaimer:L,tradeInAmountDisplay:k,savingsMessage:x,segmentSavingsIncludedMessage:P}=e;return s().createElement("div",{className:l()("rc-prices rc-prices-lead-with-monthly-price",c.A.LABEL)},t&&s().createElement(d.Ly,{monthlyPrice:t,netPrice:r,assets:m}),C&&s().createElement("div",(0,n.A)({className:l()("rc-prices-monthly-price-disclaimer",c.A.BODY_REDUCED)},(0,i.OH)(C))),p&&s().createElement("div",{className:l()("rc-financing-message",c.A.BODY_REDUCED)},p),t&&a&&m&&m.priceSeparator&&s().createElement("div",(0,n.A)({className:"rc-prices-acinstallments rc-prices-installmentsseparator"},(0,i.OH)(m.priceSeparator))),a&&s().createElement(d.b3,{netPrice:r,price:a,previousPrice:o,refurbSavings:f}),x&&!P&&s().createElement("div",(0,n.A)({className:l()("rc-prices-savingsmessage",c.A.BODY_REDUCED)},(0,i.OH)(x))),u&&s().createElement("div",(0,n.A)({className:"rc-prices-promosavings"},(0,i.OH)(u))),L&&s().createElement("div",(0,n.A)({className:"rc-prices-bnpl-disclaimer  typography-body"},(0,i.OH)(L))),s().createElement(d.tw,{purchaseOptionDescription:v,accessoriesDescription:y,accessoriesDisclaimer:b,addonDescription:A,disclaimer:g,savings:h,carrierDiscount:S,carrierPromotion:w,financing:p?null:E,segmentSavings:T,totalInstallmentSavings:O,instantTradeInText:N,tradeInMessage:_,isACMIFinance:I,disabled:D,tradeInAmountDisplay:k,segmentSavingsIncludedMessage:P}))}},3530:(e,t,a)=>{"use strict";a.d(t,{A:()=>n.A});var n=a(2188)},8294:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>c});var n=a(2224),r=a.n(n),s=a(3044),i=a(957),o=a(2299);const l=(e,t)=>{let{bootstrap:{products:a,dictionaries:n}}=t;const s=a.find((t=>t.part===e));return s?Object.keys(s).reduce(((e,t)=>{const a=s[t],i=r().get(n,`${t}.${a}`);return e[t]=i||a,e}),{}):null},c=(e,t,a,n)=>{const{config:c}=e,{part:d,selection:u}=(0,s.A)(t,a,c);if(e.init&&r().isEqual(e.part,d)&&r().isEqual(e.selection,u)&&!n)return e;const m=(0,i.Ay)(e.init?e.dimensions:r().cloneDeep(c.bootstrap.dimensions),u,c),p=e.init?e.hidePartnershipIcons:!!(g=c.bootstrap.products)&&!g.find((e=>Array.isArray(e.partnershipIcons)&&e.partnershipIcons.length>0));var g;return{...e,part:d,selection:u,dimensions:m,hidePartnershipIcons:p,selectedProduct:l(d,c),selectionImage:c.bootstrap.dictionaries?(0,o.Ay)(u,c):null}}},957:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>m});var n=a(2224),r=a.n(n),s=a(6663);const i=(e,t,a)=>a.map((a=>{if(!a.options){const n=e.map((e=>e.dimensions[a.key])),i=r().uniq(n),o=(0,s.y8)(i,a.key,t);return o.sort(((e,t)=>e.sortOrder-t.sortOrder)),{...a,options:o}}return a})),o=(e,t,a)=>t.length>0&&t.every((e=>!e.productMessage))?a:a.map((n=>(n.options&&n.options.map((i=>{let o={...e,[n.key]:i.value};o=r().omit(o,(0,s.Vn)(n.key,a));const l=(0,s.HV)(t,o),c=l.length>0&&l.every((e=>e.productMessage));if(c&&a.every((e=>!e.isProductMessageDimension))&&(n.isProductMessageDimension=!0),c&&n.isProductMessageDimension){const{productMessage:e}=l[0];i.productMessage=e}return i})),n))),l=(e,t,a)=>a.map(((n,i)=>{const o=(0,s.Vn)(n.key,a),l=r().omit(e,o);let c=!1;const d=n.options.map((a=>{const r=e[n.key]===a.value;r&&(c=!0);let o=!1;if(r||0===i)o=!1;else{o=!(0,s.tx)(t,{...l,[n.key]:a.value})}return{...a,disabled:o}}));return{...n,options:d,value:e[n.key],selected:c}})),c=(e,t,a,n,i,o,l,c,d)=>i?d.map((i=>{const u=i.key,m=(0,s.Vn)(u,d),{promotionsFilter:p={},promotionsFilterOverrideUseFromPrice:g=!1}=((e,t,a,n,s)=>{if(r().isEmpty(a))return{};const i=s.includes(n),o=r().has(e,n),l=i||!o&&t!==n?{...a}:{};return{promotionsFilter:l,overrideUseFromPrice:!r().isEmpty(l)}})(e,u,l,c,m),h=i.options.map((d=>{let u={...e,[i.key]:d.value};u=r().omit(u,m);let h=r().uniq(r().filter((0,s.HV)(t,u),p).map((e=>e?e.productPrice:null)));h=r().sortBy(h,(e=>parseInt(r().get(a,`productPrice[${e}].currentPrice.raw_amount`,0),10)));let f=r().uniq(r().filter((0,s.HV)(t,u),p).map((e=>e?e.amsProductPrice:null)));f=r().sortBy(r().compact(f),(e=>parseFloat(r().get(a,`productPrice[${e}].rawAmsPrice`,0),10)));let E={};f[0]&&(E=r().pick(r().get(a,`productPrice.${f[0]}`,{}),["amsPrice","amsPrice-short","rawAmsPrice","bundlePriceForDockedHeader"]));const v={...r().get(a,`productPrice.${h[0]}`,{}),...E};let y=!1;y=!(!r().isEmpty(l)&&0===m.indexOf(c))&&(r().isBoolean(o)?o:h.length>1||g);const b={useFromPrice:y,...(0,s.F3)(v,n,y)};return{...d,price:b,priceData:v}}));return{...i,options:h}})):d,d=e=>e.map(((t,a)=>{if(a>0){const n=t.dependsOn?t.dependsOn:[e[a-1].key];return{...t,dependsOn:n}}return{...t}})),u=e=>e.map((t=>{const{dependsOn:a}=t;if(a&&a.length>0){const n=e.find((e=>a.indexOf(e.key)>=0&&(!e.selected||e.disabled)));t.disabled=!!n}else t.disabled=!1;return t.active=!t.disabled&&!t.selected,{...t}})),m=(e,t,a)=>{let{bootstrap:{products:n,dictionaries:s,priceDisplayOrder:m,leadPriceFilter:p},calculateOptionPrices:g,overrideUseFromPrice:h,promotedDimension:f}=a;return r().flow(r().partial(d),r().partial(i,n,s),r().partial(l,t,n),r().partial(c,t,n,s,m,g,h,p,f),r().partial(o,t,n),r().partial(u))(e)}},2299:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>i});var n=a(2224),r=a.n(n),s=a(6663);const i=(e,t)=>{let{bootstrap:{products:a,dictionaries:n}}=t;const{selectionImages:i,productImage:o}=n;if(i){const t=(e=>{const t=e.find((e=>null===e.selection));return t?t.image:null})(i),a=((e,t)=>{const a=t.find((t=>r().isEqual(t.selection,e)));return a?a.image:null})(e,i);if((0,s.Im)(e)&&t)return t;if(!(0,s.Im)(e)&&a)return a}return((e,t)=>{const a=e?e.productImage:null;return a&&t[a]?t[a]:null})((0,s.tx)(a,e),o)}},3044:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(2224),r=a.n(n),s=a(6663);const i=(e,t,a)=>{const{bootstrap:{products:n},autoSelectOneProduct:i,autoSelectSingleDimension:o}=a;if(e){const t=e&&n?n.find((t=>t.part===e)):null;return t?{part:t.part,selection:t.dimensions}:{part:null,selection:{}}}if(i&&n&&1===n.length)return{part:n[0].part,selection:n[0].dimensions};const l=o?{...(0,s.W8)(n,t),...t}:t;if(!r().isEmpty(l)){const e=a.bootstrap.products.find((e=>(0,s.$F)(e,l)));if(e)return{part:e.part,selection:l}}return{part:e,selection:l}}},5857:(e,t,a)=>{"use strict";a.d(t,{DJ:()=>s,Y0:()=>o,td:()=>i});var n=a(8294),r=a(6663);const s=(e,t,a)=>{const{part:s,selection:i,dimensions:o,config:{autoSelectFirstSelection:l,bootstrap:{products:c}}}=e;if(a&&!(0,r.$9)({[t]:a},o))return e;const d=c.find((e=>e.part===s)),u=(0,r.p$)(t,a,d,i),m=(0,r.te)(o,u,c,l);return(0,n.Ay)(e,m.part,m.selection)},i=(e,t)=>{const{dimensions:a,config:{bootstrap:{products:s},autoSelectFirstSelection:i}}=e;if(!(0,r.$9)(t,a))return e;if((0,r.Im)(t))return(0,n.Ay)(e,null,{});const o=(0,r.te)(a,t,s,i);return(0,n.Ay)(e,o.part,o.selection)},o=(e,t)=>{const{config:{bootstrap:{products:a}}}=e,r=a.find((e=>e.part===t));return r?(0,n.Ay)(e,r.part,r.selection):e}},6663:(e,t,a)=>{"use strict";a.d(t,{$9:()=>c,$F:()=>i,F3:()=>f,HV:()=>l,Im:()=>h,Vn:()=>d,W8:()=>m,p$:()=>g,te:()=>p,tx:()=>o,y8:()=>u});var n=a(2224),r=a.n(n);const s=(e,t)=>Object.keys(t).every((a=>e.dimensions[a]===t[a])),i=(e,t)=>{const a=Object.keys(t),n=Object.keys(e.dimensions);return a.every((a=>e.dimensions[a]===t[a]))&&n.every((a=>e.dimensions[a]===t[a]))},o=(e,t)=>{if(!t||!(e&&e.length>0))return null;return e.find((e=>s(e,t)))||null},l=(e,t)=>t&&e&&e.length>0?e.filter((e=>s(e,t))):[],c=(e,t)=>{if(!e)return!1;return Object.keys(e).every((a=>!!t.find((t=>t.key===a&&t.options?t.options.find((t=>t.value===e[a])):null))))},d=(e,t)=>{const a=t.reduce(((e,t)=>(t.dependsOn&&t.dependsOn.length&&t.dependsOn.some((t=>e.includes(t)))&&e.push(t.key),e)),[e]);return r().uniq(a).filter((t=>t!==e))},u=(e,t,a)=>e.map((e=>({value:e,...r().get(a,`dimensions.${t}.${e}`,{})}))),m=(e,t)=>{if(0===e.length)return{};const a=(t?l(e,t):e).map((e=>e.dimensions));return a.reduce(((e,t)=>(Object.keys(t).forEach((a=>{e[a]!==t[a]&&delete e[a]})),e)),{...a[0]})},p=(e,t,a,n)=>{const s=l(a,t);if(1===s.length)return{part:s[0].part,selection:s[0].dimensions};if(s.length>1)return n?{part:s[0].part,selection:s[0].dimensions}:{part:null,selection:t};const i=((e,t)=>t.map((e=>e.key)).filter((t=>e.hasOwnProperty(t))))(t,e),o=r().omit(t,i[i.length-1]);return p(e,o,a,n)},g=(e,t,a,n)=>{const r=n?{...n,[e]:t}:{[e]:t};return a?{...a.dimensions,[e]:t}:r},h=e=>0===Object.keys(e).length,f=(e,t,a)=>{const n={};return!r().isEmpty(r().get(t,"full"))||!r().isEmpty(r().get(t,"short"))?r().forEach(t,((t,s)=>{r().isEmpty(t)||(n.pricesInOrder=n.pricesInOrder||{},n.pricesInOrder[s]=[],t.forEach((t=>{let i="";e[t]?n.pricesInOrder[s].push({key:t,value:e[t]}):"fullPrice"===t?(i=a?e.comparativeDisplayPrice:e.currentDisplayPrice||r().get(e,"currentPrice.amount",""),n.pricesInOrder[s].push({key:t,value:i})):"fullPrice-short"===t&&(i=a?e["comparativeDisplayPrice-short"]:e["currentDisplayPrice-short"]||r().get(e,"currentPrice.amount",""),n.pricesInOrder[s].push({key:t,value:i}))})))})):n.full=a?r().get(e,"comparativeDisplayPrice"):r().get(e,"currentPrice.amount"),n}},2188:(e,t,a)=>{"use strict";a.d(t,{A:()=>f});var n=a(1594),r=a(2224),s=a.n(r),i=a(8294),o=a(5857);const l={part:null,selection:{},dimensions:[],selectedProduct:null,config:{},carrierPromoParams:{}},c="INIT",d="SET_DIMENSION",u="SET_SELECTION",m="SET_PART",p="REPLACE_PRICES",g="UPDATE_CARRIER_PROMO_PARAMS",h=(e,t)=>{const{key:a,value:n,part:r,selection:l,callbacks:h}=t;let f;const E=(t,a)=>{s().isEqual(e.part,t)||h.onPartChange(t,e.part),s().isEqual(e.selection,a)||h.onSelectionChange(a,e.selection)};switch(t.type){case c:return{...e,init:!0};case d:return f=(0,o.DJ)(e,a,n),E(f.part,f.selection),f;case u:return f=(0,o.td)(e,l),E(f.part,f.selection),f;case g:return f={...e,carrierPromoParams:t.payload},E(f.part,f.selection),f;case m:return f=(0,o.Y0)(e,r),E(f.part,f.selection),f;case p:return f={...e,config:{...e.config,bootstrap:{...e.config.bootstrap,dictionaries:{...e.config.bootstrap.dictionaries,productPrice:t.payload.prices},priceDisplayOrder:t.payload.priceDisplayOrder,leadPriceFilter:t.payload.leadPriceFilter}}},f=(0,i.Ay)(f,e.part,e.selection,!0),f;default:return e}},f=e=>{let{selection:t={},part:a=null,bootstrap:r,autoSelectOneProduct:o=!1,autoSelectFirstSelection:f=!1,autoSelectSingleDimension:E=!1,calculateOptionPrices:v=!1,overrideUseFromPrice:y,promotedDimension:b="carrierModel",onSelectionChange:A=(()=>{}),onPartChange:S=(()=>{})}=e;const w=(e=>{const t=e||{};return t.dimensions||(t.dimensions=[]),t.products||(t.products=[]),t})(r),T=(0,n.useMemo)((()=>(0,i.Ay)({...l,part:a,selection:t,config:{bootstrap:w,autoSelectOneProduct:o,autoSelectFirstSelection:f,autoSelectSingleDimension:E,calculateOptionPrices:v,overrideUseFromPrice:y,promotedDimension:b}},a,t)),[]),[O,N]=(0,n.useReducer)(h,T),C={onSelectionChange:A,onPartChange:S};(0,n.useEffect)((()=>{N({type:c})}),[]);const _=Object.keys(t).reduce(((e,a)=>`${e},${a}=${t[a]}`),"");(0,n.useEffect)((()=>{O.init&&N({type:u,selection:t,callbacks:C})}),[_]),(0,n.useEffect)((()=>{O.init&&N({type:m,part:a,callbacks:C})}),[a]);const I=s().get(r,"products",[]),D=s().get(t,"carrierModel"),L=I.find((e=>e.carrierPolicyPart===D))||{};return(0,n.useEffect)((()=>{N({type:g,payload:{carrierPolicyPart:L.carrierPolicyPart,familyType:L.familyType}})}),[L.carrierPolicyPart,L.familyType]),{state:O,setDimension:(e,t)=>N({type:d,key:e,value:t,callbacks:C}),replacePrices:e=>{let{prices:t,priceDisplayOrder:a,leadPriceFilter:n}=e;N({type:p,payload:{prices:t,priceDisplayOrder:a,leadPriceFilter:n}})}}}},2784:(e,t,a)=>{"use strict";a.d(t,{Ql:()=>s,Lv:()=>i});var n=a(1730);function r(){return(0,n.o)(Date.now())}const s="en-US",i=e=>e<r()?r():e},2251:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(2224),r=a.n(n);const{asMetrics:s}=window,i=s.sba||{},{OmnitureCollection:o,OmnitureEvent:l}=r().get(s,"util.omnitureCollection",{}),c=()=>(r().get(window,"s.products","").split(";")[0]||"").split(";")[0]||"",d=(e,t)=>{if(!e.pickup)return"";const a=r().get(e,"pickup.stores",[]).find((e=>{let{selected:t}=e;return t})),n=a?.pickupMessage;if(!n)return r().get(t,"pickup_unavailable","");if(!1===n.storeSelectionEnabled)return[n.storePickupQuote,r().get(e,"pickup.availableMessageLink","")].join(" - ");if(n?.storePickupQuote){const e=n.storePickupQuote;return e.substring(0,e.indexOf("Apple"))}return""},u=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||!t)return{};const n=r().get(t,"delivery",{}),s=r().get(n,"deliveryOptionMessages",[]),i=s.length?s.map((e=>{let{displayName:t}=e;return t})):[r().get(n,"orderByDeliveryBy","")];return{sku:e,apuOptionName:d(t,a),deliveryDisplayName:i}},m={impression:()=>{const e=new o(new l("event341"));s.sendEvent({name:"sba|impression",beacon:{events:e.toString()}})},availabilityBannerLink:function(){let{element:e,action:t,originalPageName:a,product:n={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.onAvailablityBannerClicked&&i.onAvailablityBannerClicked({element:e,action:t,originalPageName:a,product:n})},onSelectBtnClick:function(){let{quote:e,selectedElement:t,isInitialProduct:a,product:n={},pageName:s,assets:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!i.onProductSelected)return;const l={...r().omit(u(n.partString,e,o),"sku"),selectedElement:t,pageName:s,isInitialProduct:a,product:n};i.onProductSelected(l)},onClose:e=>{let{element:t,originalPageName:a}=e;i.onOverlayClosed&&i.onOverlayClosed({element:t,originalPageName:a})},onEmptyResults:()=>{const e=new o(new l("event321"));s.sendUserInteraction({name:"sba|result set",beacon:{eVar6:'D=pageName+"|sba|results|no results returned"',events:e.toString()}})},showMoreOptions:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0;if(i.onShowMore&&e.length&&t){const n=e.map((e=>{let{partString:n}=e;const r=t.find((e=>e.partString===n));return{...u(n,r,a),category:c()}}));i.onShowMore({products:n})}},pickupAvailableLink:e=>{i.onPickupAvailableClicked&&i.onPickupAvailableClicked({part:e,category:c()})},storeLocator:()=>{i.onStoreSelected&&i.onStoreSelected()},filterSelection:function(){let{selection:e,lastSelection:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.onFilterSelection&&i.onFilterSelection({selection:e,lastSelection:t})},filterBtnClick:function(){let{action:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.onFilterSelectionMow&&i.onFilterSelectionMow({action:e})},onShowMoreColors:e=>{if(!i.onFilterShowMoreColors)return;const t={watch_bands_dimensionBandColor:"band color",watch_bands_dimensionMaterial:"band type"}[e]||e;i.onFilterShowMoreColors({keyName:t})},onSort:e=>{i.onSortApplied&&i.onSortApplied({sortValue:e})},onReset:()=>{i.onFilterReset&&i.onFilterReset()},onProductsShown:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0;if(!i.onProductsShown)return;const n={storeId:"",miles:"",products:[]};e.forEach(((e,s)=>{let{partString:i}=e;const o=t[i];if(0===s&&o&&o.pickup&&(n.storeId=r().get(o,"pickup.storeId",""),o.pickup.stores)){const e=o.pickup.stores.find((e=>{let{selected:t}=e;return t}));e&&(n.miles=r().get(e,"pickupMessage.distance",""))}n.products.push({...u(i,o,a),category:c()})})),i.onProductsShown(n)},onDateSelected:e=>{i.onDateSelected&&i.onDateSelected({date:e})},onExit:function(){let{preference:e,message:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=new o(new l("event388"));s.triggerPageHasLoaded({element:null,beacon:{events:a.toString(),eVar6:`D=pageName+"|Step 1|${e}|alert displayed"`,eVar25:t}})},onRecommendationIdChanged:e=>{i.onRecommendationIdChanged&&i.onRecommendationIdChanged({recommendationId:e})}}},2643:(e,t,a)=>{"use strict";a.d(t,{Br:()=>u,MR:()=>c,U6:()=>s,Xe:()=>d,gD:()=>i,ho:()=>o,y6:()=>l});var n=a(2224),r=a.n(n);const s=["heroiPad","heroiPhone"],i=e=>{if(!e)return null;const t=Array.isArray(e)?e:e.split("-");return 3!==t.length?null:new Date(t[0],t[1]-1,t[2])},o=e=>e?i([e.substring(0,4),e.substring(4,6),e.substring(6,8)]):null,l=(e,t)=>e&&t?e.getTime()<t.getTime()?e:t:e||t,c=(e,t,a)=>({product:e,...t&&{cppart:t},...a?.watch_bands&&{"option.watch_bands":a.watch_bands},...a?.watch_cases&&{"option.watch_cases":a.watch_cases}}),d=e=>{let{options:t,partNumber:a}=e;const{guessPartNumber:n}=r().get(window,"asMetrics.util",(e=>e));return r().isEmpty(t)?n(a):[a,t?.watch_cases,n(t?.watch_bands)].map((e=>n(e))).join("+")},u=(e,t)=>e?function(){const e={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((t=>{let{dimensions:a}=t;r().each(a,((t,a)=>{e[a]||(e[a]=[]),e[a].includes(t)||e[a].push(t)}))})),e}(t.filter((t=>{let{availabilityDate:a}=t;return a<=e}))):{}},2353:(e,t,a)=>{"use strict";a.d(t,{$H:()=>l,G7:()=>n,JF:()=>i,Pp:()=>c,Rx:()=>o,Tx:()=>s,WN:()=>u,kU:()=>r,lR:()=>m,ss:()=>d});const n={PINCODE:"pincode",LOCATION:"location",BRANDCHECK:"brandCheck",PRODUCT:"product",QUESTIONS:"questions",VERIFY:"verify",SAVE:"save",CONFIRM:"confirm",LOAN_AUTH:"loanAuth",LOAN_DETAILS:"loanDetails",LOAN_CONFIRM:"loanConfirm",LOAN_INFO:"loanInfo",IUPTRADEIN_CONFIRM:"iUpTradeInConfirm",IUPTRADEIN_SUMMARY:"iUpTradeInSummary"},r={TRADE_IN:"tradeIn",RECYCLE:"recycle",NO_TRADE_IN:"noTradeIn"},s={CATEGORY:"category",DEVICE_TYPE:"deviceType",DEVICE_CHECK:"deviceCheck",BRAND:"brand",PRODUCT:"product",QUESTIONS:"questions",QUOTE:"quote",RECOMMENDATIONS:"recommendations",RECYCLE:"recycle",VERIFY:"verify",SHIPPING:"shipping",CONFIRMATION:"confirm",FORKCONFIRMATION:"forkConfirm",SAVE:"save",PINCODE:"pincode",LOCATION:"location",VERIFICATION_DEFERRED:"verificationDeferred",LOAN_AUTH:"loanAuth",LOAN_INFO:"loanInfo",LOAN_DETAILS:"loanDetails",LOAN_VERIFICATION_OTP:"loanVerificationOtp"},i={INIT:1,SHOW_INTRO:2,HIDE_INTRO:3,SHOW_MODULE:4,HIDE_ALL_MODULES:5,INIT_MODULE:6,COMPLETE_MODULE:7,RESET_MODULE:8,SHOW_LOADING:9,HIDE_LOADING:10,SHOW_ERROR:11,RESET_ALL:12,SET_SELECTION_EVENTS:13,REMOVE_LAST_EVENT:14,RESET_UNCACHED_SEL:15,UPDATE_PROGRESS:16,SET_MODULE_INIT:17,MOVING_BACK:18,UPDATE_STATE:19,TOGGLE_ALERT:20,MEMORIZE_EXPENSIVE_CALCULATION:21},o={INIT:1,UPDATE_STATE:2,UPDATE_SELECTION:3,UPDATE_PART:4,SHOW_DIMENSION:5,RESET_ALL:6},l={INIT:1,UPDATE_STATE:2,UPDATE_SELECTION:3,UPDATE_PART:4,SELECT_QUESTION:5,SHOW_QUESTION:6,RESET_LAST:7,RESET_ALL:8},c={INLINE:"link",TILE:"tile"},d={PUSH:"PUSH",SMS:"SMS"},u={WAIT:"WAIT",ERROR:"ERROR",MAX_RETRY_ERROR_TYPE:"ERROR_USER_PIN_EXCEEDED_MAX_ATTEMPTS",SUCCESS:"SUCCESS",TIMEOUT:"TIMEOUT",LOAN_AUTH_OTP_ACTIONS:"LOAN_AUTH_OTP_ACTIONS"},m={YES:"1",NO:"2"}},7259:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>fa,moveBack:()=>ca});var n=a(8168),r=a(1594),s=a.n(r),i=a(2224),o=a.n(i),l=a(6942),c=a.n(l),d=a(4792),u=a(7213),m=a(5911),p=a(6884);const g=(e,t)=>e-e*t/100+"rem",h=e=>{let{size:t,percent:a,trailWidth:n,trailColor:r,strokeWidth:i,strokeColor:o,vertical:l,remSize:c}=e;const d=i/2,u=t+i/2,m=t*a/100+i/2,p=l?`0 0 ${i} ${t+i}`:`0 0 ${t+i} ${i}`,h=l?`M ${d},${d} L ${d},${u}`:`M ${d},${d} L ${u},${d}`,f=l?`M ${d},${d} L ${d},${m}`:`M ${d},${d} L ${m},${d}`,E={strokeDasharray:`${c}rem, ${c}rem`,strokeDashoffset:g(c,a)};return s().createElement("svg",{viewBox:p},s().createElement("path",{className:"rc-progress-linetrail",d:h,stroke:r,strokeWidth:n,strokeLinecap:"round",fillOpacity:"0"}),s().createElement("path",{className:"rc-progress-linepath",d:f,stroke:o,strokeWidth:i,strokeLinecap:"round",fillOpacity:"0",style:E}))},f=(e,t)=>`${e/100*t}px ${t}px, ${t}px`,E=e=>{let{percent:t,trailWidth:a,trailColor:n,strokeWidth:r,strokeColor:i}=e;const o=50-r/2,l=2*Math.PI*o,c=-o,d=-2*o,u={strokeDasharray:f(t,l)},m={strokeDasharray:`${f(t,l)}px`};return s().createElement("svg",{viewBox:"0 0 100 100"},s().createElement("path",{className:"rc-progress-circletrail",d:`M 50,50 m 0,${c}\n                   a ${o},${o} 0 1 1 0,${-d}\n                   a ${o},${o} 0 1 1 0,${d}`,stroke:n,strokeWidth:a,strokeLinecap:"round",fillOpacity:"0",style:m}),s().createElement("path",{className:"rc-progress-circlepath",d:`M 50,50 m 0,${c}\n                   a ${o},${o} 0 1 1 0,${-d}\n                   a ${o},${o} 0 1 1 0,${d}`,stroke:i,strokeWidth:r,strokeLinecap:"round",fillOpacity:"0",style:u}))},v={line:"line",circle:"circle"},y=e=>{let{shape:t=v.line,size:a=100,percent:r=0,a11yLabel:i="Progress",trailWidth:o=6,trailColor:l="#D9D9D9",strokeWidth:d=6,strokeColor:u="#02A1F8",className:m="",vertical:p=!1,forceLTR:g=!1}=e;const f={trailWidth:o,trailColor:l,strokeWidth:d,strokeColor:u,percent:r},y=a/16;return s().createElement("div",{className:c()("rc-progress",`rc-progress-${t}`,{"rc-progress-verticalline":p,"rc-progress-force-ltr":g},m),style:{width:p?void 0:`${y}rem`}},t===v.circle?s().createElement(E,f):s().createElement(h,(0,n.A)({},f,{vertical:p,size:a,remSize:y})),s().createElement("div",{className:"visuallyhidden"},`${i}: ${parseInt(r,10)}%`))};var b=a(1265),A=a(4668);var S=a(2353),w=a(2684),T=a(5284);const O=(e,t)=>"LOCAL-DEV-INLINE"===t?(e=>{let t;switch(e){case S.G7.PINCODE:t=S.G7.BRANDCHECK;break;case S.G7.BRANDCHECK:t=S.G7.PRODUCT;break;case S.G7.PRODUCT:t=S.G7.QUESTIONS;break;case S.G7.QUESTIONS:t=S.G7.LOAN_INFO;break;case S.G7.LOCATION:t=S.G7.BRANDCHECK;break;case S.G7.VERIFY:t=S.G7.QUESTIONS;break;case S.G7.LOAN_CONFIRM:case S.G7.LOAN_AUTH:t=S.G7.LOAN_DETAILS;break;case S.G7.LOAN_INFO:t=S.G7.LOAN_AUTH;break;case S.G7.LOAN_DETAILS:case S.G7.IUPTRADEIN_CONFIRM:t=S.G7.SAVE;break;default:t=e}return`../demos/ajax-data/${t}.json`})(e):(e=>{let t;switch(e){case S.Tx.CATEGORY:t=S.Tx.BRAND;break;case S.Tx.LOCATION:t=S.Tx.SHIPPING;break;case S.Tx.LOAN_VERIFICATION_OTP:t=S.Tx.LOAN_VERIFICATION_OTP;break;case S.Tx.BRAND:t=S.Tx.VERIFY;break;case S.Tx.LOAN_AUTH:t=S.Tx.LOAN_DETAILS;break;case S.Tx.LOAN_INFO:t=S.Tx.LOAN_AUTH;break;case S.Tx.LOAN_DETAILS:t=S.Tx.SAVE;break;case S.Tx.PRODUCT:t=S.Tx.QUESTIONS;break;case S.Tx.QUESTIONS:t=S.Tx.LOAN_INFO;break;case S.Tx.RECOMMENDATIONS:t=S.Tx.SHIPPING;break;case S.Tx.VERIFY:t=S.Tx.QUESTIONS;break;case S.Tx.SHIPPING:t=S.Tx.DEVICE_CHECK;break;case S.Tx.DEVICE_CHECK:t=S.Tx.DEVICE_TYPE;break;case S.Tx.DEVICE_TYPE:t=S.Tx.CONFIRMATION;break;case S.Tx.CONFIRMATION:t=S.Tx.QUOTE;break;case S.Tx.QUOTE:t=S.Tx.SAVE;break;case S.Tx.SAVE:t=S.Tx.RECYCLE;break;case S.Tx.RECYCLE:t=S.Tx.FORKCONFIRMATION;break;case S.Tx.FORKCONFIRMATION:t=S.Tx.SAVE;break;default:t=e}return`../demos/ajax-data/overlay/${t}.json`})(e),N=(e,t)=>{if(e&&t){const{parseQueryString:a,extendUrlQuery:n}=w;return n(e,a(t))}return e},C=e=>e&&"object"==typeof e?Object.keys(e).filter((t=>{return null!==(a=e[t])&&"object"!=typeof a&&"function"!=typeof a&&void 0!==a;var a})).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&"):null,_=function(){let e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;const{makeUrl:i,parseUrl:o,parseQueryString:l}=w,c=o(a),d={...l(c.search)??{},...r};c.search="";const u=i(c),m=C(d);return"POST"===n?(e=u,t={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:m,signal:s}):e=N(u,m),(0,T.hI)(e,t)},I=(e,t)=>e.modules.reduce(((t,a)=>{const n=e[a.type];return n&&n.completed?{...t,...n.selection}:t}),t?{...e.unCachedSelection}:{});var D=a(3708);const L=e=>{let{bootstrap:t,onSelectionComplete:a=(e=>e),onSelectionChange:i=(e=>e),onMoveBack:l=(e=>e),assets:c,hideBackButton:d}=e;const u=s().useId(),[p,g]=(0,r.useState)({}),h=o().get(c,"tradein-backbutton-linktext");(0,r.useEffect)((()=>{t.selection||g({value:null})}),[t.selection]);const f=`fs-tradeup-${t.type}-${t.moduleData.key}`;return t&&t.moduleData&&t.moduleData.options?s().createElement("div",{className:"rf-tradeupoverlay-brand rf-tradeupoverlay-module"},s().createElement("h3",{id:`${u}_tradeupinline_module_header`,className:"rf-tradeupinline-module-header",tabIndex:-1},s().createElement("span",(0,m.OH)(t.moduleData.legend))),s().createElement(D.c6,{name:t.moduleData.key,legend:o().get(t,"moduleData.legend"),"aria-labelledby":`${u}_tradeupinline_module_header`},t.moduleData.options.map(((e,r)=>s().createElement(D.gW,{key:e.value,value:e.value,name:f,handleChange:n=>((e,n)=>{const r=o().get(t,"moduleData.key");g({...p,value:e}),i(S.Tx.BRAND,{newSelection:{value:e,text:n}}),a(S.Tx.BRAND,{[r]:e})})(n,e.text),checked:e.value===p.value,skipChangeSelection:!0,"data-autom":`${t.moduleData.key}_${r}_${e.value}`,withAriaLabeledBy:!0},s().createElement("div",(0,n.A)({className:"rf-tradeupoverlay-option-content"},(0,m.OH)(e.text))))))),h&&d&&s().createElement("button",{onClick:l,className:"as-buttonlink rf-tradeup-backbuttonlink",type:"button","data-autom":"tradeup-backbutton"},s().createElement("span",(0,m.OH)(h)))):null};var k=a(6637),x=a(4441);const P=e=>{let{bootstrap:t,externalCatSelection:a=null,onSelectionComplete:i=(e=>e),onSelectionChange:l=(e=>e)}=e;const[c,d]=(0,r.useState)({}),{viewport:u}=(0,k.useGlobalContext)();(0,r.useEffect)((()=>{t.selection||d({value:null})}),[t.selection]);const p=(e,a)=>{const n=o().get(t,"moduleData.key");l(S.Tx.CATEGORY,{newSelection:{value:e,text:a}}),d({...c,value:e}),i(S.Tx.CATEGORY,{[n]:e})};(0,r.useEffect)((()=>{a&&p(a)}),[]);const g=`fs-tradeup-${t.type}-${t.moduleData.key}`,h=s().createElement("h3",{className:"rf-tradeupinline-module-header",tabIndex:-1},s().createElement("span",(0,m.OH)(t.moduleData.legend)));return t&&t.moduleData&&t.moduleData.options?s().createElement("div",{className:"rf-tradeupoverlay-category rf-tradeupoverlay-module"},s().createElement(D.c6,{name:t.moduleData.key,legend:h},t.moduleData.options.map((e=>s().createElement(D.gW,{key:e.value,value:e.value,name:g,id:`${g}-${e.value}`,handleChange:t=>p(t,e.text),checked:e.value===c.value,skipChangeSelection:!0,classes:{left:"small-12"},childRight:"small"!==u?s().createElement("div",(0,n.A)({className:"rf-tradeupoverlay-option-labelalttext"},(0,m.OH)(e.altText))):null,withAriaLabeledBy:!0},s().createElement("div",{className:"rf-tradeupoverlay-option-content"},s().createElement("div",{className:"rf-tradeupoverlay-option-image"},s().createElement(x.Ay,{data:e.image,"aria-hidden":"true"})),s().createElement("div",{className:"rf-tradeupoverlay-option-label"},s().createElement("div",(0,n.A)({className:"rf-tradeupoverlay-option-labeltext"},(0,m.OH)(e.text))),"small"===u?s().createElement("div",(0,n.A)({className:"rf-tradeupoverlay-option-labelalttext"},(0,m.OH)(e.altText))):null))))))):null},R=e=>{let{assets:t,a11yProgressText:a,onSelectionComplete:n=(e=>e),view:r}=e;const i=o().get(t,"tradein-confirm-header"),l=o().get(t,"tradein-confirm-content"),d=o().get(t,"tradein-close");return s().createElement("div",{className:"rf-tradeupoverlay-confirmation rf-tradeupoverlay-module"},i?s().createElement("h3",{className:c()("rf-tradeupoverlay-confirmationheader",b.A.HEADLINE),tabIndex:-1},s().createElement("span",(0,m.OH)(i))):null,s().createElement("span",{className:"visuallyhidden"},a),s().createElement("div",{className:"rf-tradeupoverlay-confirmationscroll"},l&&s().createElement("div",(0,m.OH)(l)),s().createElement("button",{className:"form-button rf-tradeupoverlay-confirmbutton",onClick:()=>{const e=r===S.Pp.TILE?{assets:t}:"";n(S.Tx.CONFIRMATION,{externalParams:e})},type:"button","data-autom":"closeButton"},s().createElement("span",(0,m.OH)(d)))))},M=e=>{let{bootstrap:t,assets:a,a11yProgressText:i,unCachedSelection:l,onSelectionComplete:c=(e=>e),onSelectionChange:d=(e=>e),onMoveBack:u=(e=>e)}=e;const[p,g]=(0,r.useState)({}),{moreInfo:h}=t.moduleData,f=o().get(a,"tradein-devicecheck-header"),E=e=>{if("yes"===e){const a=o().get(t,"moduleData.key");g({...p,value:e}),d(S.Tx.DEVICE_CHECK,{newSelection:{value:e}}),c(S.Tx.DEVICE_CHECK,{[a]:e})}else u()};(0,r.useEffect)((()=>{t.selection||g({value:null})}),[t.selection]);const v=`fs-tradeup-${t.type}-${t.moduleData.key}`;return t&&t.moduleData&&t.moduleData.options?s().createElement("div",{className:"rf-tradeupoverlay-devicecheck rf-tradeupoverlay-module"},s().createElement("div",{className:"rf-tradeupoverlay-devicecheck-header"},s().createElement("h3",{tabIndex:-1},s().createElement("span",(0,m.OH)(f))),s().createElement("span",{className:"visuallyhidden"},i),s().createElement("div",null,s().createElement("div",(0,m.OH)(h)),l?s().createElement("div",null,o().map(l,((e,t)=>{const r=o().get(a,`tradein-shipping-${t}`,"");return r&&s().createElement("div",(0,n.A)({key:`rf-tradeupoverlay-devicecheck-${t}-${e}`,className:"rf-tradeupoverlay-deviceinfo"},(0,m.OH)(`${r} ${e.toUpperCase()}`)))}))):"")),s().createElement(D.c6,{name:t.moduleData.key,legend:f},t.moduleData.options.map((e=>s().createElement(D.gW,{key:e.value,value:e.value,name:v,handleChange:E,checked:e.value===p.value,skipChangeSelection:!0,"data-autom":`${v}-${e.value}`},s().createElement("div",(0,n.A)({className:"rf-tradeupoverlay-option-content"},(0,m.OH)(e.text)))))))):null};var F=a(4067),H=a(9138);const U=e=>{const{name:t,value:a,options:n,legend:r,defaultLabel:i="Select",onChange:o,label:l="Dropdown",className:d}=e;return s().createElement("fieldset",{className:c()("rc-dimension-dropdown",d)},s().createElement("legend",null,r),s().createElement(F.A,{name:t,value:a,onChange:e=>{let{target:t}=e;o(t.name,t.value)},label:l},s().createElement(H.A,{value:""},i),n.map((e=>e.disabled?"":s().createElement(H.A,{value:e.value,key:`${t}-option-${e.value}`},e.text)))))},$=e=>{let{bootstrap:t,assets:a,a11yProgressText:n,onSelectionComplete:i=(e=>e),onSelectionChange:l=(e=>e)}=e;const[d,u]=(0,r.useState)({}),{legend:p}=t.moduleData,g=o().get(a,"tradein-recycle-button-label"),h=o().get(a,"tradein-other-devicetype-label"),f=o().get(a,"tradein-other-devicetype-choose"),E=o().get(t,"moduleData.options",null);return(0,r.useEffect)((()=>{t.selection||u({value:""})}),[t.selection]),E?s().createElement("div",{className:"rf-tradeupoverlay-devicetype rf-tradeupoverlay-module"},s().createElement("h3",{className:c()("rf-tradeupoverlay-devicetype-header",b.A.HEADLINE),tabIndex:-1},s().createElement("span",(0,m.OH)(p))),s().createElement("span",{className:"visuallyhidden"},n),s().createElement(U,{name:t.moduleData.key,value:d.value,legend:p,options:E,label:h,onChange:(e,t)=>{u({...d,value:t})},defaultLabel:f}),s().createElement("button",{className:"form-button rf-tradeupoverlay-button",onClick:()=>{const e=o().get(t,"moduleData.key"),a=o().find(E,(e=>e.value===d.value));l(S.Tx.DEVICE_TYPE,{newSelection:{value:d.value,text:a.text}}),i(S.Tx.DEVICE_TYPE,{[e]:d.value})},type:"button",disabled:!d.value,"data-autom":"recycleButton"},s().createElement("span",(0,m.OH)(g)))):null},B=e=>{let{state:t,assets:a}=e;const r=o().get(a,"tradein-loading-message"),i=o().get(a,"tradein-generic-error");return s().createElement(u.A,{in:t.shown},s().createElement("div",{className:"rf-tradeupoverlay-fetch"},t.isFetching&&s().createElement("div",{className:"rf-tradeupoverlay-loading",tabIndex:-1},s().createElement("span",{role:"img",className:"waitindicator waitindicator40-gray","aria-label":r})),!t.isFetching&&t.error&&s().createElement("div",(0,n.A)({className:"rf-tradeupoverlay-errormessage typography-headline",tabIndex:-1},(0,m.OH)(i)))))},V=e=>{let{bootstrap:t,assets:a,a11yProgressText:i,overallSelection:l={},unCachedSelection:c={},onSelectionComplete:d=(e=>e)}=e;const u=o().get(a,"tradein-fork-confirm-content"),p=o().get(a,"tradein-fork-confirm-products"),g=()=>{const{submitUrl:e,method:a}=t.moduleData,n=C({...l,...c});let r=N(e,n);let s;"POST"===a&&(r=e,s={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:n});(0,T.hI)(r,s).then((e=>(e=>{const a=o().get(e,"data.quoteSaved"),n=o().get(e,"data.buyFlowParameters"),r=o().get(t,"moduleData.dynamicAssets");a&&n&&d(S.Tx.FORKCONFIRMATION,{externalParams:{buyFlowParameters:n,assets:r}})})({...e.body})),(e=>({data:e})))};return(0,r.useEffect)((()=>{t&&t.moduleData&&g()}),[]),s().createElement("div",{className:"rf-tradeupoverlay-forkconfirmation rf-tradeupoverlay-module"},s().createElement("div",(0,m.OH)(u)),s().createElement("span",(0,n.A)({className:"visuallyhidden"},(0,m.OH)(i))),s().createElement("div",(0,m.OH)(p)))};var Y=a(3808),q=a(8595),j=a(7466),G=a(4168);const W=1,z=2,K=3,Q=(e,t)=>{switch(t.type){case W:return{...e,...t.payload};case z:return{...e,tradeInEligibleErrorMessage:""};case K:return{...e,tradeInEligibleErrorMessage:"",pincodeErrorMsg:""};default:return{...e}}},J=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,d=!(arguments.length>9&&void 0!==arguments[9])||arguments[9];if(!a)return;const u=r&&C({[n]:r}),m=u?N(a,u):a,p=(0,Y.A)("react-tradeup/overlayValidatePostalCode");(0,T.hI)(m).then((t=>(t=>{const a=o().get(t,"content.deliveryMessage.pincode",{}),{tradeInEligible:r,tradeInEligibleErrorMessage:u}=a,m=a[`${n}`];e({type:W,payload:{[n]:m,isEditing:!r,tradeInEligible:r,tradeInEligibleErrorMessage:u}}),s(n,m),r?(e({type:K}),i({[n]:""}),d&&(c(S.Tx.PINCODE,{newSelection:{value:m}}),l(S.Tx.PINCODE,{[n]:m}))):i({[n]:u})})({...t.body}))).catch((a=>{p.error(a),e({type:W,payload:{pincodeErrorMsg:t}})}))},Z=e=>{const{bootstrap:t={},assets:a,onSelectionComplete:n=(e=>e),onSelectionChange:i=(e=>e),onOverlayClose:l=(e=>e),onTradeInEligible:d=(e=>e),onMoveBack:u=(e=>e),hideBackButton:p}=e,g=o().get(t,"moduleData.pincodeEligibilityUrl"),h=o().get(a,"tradein-overlay-error"),f=o().get(a,"tradein-pincode-button-label"),E=o().get(a,"tradein-pincode-error-button-label"),v=o().get(a,"tradein-pincode-header"),y=o().get(a,"tradein-pincode-desc"),b=o().get(t,"moduleData.pincode.sections[0].fields[0][0]",{}),{name:A,rules:S,value:w,label:T,maxSize:O}=b,N=b?{[A]:S}:{},[C,_]=(0,r.useReducer)(Q,{...t.moduleData,defaultErrorMsg:h,showPincode:!0}),I=(0,G.A)({initialValues:{[A]:w},validationOnBlur:!0,validateOnChange:!0,validationSchema:N}),{values:D,errors:L,touched:k,setFieldValue:x,setErrors:P,handleChange:R,handleBlur:M}=I,F=w||D[A]||"";(0,r.useEffect)((()=>{o().get(t,"moduleData.pincode")&&J(_,h,g,A,F,x,P,n,i,!1)}),[]);const H=e=>{e&&e.preventDefault(),J(_,h,g,A,D[A],x,P,n,i)},{pincode:U,pincodeErrorMsg:$="",tradeInEligibleErrorMessage:B="",tradeInEligible:V}=C,Y=B||k[A]&&L[A],K=o().has(L,A),Z=o().get(a,"tradein-backbutton-linktext");return(0,r.useEffect)((()=>{d({tradeInEligible:V,hasEligibleError:Boolean(B)})}),[V,B]),s().createElement("div",{className:c()("large-12 small-12","rf-tradeupoverlay-pincode","rf-tradeupoverlay-module")},s().createElement("fieldset",null,s().createElement("legend",null,s().createElement("div",{className:c()("rf-tradeupinline-module-header")},s().createElement("h3",{tabIndex:-1},s().createElement("span",(0,m.OH)(v)))),s().createElement("div",{className:c()("rf-tradeupoverlay-module-desc")},s().createElement("span",(0,m.OH)(y)))),U?s().createElement("form",{autoComplete:"off",noValidate:!0,className:c()("rf-tradeupoverlay-pincode-formwrapper"),onSubmit:H},s().createElement(q.A,{name:A,label:T,onChange:e=>{R(e),_({type:W,payload:{isEditing:!0}}),_({type:z})},onBlur:e=>{M(e),_({type:z})},maxLength:O,error:Y,value:F}),$?s().createElement("div",{className:c()("form-error")},s().createElement("span",(0,m.OH)($))):null,B?s().createElement(j.A,{className:"form-button rf-tradeupoverlay-pincode-button",onClick:l,type:"button","data-autom":E},s().createElement("span",(0,m.OH)(E))):s().createElement(j.A,{className:"form-button rf-tradeupoverlay-pincode-button",disabled:K,onClick:H,type:"button","data-autom":f},s().createElement("span",(0,m.OH)(f)))):null),Z&&p&&s().createElement("button",{onClick:u,className:"as-buttonlink rf-tradeup-backbuttonlink",type:"button"},s().createElement("span",(0,m.OH)(Z))))};var X=a(3530),ee=a(5925);const te=e=>{const{content:t,title:a}=e,n=s().createElement("div",(0,m.OH)(t));return s().createElement("div",{className:"rf-tradeuptooltip-container"},s().createElement(ee.A,{content:n,position:"top_start",focusOnClick:!0,disableBlur:!0,className:"rf-tradeuptooltip-content"},s().createElement("button",{className:"rf-tradeuptooltip-button form-icons form-icons-info19",type:"button","aria-label":a})),s().createElement("span",(0,m.OH)(a)))},ae=function(){setTimeout((()=>{const e=document.querySelector(['.rf-tradeupoverlay-modulemat.r-fade-transition-enter-done > .rf-tradeupoverlay-module [tabindex="-1"]','.rf-tradeupoverlay-innermodulemat.r-fade-transition-enter-done [tabindex="-1"]','.rf-tradeupoverlay-introscreenmat.r-fade-transition-enter-done [tabindex="-1"]'].join(", "));e&&e.focus()}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:50)},ne=()=>{d.Ez().isHandheldPhone&&setTimeout((()=>{const e=document.querySelector([".rf-tradeupoverlay-modulemat.r-fade-transition-enter-active > .rf-tradeupoverlay-module",".rf-tradeupoverlay-modulemat.r-fade-transition-enter-done > .rf-tradeupoverlay-module",".rf-tradeupoverlay-innermodulemat.r-fade-transition-enter-active",".rf-tradeupoverlay-innermodulemat.r-fade-transition-enter-done"].join(", "));e&&(document.querySelector(".rf-tradeupoverlay-scrollcontent").style.minHeight=`${e.offsetHeight}px`)}),100)},re=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const a=d.Ez(),n=e||a.iosVersion>0?950:800,r=a.isHandheldPhone?document.querySelector(".rf-tradeupoverlay"):document.querySelector(".rf-tradeupoverlay-scrollcontent");r&&(r.scrollTop=0),t&&ae(n),ne()},se=()=>{const e=document.querySelector(".rf-tradeupoverlay-headercontainer"),t=document.querySelectorAll(".rf-tradeupoverlay-module");if(e&&t.length){const a=`${e.clientHeight}px`;t.forEach((e=>{e.style.paddingTop=a}))}},ie=(e,t)=>{switch(t.type){case S.Rx.INIT:case S.Rx.UPDATE_STATE:return{...e,...t.payload.state};case S.Rx.UPDATE_PART:return{...e,part:t.payload.part};case S.Rx.UPDATE_SELECTION:return{...e,selection:{...t.payload.selection}};case S.Rx.SHOW_DIMENSION:return{...e,productMats:e.productMats.map(((e,a)=>({...e,shown:a===t.payload.index})))};case S.Rx.RESET_ALL:return{...e,part:null,selection:{},productMats:e.productMats.map(((e,t)=>({...e,shown:0===t,completed:!1,value:null})))};default:return{...e}}},oe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e.dimensions.filter((e=>e.selected)).length+t)/e.dimensions.length},le=e=>{let{bootstrap:t,assets:a,onSelectionChange:i=(e=>e),onSelectionComplete:l=(e=>e)}=e;const d=o().get(a,"showTradeUpTooltip",!1),[p,g]=(0,r.useReducer)(ie,{part:null,selection:{}}),{selection:h}=t,f=o().get(t,"moduleData.dimensions",null),{state:E,setDimension:v}=(0,X.A)({part:p.part,selection:p.selection,bootstrap:t.moduleData,onSelectionChange:(e,t)=>{o().isEqual(e,p.selection)||(g({type:S.Rx.UPDATE_SELECTION,payload:{selection:e}}),i(S.Tx.PRODUCT,{prevSelection:t,progress:oe(E,1),newSelection:{value:e}}),re(!1,!1))},onPartChange:(e,a)=>{if(g({type:S.Rx.UPDATE_PART,payload:{part:e}}),e){const{key:n}=t.moduleData;l(S.Tx.PRODUCT,{[n]:e},a)}}});return(0,r.useEffect)((()=>{const e=[];if(t&&t.moduleData){if((e=>{if(null!==e){const t=e.products&&1===e.products.length?e.products[0]:null;if(t&&t.part){const{key:a}=e;return i(S.Tx.PRODUCT,{prevSelection:null,skipBackButton:!0,newSelection:{value:t.dimensions}}),l(S.Tx.PRODUCT,{[a]:t.part}),!0}}return!1})(t.moduleData))return;f.forEach(((t,a)=>{e[a]={shown:0===a,completed:!1,key:t.key}})),g({type:S.Rx.UPDATE_STATE,payload:{state:{productMats:e}}})}}),[]),(0,r.useEffect)((()=>{const{key:e}=t.moduleData;h||!p.selection||o().isEmpty(p.selection)?h&&!h[e]&&g({type:S.Rx.UPDATE_SELECTION,payload:{selection:h}}):g({type:S.Rx.RESET_ALL})}),[h]),t&&t.moduleData?s().createElement("div",{className:"rf-tradeupoverlay-product"},E&&E.dimensions&&p.productMats&&E.dimensions.map((e=>{const t=o().get(a,"tradein-product-details-how-to-find");return s().createElement(u.A,{in:e.active,key:`tradeinoverlay-dimension-${e.key}`,className:"rf-tradeupoverlay-innermodulemat",onExited:()=>{ae()}},s().createElement("div",{className:c()("rf-tradeupoverlay-product-dimension rf-tradeupoverlay-module",e.disabled?"rf-tradeupoverlay-hide-dimension":"")},s().createElement("div",{className:"rf-tradeupoverlay-product-header"},s().createElement("h3",{className:c()("rf-tradeupoverlay-module-header",b.A.HEADLINE),tabIndex:-1,id:`${e.key}_tradeupoverlay-module-header`},e.legend),e.desc&&s().createElement(s().Fragment,null,d&&s().createElement("div",{className:"rf-tradeupoverlay-module-tooltip"},s().createElement(te,{content:e.desc,title:t})),!d&&s().createElement("div",{className:"rf-tradeupoverlay-module-content"},s().createElement("span",(0,n.A)({className:"rf-tradeupoverlay-module-title"},(0,m.OH)(t))),s().createElement("span",(0,n.A)({className:"rf-tradeupoverlay-module-desc"},(0,m.OH)(e.desc)))))),s().createElement("div",{className:"rf-tradeupoverlay-form-section"},s().createElement(D.c6,{name:e.key,legend:e.legend,disabled:e.disabled,"aria-labelledby":`${e.key}_tradeupoverlay-module-header`},e.options.filter((e=>!e.disabled)).map((t=>s().createElement(D.gW,{key:t.value,name:e.key,value:t.value,handleChange:t=>v(e.key,t),checked:t.value===e.value,disabled:t.disabled,skipChangeSelection:!0},s().createElement("div",{className:"rf-tradeupoverlay-option-content"},t.text))))))))}))):null};var ce=a(6141);const{FEATURE:de={},TYPE:ue={},onSelectionChanged:me=(e=>e)}=window?.asMetrics?.tradeIn??{},pe=e=>{window.asMetrics&&!o().isEmpty(e)&&window.asMetrics.fireMicroEvent({eVar:"eVar6",page:window.s.pageName,slot:"trade-in",part:"link",...e})},ge=(e,t,a)=>{const n=t?"available":"unavailable";window.asMetrics&&window.asMetrics.sendUserInteraction&&window.asMetrics.sendUserInteraction({name:"trade-in",beacon:{eVar6:`D=pageName+"|trade-in|${a}|${e}|${n}"`}})},he=(e,t,a)=>{pe({feature:e.type,part:t.type,action:a?"trade in another type of device":"back"})},fe=(e,t)=>{const a=o().get(window,"asMetrics.isBFEMetricsEnabled",!1),n=e.modules.find((e=>e.shown));t&&a||pe({feature:n?n.type:"",action:"close"})},Ee=(e,t)=>{o().get(window,"asMetrics.isBFEMetricsEnabled",!1)||pe({feature:t||"",action:"tradein"===e?"confirm trade-in":"recycle it"})},ve=e=>{const t=e.modules.find((e=>e.shown));pe({feature:t?t.type:"",action:"restart quote"})},ye=function(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!window.asMetrics)return;const r=o().values(o().get(e,`${S.Tx.CATEGORY}.selection`))[0];switch(t){case S.Tx.CATEGORY:pe({feature:n?n.value:"",part:"",action:"selected"});break;case S.Tx.DEVICE_TYPE:case S.Tx.BRAND:pe({feature:r||"",part:t,action:n?n.text:""});break;case S.Tx.DEVICE_CHECK:pe({feature:r||"",part:t,action:n?n.value:""});break;case S.Tx.PRODUCT:{const t=o().get(e,`${S.Tx.PRODUCT}.moduleData`,{}),s=o().omit(n.value,o().keys(a)),i=o().keys(s)[0],l=s[i],c=o().get(t.dictionaries.dimensions,`${i}.${l}`);pe({feature:r||"",part:i,action:c?c.text:""});break}case S.Tx.QUESTIONS:pe({feature:r||"",part:n?`question ${n.index+1}`:"question ",action:n?n.metricText:""});break;case S.Tx.QUOTE:pe({feature:r||"",action:"trade in for a gift card"});break;case S.Tx.RECYCLE:pe({feature:r||"",action:"continue to recycle"})}},be=()=>{me({feature:de.VERIFY,type:ue.CLICK,action:"verify"})},Ae=()=>{pe({feature:"shipping",action:"confirm"})},Se=function(e){pe({action:e,feature:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"address validation"})},we=e=>{pe({feature:e||"",action:"Continue to next steps"})},Te=e=>{pe({feature:e||"",action:"Proceed without this trade-in"})},Oe=()=>{window.asMetrics&&window.asMetrics.sendUserInteraction({name:"trade-in",beacon:{eVar46:"device eligible"}})},Ne={UPDATE_STATE:1,RESET_ELIGIBLE_ERROR:2},Ce=(e,t)=>{switch(t.type){case Ne.UPDATE_STATE:return{...e,...t.payload};case Ne.RESET_ELIGIBLE_ERROR:return{...e,locationErrorMsg:""};default:return{...e}}},_e=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(!n)return;const i=s&&C(s),l=i?N(n,i):n,c=(0,Y.A)("react-tradeup/overlayValidateLocation");(0,T.hI)(l).then((a=>(a=>{const n=o().get(a,"content.deliveryMessage.location",{}),{tradeInEligible:i,tradeInEligibleErrorMessage:l}=n,c={};Object.keys(s).forEach((e=>{c[e]=n[`${e}`]}));const d={...c,isEditing:!i,tradeInEligible:i,locationErrorMsg:l};if(e({type:Ne.UPDATE_STATE,payload:d}),t(l),i)e({type:Ne.RESET_ERRORS});else{const e=Object.values(s).join("/");ge(e,i,r)}})({...a.body}))).catch((n=>{c.error(n),t(a),e({type:Ne.UPDATE_STATE,payload:{locationErrorMsg:a}})}))},Ie=e=>{const{bootstrap:t={},assets:a,onSelectionComplete:n=(e=>e),onSelectionChange:i=(e=>e),onTradeInEligible:l=(e=>e),onMoveBack:d=(e=>e),hideBackButton:u,externalCatSelection:p,onToggleAlert:g}=e,h=o().get(t,"moduleData.locationEligibilityUrl"),f=o().get(a,"tradein-inline-error"),E=o().get(a,"tradein-location-button-label"),v=o().get(a,"tradein-location-header"),y=o().get(a,"tradein-location-desc"),b=o().get(a,"tradein-backbutton-linktext"),A=o().get(window,"LOCATION_BOOTSTRAP",{}),{form:w,formFields:T,isFetched:O,handleSelectChange:N}=(0,ce.P)({bootstrap:A}),[C,_]=(0,r.useReducer)(Ce,{...t.moduleData,defaultErrorMsg:f,showLocation:!0}),{tradeInEligible:I,locationErrorMsg:D=""}=C;return(0,r.useEffect)((()=>{l({locationErrorMsg:D,hasEligibleError:Boolean(D)})}),[I,D]),(0,r.useEffect)((()=>{_e(_,g,f,h,p)}),[]),s().createElement("div",{className:c()("large-12 small-12","rf-tradeupoverlay-location","rf-tradeupoverlay-module")},s().createElement("div",{className:c()("rf-tradeupinline-module-header")},s().createElement("h3",{tabIndex:-1},s().createElement("span",(0,m.OH)(v)))),s().createElement("div",{className:c()("rf-tradeupoverlay-module-desc")},s().createElement("span",(0,m.OH)(y))),s().createElement("form",{autoComplete:"off",noValidate:!0,className:"rf-tradeupoverlay-location-formwrapper"},s().createElement(ce.A,{form:w,formFields:T,isFetched:O,handleSelectChange:e=>t=>{t&&t.preventDefault(),N(e)(t),_({type:Ne.UPDATE_STATE,payload:{isEditing:!0}}),_({type:Ne.RESET_ELIGIBLE_ERROR});const a=o().get(t,"target.name"),n=o().get(t,"target.value");if(((e,t,a)=>{window.asMetrics&&window.asMetrics.sendUserInteraction&&window.asMetrics.sendUserInteraction({name:"trade-in",beacon:{eVar6:`D=pageName+"|trade-in|${a}|${e}|${t}"`}})})(a,n,p),0===e){const e={...o().get(w,"values"),[a]:n};_e(_,g,f,h,p,e)}else if(I){_({type:Ne.UPDATE_STATE,payload:{isEditing:!1,tradeInEligible:null,locationErrorMsg:null}})}},ariaDescribedBy:"rf-tradeupoverlay-alert-wrapper"}),s().createElement(j.A,{className:"form-button rf-tradeupoverlay-location-button",onClick:()=>{const e=o().get(w,"values");i(S.Tx.LOCATION,{skipBackButton:!0,newSelection:e});const t={};var a;T.forEach((e=>{const a=o().get(e,"name"),n=o().get(e,"data");t[a]=n})),n(S.Tx.LOCATION,e,{},t),a=p,window.asMetrics&&window.asMetrics.sendUserInteraction&&window.asMetrics.sendUserInteraction({name:"trade-in",beacon:{eVar6:`D=pageName+"|trade-in|${a}|location|continue"`}})},disabled:!I,type:"button","data-autom":E},s().createElement("span",(0,m.OH)(E)))),b&&u&&s().createElement("button",{onClick:d,className:"as-buttonlink rf-tradeup-backbuttonlink",type:"button"},s().createElement("span",(0,m.OH)(b))))},De=(e,t,a)=>{const n=e.moduleData.items.find((e=>e.key===t)),r=n?n.options.find((e=>e.value===a)):null;return!!r&&r.skipNext},Le=(e,t)=>{switch(t.type){case S.$H.INIT:case S.$H.UPDATE_STATE:return{...e,...t.payload.state};case S.$H.UPDATE_PART:return{...e,part:t.payload.part};case S.$H.UPDATE_SELECTION:return{...e,selection:{...t.payload.selection}};case S.$H.SELECT_QUESTION:return{...e,selection:{...e.selection,[t.payload.key]:t.payload.value},questionsState:e.questionsState.map((e=>e.key===t.payload.name?{...e,completed:!0,value:t.payload.value,shown:!1}:e))};case S.$H.SHOW_QUESTION:return{...e,questionsState:e.questionsState.map(((e,a)=>({...e,shown:a===t.payload.index})))};case S.$H.RESET_LAST:return((e,t)=>{let{selection:a}=t;const n=o().findLastIndex(e.questionsState,(e=>!0===e.completed));return{...e,selection:{...a},questionsState:e.questionsState.map(((e,t)=>t===n?{...e,completed:!1,value:null,shown:!0}:{...e,shown:!1}))}})(e,t.payload);case S.$H.RESET_ALL:return{...e,selection:null,questionsState:e.questionsState.map(((e,t)=>({...e,shown:0===t,completed:!1,value:null})))};default:return{...e}}},ke=(e,t)=>(e.questionsState.filter((e=>e.completed)).length+t)/e.questionsState.length,xe=e=>{let{bootstrap:t,assets:a,onSelectionChange:i=(e=>e),onSelectionComplete:l=(e=>e)}=e;const[d,p]=(0,r.useReducer)(Le,{}),{selection:g}=t,h={left:"small-12",right:"small-12"},f=o().get(a,"showTradeUpTooltip",!1);(0,r.useEffect)((()=>{const e=[];t&&t.moduleData&&(t.moduleData.items.forEach(((t,a)=>{e[a]={shown:0===a,completed:!1,key:t.key}})),p({type:S.$H.INIT,payload:{state:{questionsState:e}}}))}),[]),(0,r.useEffect)((()=>{g?Object.keys(g).length<Object.keys(d.selection).length&&p({type:S.$H.RESET_LAST,payload:{selection:g}}):g||!d.selection||o().isEmpty(d.selection)||p({type:S.$H.RESET_ALL})}),[g]);const E=(e,a,n,r)=>{let{currentTarget:s}=a,{metricText:c}=r;const{name:u,value:m}=s;let g;((e,t,a,n,r)=>{const s=o().get(e,"moduleData.items.0.keyPrefix","");a({type:S.$H.SELECT_QUESTION,payload:{key:s+n,name:n,value:r}})})(t,0,p,u,m),d.questionsState.find((e=>!e.completed))&&n!==d.questionsState.length-1||(g=!0);const h=De(t,u,m),f=o().get(t,"moduleData.items.0.keyPrefix",""),E=d.selection?{...d.selection}:{};E[f+u]=m,g||h?(i(S.Tx.QUESTIONS,{prevSelection:d.selection,progress:ke(d,1),newSelection:{value:m,index:n,metricText:c}}),l(S.Tx.QUESTIONS,E)):(p({type:S.$H.SHOW_QUESTION,payload:{index:n+1}}),i(S.Tx.QUESTIONS,{prevSelection:d.selection,progress:ke(d,1),newSelection:{value:m,index:n,metricText:c}}),re(!1,!1))};return t&&t.moduleData?s().createElement("div",{className:"rf-tradeupoverlay-questions"},t.moduleData.items&&d.questionsState&&t.moduleData.items.map(((e,t)=>{const r=o().get(a,"tradein-questions-what-this-means");return s().createElement("div",{key:`tradeinoverlay-questions-${e.key}`},s().createElement(u.A,{in:d.questionsState[t].shown,className:"rf-tradeupoverlay-innermodulemat",onExited:()=>{ae()}},s().createElement("div",{className:"rf-tradeupoverlay-module"},s().createElement("div",{className:"rf-tradeupoverlay-questions-header"},s().createElement("h3",{className:c()("rf-tradeupoverlay-module-header",b.A.HEADLINE),tabIndex:-1,id:`${e.key}_tradeupoverlay-module-header`},s().createElement("div",(0,m.OH)(e.legend))),e.moreInfo&&s().createElement(s().Fragment,null,f&&s().createElement("div",{className:"rf-tradeupoverlay-module-tooltip"},s().createElement(te,{content:e.moreInfo,title:r})),!f&&s().createElement("div",{className:"rf-tradeupoverlay-module-content"},s().createElement("span",(0,n.A)({className:"rf-tradeupoverlay-module-title"},(0,m.OH)(r))),s().createElement("span",(0,n.A)({className:"rf-tradeupoverlay-module-desc"},(0,m.OH)(e.moreInfo)))))),s().createElement("div",{className:"rf-tradeupoverlay-form-section"},s().createElement(D.c6,{name:e.key,legend:e.legend,disabled:e.disabled,"aria-labelledby":`${e.key}_tradeupoverlay-module-header`},e.options.map((a=>s().createElement(D.gW,{key:a.value,value:a.value,name:e.key,classes:h,handleChange:(e,n)=>{E(0,n,t,a)},checked:a.value===d.questionsState[t].value,disabled:a.disabled,skipChangeSelection:!0,"data-autom":`ques-${a.text}-${e.key}`,withAriaLabeledBy:!0},s().createElement("div",(0,n.A)({className:"rf-tradeupoverlay-option-content"},(0,m.OH)(a.text)))))))),s().createElement("div",(0,n.A)({className:c()("rf-tradeupoverlay-questions-footnote",b.A.BODY)},(0,m.OH)(e.footnote))))))}))):null},Pe=e=>{let{bootstrap:t,assets:a,onSelectionComplete:r=(e=>e),onSelectionChange:i=(e=>e)}=e;const{isForkEnabled:l=!1}=t.moduleData,d=o().get(a,"tradein-quote-estimate",""),u=o().get(a,"tradein-quote-estimate-desc"),p=o().get(a,"tradein-quote-header",""),g=o().get(a,"tradein-quote-desc",""),h=o().get(a,"tradein-quote-button-label",""),f=o().get(a,"tradein-quote-fork-button-label",""),E=()=>{i(S.Tx.QUOTE,{}),r(S.Tx.QUOTE,{})},v=()=>{i(S.Tx.QUOTE,{}),r(S.Tx.QUOTE,{})};return s().createElement("div",{className:"rf-tradeupoverlay-quote rf-tradeupoverlay-module"},d?s().createElement("h3",{className:"rf-tradeupoverlay-saveheader",tabIndex:-1},s().createElement("span",(0,m.OH)(d))):null,s().createElement("span",{className:"visuallyhidden"},"100%"),u?s().createElement("div",(0,n.A)({className:"rf-tradeupoverlay-savedesc-content"},(0,m.OH)(u))):null,p&&s().createElement("div",(0,n.A)({className:c()("rf-tradeupoverlay-quoteheader",b.A.EYEBROW)},(0,m.OH)(p))),g&&s().createElement("div",(0,n.A)({className:c()("rf-tradeupoverlay-quotedesc",b.A.INTRO)},(0,m.OH)(g))),s().createElement("div",null,l?s().createElement("button",{type:"button",onClick:v,className:"form-button"},s().createElement("span",(0,m.OH)(f))):"",s().createElement("button",{type:"button",onClick:E,className:c()(l?"as-buttonlink as-tradeupoverlay-startbutton":"form-button rf-tradeupoverlay-button")},s().createElement("span",(0,m.OH)(h)))))};var Re=a(9187);const Me=e=>{let{props:t={},onSelectionComplete:a=(()=>{}),onSelectionChange:r=(()=>{})}=e;const{title:i,imageData:l,priceString:d,priceData:u,linkData:p,displayType:g,button:h,description:f,subDescription:E,omnitureData:v,lob:y,index:A}=t,w={templateId:o().get(u,"templateId",""),data:o().get(u,"priceData",{})},{url:T,omnitureData:O,text:N}=p||{},C=l?.srcSet?.src;return s().createElement("div",{className:"rf-tradeupoverlay-recommendations-sections"},C&&s().createElement("div",{className:"rf-tradeupoverlay-recommendations-image"},s().createElement(x.Ay,{data:l})),s().createElement("div",{className:c()("rf-tradeupoverlay-recommendations-content",{"rf-tradeupoverlay-recommendations-content-noimage":!C}),"data-autom":"featuredType"===g?`recommendproduct_${A}`:"recommendations_giftcard"},s().createElement("div",{className:c()("rf-tradeupoverlay-recommendations-details",{"rf-tradeupoverlay-recommendations-details-noimage":!C})},i&&s().createElement("div",(0,n.A)({className:c()("rf-tradeupoverlay-recommendations-title",b.A.INTRO)},(0,m.OH)(i))),s().createElement("div",{className:"rf-tradeupoverlay-recommendations-pricedetails"},d?s().createElement("span",(0,m.OH)(d)):s().createElement(Re.h,w)),f&&s().createElement("div",(0,n.A)({className:c()("rf-tradeupoverlay-recommendations-description",b.A.INTRO)},(0,m.OH)(f))),E&&s().createElement("div",(0,n.A)({className:"rf-tradeupoverlay-recommendations-subdescription"},(0,m.OH)(E)))),s().createElement("div",{className:"rf-tradeupoverlay-recommendations-button"},"featuredType"===g&&s().createElement("a",{href:T,"data-autom":`button_shop_${A}`,"data-slot-name":o().get(O,"slotName"),"data-feature-name":o().get(O,"featureName"),"data-display-name":`${h} ${N.replace(/&nbsp;/gi," ")}`,className:"button"},s().createElement("span",(0,m.OH)(`${h} <span class="visuallyhidden">${N.replace(/&nbsp;/gi," ")}</span>`))),"standaloneType"===g&&s().createElement(j.A,{className:"button",hasDefaultClass:!1,"data-autom":"button-tradeinGiftcard",onClick:()=>{(e=>{if(window.asMetrics){const t=o().get(e,"featureName"),a=o().get(e,"linkText"),n=`${t}|${o().get(e,"lob")}|link|${a}`;window.asMetrics.sendUserInteraction({name:n,beacon:{eVar6:`D=pageName+"|${n}"`}})}})({...v,lob:y}),r(S.Tx.RECOMMENDATIONS,{}),a(S.Tx.RECOMMENDATIONS,{})}},s().createElement("span",(0,m.OH)(h))))))},Fe=e=>{let{bootstrap:t={},assets:a,onSelectionComplete:r=(e=>e),onSelectionChange:i=(e=>e)}=e;const{viewport:l}=(0,k.useGlobalContext)(),d=o().get(t,"moduleData.aosTradeinContent.recommendations.items",[]),u=o().get(a,"tradein-recommendations-header",""),p=o().get(a,"tradein-recommendations-subheader",""),g=o().get(a,"tradein-recommendations-footer",""),h=o().get(a,"tradein-recommendations-disclaimer","");return s().createElement("div",{className:"rf-tradeupoverlay-recommendations rf-tradeupoverlay-module"},u&&s().createElement("div",{className:"rf-tradeupoverlay-recommendations-header","data-autom":"recommendations_header"},s().createElement("h3",{className:c()("rf-tradeupoverlay-module-header",{[b.A.HEADLINE]:"small"!==l,[b.A.HEADLINE_REDUCED]:"small"===l})},s().createElement("div",(0,m.OH)(u)))),p&&s().createElement("div",(0,n.A)({className:c()("rf-tradeupoverlay-recommendations-subheader",b.A.EYEBROW),"data-autom":"recommendations_subheader"},(0,m.OH)(p))),d.map(((e,t)=>{const a={imageData:o().get(e,"value.image",{}),priceString:o().get(e,"value.priceString",""),priceData:o().get(e,"value.price",{}),linkData:o().get(e,"value.link",{}),title:o().get(e,"value.title",""),button:o().get(e,"value.button",""),description:o().get(e,"value.description",""),subDescription:o().get(e,"value.subDescription",""),displayType:o().get(e,"value.type",""),omnitureData:o().get(e,"value.omnitureData"),lob:o().get(e,"value.additionalData.namedAssets.lob",""),index:t};return s().createElement(Me,{key:`recommendations-section-${a.title}`,props:a,onSelectionComplete:r,onSelectionChange:i})})),g&&s().createElement("div",(0,n.A)({className:"rf-tradeupoverlay-recommendations-footer"},(0,m.OH)(g))),h&&s().createElement("div",(0,n.A)({className:c()("rf-tradeupoverlay-recommendations-disclaimer",b.A.CAPTION)},(0,m.OH)(h))))},He=e=>{let{assets:t,onSelectionComplete:a=(e=>e),onSelectionChange:r=(e=>e)}=e;const i=o().get(t,"tradein-recycle-estimate"),l=o().get(t,"tradein-recycle-estimate-desc"),d=o().get(t,"tradein-recycle-header"),u=o().get(t,"tradein-recycle-desc"),p=o().get(t,"tradein-recycle-button-label");return s().createElement("div",{className:"rf-tradeupoverlay-recycle rf-tradeupoverlay-module"},i?s().createElement("h3",{className:c()("rf-tradeupoverlay-recyclevalue",b.A.HEADLINE),tabIndex:-1},s().createElement("span",(0,m.OH)(i))):null,l?s().createElement("div",(0,n.A)({className:c()("rf-tradeupoverlay-recyclevalue-desc",b.A.INTRO)},(0,m.OH)(l))):null,d&&s().createElement("div",(0,n.A)({className:c()("rf-tradeupoverlay-recycleheader",b.A.EYEBROW)},(0,m.OH)(d))),u&&s().createElement("div",(0,n.A)({className:c()("rf-tradeupoverlay-recycleheader-desc",b.A.INTRO)},(0,m.OH)(u))),s().createElement("button",{className:"form-button",onClick:()=>{r(S.Tx.RECYCLE,{}),a(S.Tx.RECYCLE,{})},type:"button","data-autom":"recycleButton"},s().createElement("span",(0,m.OH)(p))))},Ue=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;const{submitUrl:r,method:s,tradeInType:i}=e.moduleData,l=C({...t,...a});let c,d=null;"POST"===s?(c=r,d={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l}):c=N(r,l);(0,T.hI)(c,d).then((a=>{(a=>{const r=o().get(a,"quoteSaved",!1),s=o().get(a,"buyFlowParameters",null),l=a?.summaryParameters,c=o().get(e,"assets",{});r&&s&&n&&n(S.Tx.SAVE,{tradeInTypeData:i,externalParams:{buyFlowParameters:s,assets:c,category:t.cat,summaryParameters:l}})})({...a.body})})),Ee(i,t.cat)},$e=e=>{let{bootstrap:t,assets:a,a11yProgressText:r,overallSelection:i,unCachedSelection:l,onSelectionComplete:d=(e=>e)}=e;const u=o().get(t.moduleData,"saveFetch",{}),p=o().get(a,"tradein-save-quote-estimate"),g=o().get(a,"tradein-save-quote-estimate-desc"),h=o().get(a,"tradein-save-quote-content"),f=o().get(a,"tradein-save-quote-button-label");return s().createElement("div",{className:c()("rf-tradeupoverlay-save rf-tradeupoverlay-module",{"rf-tradeupoverlay-save-withheader":p})},p?s().createElement("h3",{className:"rf-tradeupoverlay-saveheader",tabIndex:-1},s().createElement("span",(0,m.OH)(p))):null,g?s().createElement("div",(0,n.A)({className:"rf-tradeupoverlay-savedesc-content"},(0,m.OH)(g))):null,h&&s().createElement("div",(0,n.A)({className:"rf-tradeupoverlay-savedesc"},(0,m.OH)(h))),s().createElement("span",{className:"visuallyhidden"},r),s().createElement("button",{className:"form-button",disabled:u.isFetching,onClick:()=>{Ue(t,i,l,d)},type:"button","data-autom":f},s().createElement("span",(0,m.OH)(f))))};var Be=a(840);var Ve=a(9904),Ye=a(1434);const qe=e=>{let{bootstrap:t,url:a,form:r,...i}=e;const[l,d,m]=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,a]=s().useState(e);return[t,()=>a(!t),a]}(!1),p=s().useRef(null),g=s().useRef(!1),h=o().get(t,"fields",[]),f=o().get(h,"[0][0]",{}),E=o().get(h,"[1]",[]),{activeTab:v,setActiveTab:y,tabs:b,selection:A,handleSelection:S}=(0,Ye.A)({addressLookupUrl:a.addressLookupUrl,provinceSelectorTabs:E,onChange:(e,t)=>{m(!1),Object.keys(t).forEach((e=>r.setFieldValue(e,t[e]))),r.setFieldValue(f.name,e),p.current&&p.current.focus()}}),w=()=>{d(),g.current=!0};return s().createElement("div",{className:c()("rc-province-selector-adapter","form-dropdown",{"is-expanded":l})},s().createElement(q.A,(0,n.A)({name:f.name,value:o().get(r,`values[${f.name}]`,""),label:f.label,ref:p,classes:{input:"rc-province-selector-adapter-input",label:"rc-province-selector-adapter-input-label"},onClick:w,onKeyDown:e=>{switch(e.keyCode){case Be.HP.Space:case Be.HP.Return:e.preventDefault(),w()}},readOnly:!0},i),s().createElement("span",{className:c()("form-dropdown-chevron","chevron","rc-province-selector-adapter-input-chevron"),"aria-hidden":"true"})),s().createElement(u.x,{in:l},g.current&&s().createElement(Ve.Ay,{tabs:b,activeTab:v,onTabChange:y,selection:A,onSelection:S})))},je=e=>{let{bootstrap:t,form:a,url:n}=e;const r=o().get(t,"fields[0]",[]),[i,l]=s().useState(""),c=s().useRef(null),d=s().useRef();return s().useEffect((()=>{a.isValidating||a.values.postalCode===d.current||(a.values.postalCode&&!a.errors.postalCode&&(d.current=a.values.postalCode,(e=>{const t=(0,Y.A)("populate-citystate-adapter/PopulateCityStateAdapter/getCityState"),r={postalCode:e},s=w.extendUrlQuery(n.addressLookupUrl,r);(0,T.hI)(s).then((e=>{const t=o().get(e,"body.error");t?l(t):(l(""),a.setFieldValue("cityState",e.body.cityState))})).catch((e=>t.error(e)))})(a.values.postalCode)),a.errors.postalCode&&a.values.cityState&&(d.current=null,a.resetField("cityState")))}),[a.values.postalCode,a.errors.postalCode,a.isValidating]),s().createElement(s().Fragment,null,r.map((e=>{const{type:t,name:n,label:r,size:o,maxSize:l,editable:d=!0}=e,u=i||a.touched[n]&&a.errors[n];return s().createElement("div",{className:`rc-address-field column large-6 rc-address-${n.toLowerCase()}-field`,key:n},s().createElement(q.A,{name:n,value:a.values[n],onBlur:a.handleBlur,error:d&&u,type:t,label:r,size:o,ref:c,maxsize:l,disabled:!d,onChange:a.handleChange,"data-autom":`address-field-${n}`}))})))},Ge=e=>{let{name:t,label:a,editable:n=!0,optionValues:r=[],form:i,handleChange:o,ariaDescribedBy:l}=e;return s().createElement(F.A,{name:t,value:i.values[t],label:a,onChange:o||i.handleChange,onBlur:i.handleBlur,error:i.touched[t]&&i.errors[t],disabled:!n,"aria-describedby":l},r.map((e=>s().createElement(H.A,{key:e.value,value:e.value,disabled:""===e.value},e.label))))};var We=a(5206),ze=a(8156),Ke=a.n(ze);const Qe=(e,t,a)=>{const n=Ke()(e,`${t}.data`);if(!n){const n=Ke()(e,`${t}`);return n?{optionValues:[a,{label:n,value:n}],singleOption:n}:{optionValues:[a],singleOption:void 0}}return{optionValues:[a,...n],singleOption:void 0}},Je=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(0,Y.A)("address-form/regional-breakdown-adapter/utils/fetchData"),n=Object.keys(t).length?w.extendUrlQuery(e,t):e;return(0,T.hI)(n).then((e=>Ke()(e,"body",{}))).catch((e=>a.error(e)))},Ze=(e,t)=>{const a={};for(let n=0;n<e.length;n+=1)for(let r=0;r<e[n].length;r+=1){if(e[n][r].name===t)return{params:a,fieldX:n,fieldY:r,isLastField:n===e.length-1&&r===e[n].length-1};a[e[n][r].name]=e[n][r].value}return{params:a,fieldX:e.length,fieldY:e[e.length-1].length,isLastField:!0}},Xe=e=>{const t=o().get(e,"value",!1),a=o().get(e,"optionValues.length",0)>1;return!(t&&a)},et=(e,t,a)=>{const[n,r]=s().useState((()=>(e=>{const t=e;for(let a=0;a<e.length;a+=1)for(let n=0;n<e[a].length;n+=1){const r={label:e[a][n].label,value:""};t[a][n]={...t[a][n],defaultOption:r,optionValues:e[a][n].optionValues||[r],isEditable:Boolean(e[a][n].value)||0===a&&0===n,handleChange:e[a][n].handleChange||(()=>{})}}return t})(t)));return s().useEffect((()=>{let t=n[0][0].name;const{x:s,y:i}=((e,t)=>{for(let a=0;a<e.length;a+=1)for(let n=0;n<e[a].length;n+=1)if(t(e[a][n]))return{x:a,y:n};return{x:void 0,y:void 0}})(n,Xe);if(void 0!==s&&void 0!==i&&(!n[s][i].optionValues||n[s][i].optionValues.length<=1)){t=n[s][i].name;const{params:o}=Ze(n,t);Je(e,o).then((e=>{let t=n[s][i];const{optionValues:o,singleOption:l}=Qe(e,t.name,t.defaultOption);l&&a(t.name,l),t={...t,optionValues:o,isEditable:!0},n[s][i]=t,r([...n])}))}}),[]),{regionalBreakdown:n,handleSelection:(t,s)=>{const{params:i,fieldX:o,fieldY:l,isLastField:c}=Ze(n,t),d={...i,[t]:s};let u=n;if(u[o][l].value=s,c)r(u);else{const[t,s]=n[o].length-1===l?[o+1,0]:[o,l+1];u=((e,t,a)=>{const n=e;for(let e=t;e<n.length;e+=1)for(let t=a;t<n[e].length;t+=1){if(!n[e][t].isEditable)return n;n[e][t].isEditable=!1}return n})(u,t,s),r([...u]),Je(e,d).then((e=>{let n=u[t][s];const{optionValues:i,singleOption:o}=Qe(e,n.name,n.defaultOption);o&&a(n.name,o),n={...n,optionValues:i,isEditable:!0},u[t][s]=n,r([...u])}))}n[o][l].handleChange(d)},handleLookaheadSelection:(t,s,i)=>{const{fieldX:o,fieldY:l}=Ze(n,s);let c=n;c[o][l]&&(c[o][l].value=t),(0,We.flushSync)((()=>{a(s,t)}));const d=((e,t)=>e.find((e=>e.displayValue===t)).fields.reduce(((e,t)=>(e[t.name]=t.value,e)),{}))(i,t);Object.entries(d).map((e=>{let[t,n]=e;return a([t],n)})),Je(e,d).then((e=>{const[t,a]=n[o].length-1===l?[o+1,0]:[o,l+1];let s=c[t][a];const{optionValues:i}=Qe(e,s.name,s.defaultOption);s={...s,optionValues:i,isEditable:!0},c[t][a]=s,r([...c])}))}}};var tt=a(9283),at=a(7427);const nt=e=>{let{region:t,form:a,url:r,handleSelection:i}=e;const[l,c]=(0,at.oM)({resetDelay:4e3}),[d,u]=s().useState([]),[m,p]=s().useState([]);return s().createElement(s().Fragment,null,s().createElement(tt.A,{value:o().get(a,`values[${t.name}]`,""),onChange:e=>{a.setFieldValue("searchString",e.target.value);const t=(0,Y.A)("regional-breakdown/lookahead-adapter"),n=w.extendUrlQuery(r,{value:e.target.value});(0,T.hI)(n).then((e=>{const t=[],a=o().get(e,"body.suggestions",[]);p(a),a.forEach((e=>{t.push(e.displayValue)}));const n=o().get(e,"body.suggestionsVOText","");u(t),c(n)})).catch((e=>t.error(`TypeAHeadFetchError: ${e}`)))},onSelection:e=>{i(e,t.name,m)},options:d,renderInput:e=>s().createElement(q.A,(0,n.A)({ref:a.registerFieldRef,key:t.name,name:t.name,label:t.label,classes:{input:"rc-location-form-text",error:"rc-location-form-errormsg"},maxLength:t.maxSize,required:t.required,error:"",onBlur:a.handleBlur,autoComplete:"off",onReset:()=>{a.setFieldValue(t.name,""),u([])}},e)),classes:{root:"rf-lookahead-autocomplete large-12"}}),s().createElement(at.Ay,{message:l}))},rt=e=>{let{bootstrap:t,form:a,url:n}=e;const{fields:r}=t,{regionalBreakdown:i,handleSelection:o,handleLookaheadSelection:l}=et(n.addressLookupUrl,r,a.setFieldValue);return s().createElement(s().Fragment,null,i.map(((e,t)=>s().createElement("div",{key:n||t,className:"row row-logical large-12"},e.map((t=>{switch(t.type){case"typeahead":return s().createElement(nt,{region:t,form:a,url:n.typeAheadLookupUrl,handleSelection:l});case"select":return s().createElement("div",{className:c()("column rc-regionalbreakdown-field","large-"+12/e.length)},s().createElement(Ge,{name:t.name,label:t.label,editable:t.isEditable,optionValues:t.optionValues,ariaDescribedBy:t.ariaDescribedBy,form:a,handleChange:e=>{a.handleChange(e),o(t.name,e.target.value)}}));default:return null}}))))))},st=e=>{let{name:t,maxSize:a,editable:r=!0,form:i,ariaDescribedBy:o,errors:l={},...c}=e;return s().createElement(q.A,(0,n.A)({name:t,value:i.values[t],onChange:i.handleChange,onBlur:i.handleBlur,error:i.touched[t]&&i.errors[t]||l[t],maxlength:a,disabled:!r,"data-autom":`address-field-${t}`,"aria-describedby":o},c))},it=e=>{let{sections:t,form:a,url:n,name:r}=e;const i="provinceDistrictWardSelectorForCheckout"===r||"regionalBreakdown"===r?rt:qe;return t.map(((e,t)=>s().createElement(i,{key:n||t,bootstrap:e,form:a,url:n})))},ot=e=>{let{sections:t,url:a,form:n,type:r}=e;return t.map((e=>s().createElement(je,{bootstrap:e,form:n,url:a,key:r})))},lt=e=>{let{sections:t,url:a,form:n}=e;return t.map(((e,t)=>s().createElement(rt,{key:a||t,bootstrap:e,form:n,url:a})))},ct=e=>{let{type:t,name:a,label:n,size:r,maxSize:i,prefix:o,editable:l=!0,optionValues:c=[],sections:d=[],url:u,form:m,handleChange:p,ariaDescribedBy:g,errors:h={}}=e;switch(t){case"text":return s().createElement(st,{type:t,name:a,label:n,size:r,countryCode:o,maxSize:i,editable:l,form:m,ariaDescribedBy:g,errors:h});case"select":return s().createElement(Ge,{name:a,label:n,editable:l,optionValues:c,form:m,handleChange:p});case"sublayout":return s().createElement(it,{sections:d,url:u,form:m,name:a});case"populateCityStateLayout":return s().createElement(ot,{sections:d,url:u,form:m,type:t});case"regionalBreakdown":return s().createElement(lt,{sections:d,url:u,form:m,name:a});default:return null}},dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return o().get(e.flat(),"[0].name",t)},ut=e=>{let{bootstrap:t,form:a,classes:r={},errors:i={}}=e;const{sections:o=[]}=t;return s().createElement("div",{className:c()("rc-address",r.root)},o.map(((e,t)=>{let{fields:o}=e;return s().createElement("div",{key:dt(o,String(t)),className:c()("rc-address-section",r.section)},o.map((e=>s().createElement("div",{className:c()("row","row-logical","large-12","rc-address-fields",r.fields,{"form-textbox-sidebyside":e.length>1}),key:e.map((e=>e.name)).join("-")},e.map((t=>s().createElement("div",{key:t.name,className:c()("rc-address-field",r.field,"column","large-"+12/e.length)},s().createElement(ct,(0,n.A)({form:a,errors:i},t)))))))))})))},mt=e=>{let{bootstrap:t,onSubmit:a,initialStatus:n,validateOnChange:r,validateOnBlur:i}=e;const[l,c]=s().useMemo((()=>(e=>{let{sections:t=[]}=e;const a={},n={};return t.forEach((e=>{let{fields:t}=e;t.flat().forEach((e=>{let{name:t,type:r,rules:s=[],value:i="",sections:l}=e;if("sublayout"===r||"regionalBreakdown"===r)o().get(l,"[0].fields",{}).forEach((e=>{e.forEach((e=>{a[e.name]=e.value||i,n[e.name]=e.rules}))}));else if("populateCityStateLayout"===r){const e=o().get(l,"[0].fields[0][0]",{}),t=o().get(l,"[0].fields[0][1]",{});e&&t&&(a[e.name]=e.value||i,a[t.name]=t.value||i,n[e.name]=e.rules,n[t.name]=t.rules)}else a[t]=i,n[t]=s}))})),[a,n]})(t)),[]);return(0,G.A)({initialValues:l,validationSchema:c,onSubmit:a,initialStatus:n,validateOnChange:r,validateOnBlur:i})};var pt=a(103);const gt=e=>{let{checked:t,onChange:a,assets:r,tncInlineText:i,tncUrl:l,ppInlineText:c,ppUrl:d,singleTncFrag:u}=e;const p=o().get(r,"tradein-shipping-tnc-linktext"),g=o().get(r,"tradein-shipping-pp-linktext");return s().createElement("div",{className:"rf-tradein-shipping-tnc"},s().createElement(pt.A,{name:"tnc",checked:t,onChange:a,"data-autom":"tradein_shippingtnc","aria-required":"true"},u?s().createElement("div",(0,n.A)({className:"rf-tradein-shipping-singletnc typography-body-reduced"},(0,m.OH)(u))):s().createElement("span",null,d&&s().createElement("span",{className:"rf-tradein-shipping-ppdesc typography-body-reduced"},s().createElement("span",(0,m.OH)(c)),s().createElement("a",{href:d,target:"_blank",rel:"noopener noreferrer"},s().createElement("span",(0,m.OH)(g)))),l&&s().createElement("span",{className:"rf-tradein-shipping-tncdesc typography-body-reduced"},s().createElement("span",(0,m.OH)(i)),s().createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer"},s().createElement("span",(0,m.OH)(p)))))))},ht=(e,t,a,n)=>r=>{if(!t)return;const s=r&&C(r),i=s?N(t,s):t,l=(0,Y.A)("react-tradeup/shipping-validateTradeIn");(0,T.hI)(i).then((t=>(t=>{const s=o().get(t,"content.deliveryMessage.location",{}),{tradeInEligible:i}=s;if(i)a("");else{const e=o().get(s,"tradeInEligibleErrorMessage");a(e);const t=Object.values(r).join("/");ge(t,i,n)}e(i)})({...t.body}))).catch((e=>l(e)))},ft=(e,t)=>{t(""),e(!0)},Et=e=>{let{options:t,params:a,footer:r,onChange:i,classes:l={}}=e;return o().get(t,"length")?s().createElement(s().Fragment,null,s().createElement("div",{className:"rf-tradeupoverlay-pipl-tnc"},t.map((e=>s().createElement(pt.A,{name:e.param,checked:a[e.param],onChange:t=>i(t,e.param),key:`tradeupoverlay_pipl_tnc_${e.param}`,"aria-required":"true"},s().createElement("span",(0,n.A)({className:l.option},(0,m.OH)(e.disclaimer))))))),r&&s().createElement("p",(0,n.A)({className:c()("rf-tradeupoverlay-pipl-footer",l.footer)},(0,m.OH)(r)))):null},vt=e=>{let{selection:t,assets:a}=e;return s().createElement(s().Fragment,null,t?o().map(t,((e,t)=>{const r=o().get(a,`tradein-shipping-${t}`,"");return r&&s().createElement("div",(0,n.A)({key:`rf-tradeupoverlay-devicecheck-${t}-${e}`,className:"rf-tradeupoverlay-deviceinfo"},(0,m.OH)(`${r} ${e.toUpperCase()}`)))})):null)},yt=e=>{let{bootstrap:t,assets:a,onFormSubmit:i,tncChecked:l,unCachedSelection:c,overallSelection:d,savedCalculations:u,onTncChange:p,piplConsent:g,piplConsentParams:h,onPiplConsentChange:f,onToggleAlert:E,externalCatSelection:v}=e;const{address:y,tnc:b,product:A,errors:S,shippingValidationData:w}=t.moduleData,T=o().get(a,"tradein-pipl-enabled",!1),O=o().get(w,"locationEligibilityUrl"),N=o().get(w,"validateAfter"),[C,_]=(0,r.useState)(!0),I=!T||Object.values(h).every(Boolean),D=l&&I,L=s().useMemo((()=>((e,t,a,n,r,s,i,l)=>{if(o().isEmpty(n))return e;const c=o().get(e,"sections"),d="rf-tradeupoverlay-alert-wrapper";return{sections:c.map((e=>({fields:o().get(e,"fields").map((e=>e.map((e=>{if("sublayout"===o().get(e,"type")){const c=o().get(e,"sections");return{...e,sections:c.map((e=>({fields:o().get(e,"fields").map((e=>{let c=!1;return e.map((e=>{const u=o().get(e,"name"),m=e.value||o().get(t,u,""),p=o().get(n,u),g=p&&p.map((e=>({...e,label:e.text})));return s&&u===s?(c=!0,{...e,value:m,optionValues:g||[{label:u,value:""}],handleChange:ht(r,a,i,l),ariaDescribedBy:d}):c||!s?{...e,value:m,optionValues:g||[{label:u,value:""}]}:{...e,value:m,optionValues:g||[{label:u,value:""}],handleChange:ft(r,i),ariaDescribedBy:d}}))}))})))}}return e}))))})))}})(y,d,O,u,_,N,E,v)),[]),k=mt({bootstrap:L,onSubmit:i}),x=o().get(a,"tradein-shipping-header"),P=o().get(a,"tradein-shipping-desc"),R=o().get(a,"tradein-shipping-device-header",""),M=o().get(a,"tradein-shipping-button-label",""),F=o().get(a,"tradein-shipping-correct-email-desc",""),H=o().get(a,"tradein-shipping-piplconsent-footer"),U=s().useMemo((()=>S?S.reduce(((e,t)=>(e[t.key]=t.message,e)),{}):{}),[S]);return s().createElement("div",null,s().createElement("h3",{tabIndex:-1},x),s().createElement("div",{className:"rf-tradein-shipping-desc"},P),s().createElement("form",{onSubmit:k.handleSubmit},L&&s().createElement(ut,{bootstrap:L,form:k,errors:U,classes:{root:"rf-tradein-shipping-form-address"}}),F&&s().createElement("div",{className:"rf-tradeup-correct-email typography-body-reduced"},F),A&&s().createElement("div",{className:"rf-tradein-shipping-form-deviceinfo"},s().createElement("div",(0,n.A)({className:"rf-tradein-shipping-form-deviceheader"},(0,m.OH)(R))),s().createElement("div",(0,n.A)({className:"rf-tradein-shipping-form-productname"},(0,m.OH)(A.name))),c&&s().createElement(vt,{selection:c,assets:a})),b&&s().createElement(gt,(0,n.A)({},b,{assets:a,checked:l,onChange:p})),T&&s().createElement(Et,{options:g,params:h,onChange:f,footer:H,classes:{option:"typography-body-reduced",footer:"typography-body-reduced"}}),M&&s().createElement("button",(0,n.A)({type:"submit",className:"button rf-tradein-shipping-button rf-tradein-shipping-form-button",disabled:!k.isDirty||!(k.isValid&&C&&D),"data-autom":"finishup_button"},(0,m.OH)(M)))))},bt=e=>{let{bootstrap:t,assets:a,onSuggestionSubmit:i,onEditAddress:l}=e;const{providedAddress:d,recommendedAddress:u}=t,p=u&&u.length>0,g=o().get(a,"tradein-shipping-confirm-address-header",""),h=o().get(a,"tradein-shipping-suggested-address-desc",""),f=o().get(a,"tradein-shipping-unverified-address-desc",""),E=o().get(a,"tradein-shipping-selected-address-button",""),v=o().get(a,"tradein-shipping-unverified-address-button",""),y=o().get(a,"tradein-shipping-provided-address-label",""),b=o().get(a,"tradein-shipping-recommended-address-label",""),A=o().get(a,"tradein-shipping-reenter-address-button",""),S=o().get(a,"tradein-shipping-your-address-button"),w=o().get(a,"tradein-shipping-address-recommended-header");(0,r.useEffect)((()=>{Se("displayed")}),[]);let T=null;const O=e=>{let t;if(e)t=d.fieldValues;else{const e=Number(T);t=u[e].fieldValues}i(t)};return s().createElement("div",{className:"rf-tradein-shipping-suggested-address"},s().createElement("h3",{tabIndex:-1},s().createElement("span",(0,m.OH)(p?w:g))),s().createElement("div",null,p?h:f),s().createElement("div",{className:"rf-tradein-shipping-suggested-address-field"},(d||p)&&s().createElement("div",(0,n.A)({className:"rf-tradein-bold-label"},(0,m.OH)(y))),d&&d.displayFormat&&d.displayFormat.map((e=>s().createElement("div",(0,n.A)({key:e,className:"row"},(0,m.OH)(e)))))),s().createElement("div",{className:"rf-tradein-shipping-suggested-address-field"},u&&s().createElement("div",(0,n.A)({className:"rf-tradein-bold-label"},(0,m.OH)(b))),u&&u.map(((e,t)=>(T=t,e.displayFormat&&e.displayFormat.map((e=>s().createElement("div",(0,n.A)({key:e,className:"row"},(0,m.OH)(e))))))))),(d||u)&&p?s().createElement("div",null,s().createElement("button",(0,n.A)({type:"button",className:c()("button","rf-tradein-shipping-button","rf-tradein-shipping-suggested-address-submit-button"),onClick:()=>{O(!1)}},(0,m.OH)(p?E:v))),s().createElement("button",(0,n.A)({type:"button",className:c()("as-buttonlink","rf-tradein-shipping-button","rf-tradein-shipping-suggested-address-edit-button"),onClick:()=>{O(!0)}},(0,m.OH)(p?S:A)))):s().createElement("div",null,s().createElement("button",(0,n.A)({type:"button",className:c()("button","rf-tradein-shipping-button","rf-tradein-shipping-suggested-address-submit-button"),onClick:l},(0,m.OH)(p?S:A))),s().createElement("button",(0,n.A)({type:"button",className:c()("as-buttonlink","rf-tradein-shipping-button","rf-tradein-shipping-suggested-address-edit-button"),onClick:()=>{O(!0)}},(0,m.OH)(p?E:v)))))},At=e=>o().flattenDeep(e.sections.map((e=>e.fields))).filter((e=>!1===e.submit)).map((e=>e.name)),St=e=>{let{bootstrap:t,assets:a,onSelectionComplete:n=(()=>{}),onMoveBack:i,onSelectionChange:l=(e=>e),overallSelection:c,savedCalculations:d,unCachedSelection:m,onToggleAlert:p,externalCatSelection:g}=e;const{moduleData:h}=t,{address:f,suggestedAddress:E,keyPrefix:v,shippingValidationData:y,tnc:b}=h,[A,w]=(0,r.useState)(!1),T=o().get(h,"piplConsent",[]),[O,N]=s().useState((()=>T.reduce(((e,t)=>(e[t.param]=!1,e)),{})));(0,r.useEffect)((()=>{w(!!E)}),[E]);const C=e=>{const t=[...At(f),"provinceCityDistrict"],a=o().omit(e,t),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return Object.keys(t).reduce(((a,n)=>(a[`${e}${n}`]=t[n],a)),{})}(v,a);E&&(r.pa=!0),Ae(),l(S.Tx.SHIPPING),n(S.Tx.SHIPPING,{...r,...O})},[_,I]=s().useState(Boolean(!b));return s().createElement("div",{className:"rf-tradein-shipping rf-tradeupoverlay-module"},s().createElement(u.A,{in:A},E&&s().createElement(bt,{bootstrap:E,assets:a,onEditAddress:()=>{Se("edit address","confirm address"),i()},onSuggestionSubmit:C})),s().createElement(u.A,{in:!A},!E&&s().createElement(yt,{bootstrap:t,assets:a,onToggleAlert:p,externalCatSelection:g,onFormSubmit:C,shippingValidationData:y,tncChecked:_,overallSelection:c,savedCalculations:d,unCachedSelection:m,onTncChange:e=>I(e.target.checked),piplConsent:T,piplConsentParams:O,onPiplConsentChange:(e,t)=>{N((a=>({...a,[t]:e?.target?.checked})))}})))},wt=1,Tt=2,Ot=(e,t)=>{switch(t.type){case wt:case Tt:return{...e,...t.payload.state};default:return{...e}}},Nt=(e,t,a,n,r,s,i,l,c,d)=>{const{verifyUrl:u,method:m}=e.moduleData,p=o().get(t.verification,"sections[0].fields[0][0].name",{}),g=p&&i[p]?{[p]:i[p]}:null;if(!g)return;const h={...n,...g,...d},f=C(h);let E,v=null;if(!u&&!m)return s(S.Tx.VERIFY),void r(S.Tx.VERIFY,{...g,...t.finalSelection});"POST"===m?(E=u,v={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:f}):(E=N(u,f),v={});(0,T.hI)(E,v).then((e=>{(e=>{if(!o().has(e,"deviceVerified"))return;const n={...t};n.verification.m=[];const i=o().get(e,"deviceVerified",!1),u=o().get(e,"errors",[]),m=o().get(e,"warnings",[]),h=o().get(e,"parameters.pid"),f=o().get(e,"parameters.mpn"),E=o().get(e,"parameters.tdef"),v=o().get(e,"parameters.trec"),y=o().get(e,"parameters.iUpTradeInEligibilityResponse");if(i&&(n.selection={...h?{pid:h}:null,...E?{tdef:E}:null,...v?{trec:v}:null,...y?{...y}:null},n.finalSelection=f?{mpn:f}:{}),n.deviceVerified=i,i&&o().isEmpty(m)){const e={...h?{pid:h}:null,...E?{tdef:E}:null,...v?{trec:v}:null,...y?{...y}:null};a({type:Tt,payload:{state:n}}),s(S.Tx.VERIFY),r(S.Tx.VERIFY,{...e},{...g,...n.finalSelection,...d})}else{if(u){const e=o().find(u,(e=>e.key===p));e&&(l({[p]:e.message}),c.current&&c.current.focus())}a({type:Tt,payload:{state:n}})}})({...e.body})})),be()},Ct=e=>{let{bootstrap:t,assets:a,overallSelection:i="",onSelectionComplete:l=(e=>e),onSelectionChange:c=(e=>e)}=e;const[d,u]=(0,r.useReducer)(Ot,{}),p=(0,r.useRef)(null);(0,r.useEffect)((()=>{if(t&&t.moduleData){const e={...d};e.showVerify=!0,e.verification={...t.moduleData.verification},e.verifyFetch={},u({type:wt,payload:{state:e}})}}),[]);const{verification:g}=d,h=d.deviceVerified&&!!o().find(g,(e=>e&&e.warn)),f=o().get(t,"assets.tradein-verify-header"),E=o().get(t,"assets.tradein-verify-footer"),v=o().get(t,"assets.tradein-verify-desc"),y=o().get(a,"tradein-pipl-enabled",!1),b=o().get(t,"assets.tradein-verify-piplconsent-footer"),A=h?o().get(a,"tradein-verify-button-iup-label",""):o().get(a,"tradein-verify-button-label","Submit Serial No."),S=o().get(t,"moduleData.verification.piplConsent",[]),[w,T]=s().useState((()=>S.reduce(((e,t)=>(e[t.param]=!1,e)),{}))),O=!y||Object.values(w).every(Boolean),N=d.verification?o().get(d.verification,"sections[0].fields[0][0]",{}):null,C=o().get(N,"name",""),_=N?{[C]:N.rules}:{},{values:I,errors:D,touched:L,handleChange:k,handleBlur:x,setErrors:P}=(0,G.A)({initialValues:{[C]:""},validationSchema:_}),R=e=>{((e,t,a,n,r,s,i,l,c,d,u,m,p,g)=>{i&&i.preventDefault(),!o().has(d,u)&&l[u]&&p&&Nt(e,t,a,n,r,s,l,c,m,g)})(t,d,u,i,l,c,e,I,P,D,C,p,O,w)};return t&&t.moduleData?s().createElement("div",{className:"rf-tradeupoverlay-verify rf-tradeupoverlay-module"},s().createElement("h3",{tabIndex:-1},s().createElement("span",(0,m.OH)(f))),s().createElement("span",(0,n.A)({className:"visuallyhidden"},(0,m.OH)(d.a11yProgressText))),s().createElement("div",(0,n.A)({className:"rf-tradeupoverlay-verifydesc"},(0,m.OH)(v))),g?s().createElement("form",{autoComplete:"off",onSubmit:R,noValidate:!0,className:"rf-tradeupinline-verify-formwrapper"},s().createElement(q.A,{name:C,label:N.label,onChange:k,onBlur:x,error:L[C]&&D[C],maxLength:N.maxSize,value:I[C],"data-autom":C,errorAttrs:{"data-autom":"errorMessage"},ref:p}),s().createElement("div",(0,n.A)({className:"rf-tradeupoverlay-verify-footer"},(0,m.OH)(E))),y&&s().createElement(Et,{options:S,params:w,onChange:(e,t)=>{T((a=>({...a,[t]:e?.target?.checked})))},footer:b,classes:{option:"typography-body",footer:"typography-body"}}),s().createElement("div",null,s().createElement(j.A,{"data-proceed":h,className:"form-button rf-tradeupoverlay-verify-button","data-autom":A,disabled:o().has(D,C)||!I[C]||!O,onClick:R},s().createElement("span",(0,m.OH)(A))))):""):null},_t=(e,t)=>{const a=o().get(t,"additionalDataMap.hideCategoriesSelection",!1),n=o().get(t,"staticAssets.tradein-standaloneLinkEnabled-hideBackButton",!1),r=o().get(t,"staticAssets.tradein-backbutton-linktext"),s=o().get(t,`${S.Tx.BRAND}.completed`,!1),i=o().get(t,`${S.Tx.PINCODE}.completed`,!1),l=o().get(t,`${S.Tx.LOCATION}.completed`,!1);return!!(e===S.Tx.CONFIRMATION||e===S.Tx.FORKCONFIRMATION||e===S.Tx.BRAND&&a||e===S.Tx.BRAND&&!i&&r||e===S.Tx.PINCODE&&!s&&r||e===S.Tx.BRAND&&!l&&r||e===S.Tx.LOCATION&&!s&&r||e===S.Tx.DEVICE_TYPE&&n)},It=e=>{const t=[S.Tx.SAVE,S.Tx.CONFIRMATION,S.Tx.FORKCONFIRMATION,S.Tx.RECOMMENDATIONS,S.Tx.LOAN_DETAILS];return o().includes(t,e)},Dt=(e,t)=>{switch(t.type){case S.JF.INIT:return{...e,...t.payload.initialData};case S.JF.SHOW_INTRO:return{...e,wasIntroShown:!0,hideProgress:!0,hideBackButton:!0,hideMainTitle:!0,intro:{...e.intro,content:t.payload.content,shown:!0}};case S.JF.HIDE_INTRO:return{...e,hideProgress:!1,hideMainTitle:!1,intro:{...e.intro,shown:!1}};case S.JF.HIDE_ALL_MODULES:return{...e,modules:e.modules.map((e=>({...e,shown:!1})))};case S.JF.SHOW_MODULE:return{...e,modules:e.modules.map((e=>({...e,shown:e.type===t.payload.moduleType})))};case S.JF.COMPLETE_MODULE:return{...e,unCachedSelection:{...e.unCachedSelection,...t.payload.unCachedSelection},[t.payload.moduleType]:{...e[t.payload.moduleType],selection:{...t.payload.selection},completed:!0}};case S.JF.MEMORIZE_EXPENSIVE_CALCULATION:return{...e,savedCalculations:{...t.payload.savedCalculations}};case S.JF.INIT_MODULE:return{...e,[t.payload.moduleType]:{...e[t.payload.moduleType],moduleData:t.payload.moduleData,selection:t.payload.selection,assets:t.payload.assets||{},completed:!1,initialize:!0,remaining:t.payload.remaining},hideBackButton:_t(t.payload.moduleType,e),hideProgress:It(t.payload.moduleType)};case S.JF.SET_MODULE_INIT:return{...e,[t.payload.moduleType]:{...e[t.payload.moduleType],initialize:!0}};case S.JF.RESET_MODULE:{const a=o().omit(e[t.payload.moduleType],"remaining");return{...e,[t.payload.moduleType]:{...a,moduleData:null,completed:!1,selection:null,initialize:!1}}}case S.JF.SHOW_LOADING:return{...e,fetch:{shown:!0,isFetching:!0}};case S.JF.HIDE_LOADING:return{...e,fetch:{shown:!1}};case S.JF.SHOW_ERROR:return{...e,hideProgress:!0,hideBackButton:!0,hideMainTitle:!0,fetch:{shown:!0,isFetching:!1,error:!0}};case S.JF.SET_SELECTION_EVENTS:return{...e,selectionEvents:e.selectionEvents.concat(t.payload.selection)};case S.JF.REMOVE_LAST_EVENT:return{...e,selectionEvents:e.selectionEvents.filter(((t,a)=>a!==e.selectionEvents.length-1))};case S.JF.RESET_UNCACHED_SEL:return{...e,unCachedSelection:null};case S.JF.UPDATE_PROGRESS:return{...e,progress:{...e.progress,percent:t.payload.percent,a11yProgressText:t.payload.a11yProgressText}};case S.JF.TOGGLE_ALERT:return{...e,alert:t.payload};case S.JF.UPDATE_STATE:return{...e,...t.payload||{}};case S.JF.RESET_ALL:return{...e,modules:e.modules.map((e=>"category"===e.type?{...e,shown:!1,completed:!1,selection:null}:{...e,shown:!1,initialize:!1,completed:!1,selection:null})),fetch:{shown:!1},intro:{shown:!1,content:null},hideBackButton:!0,hideMainTitle:!1,hideProgress:!1,selectionEvents:[],unCachedSelection:null,tradeUpComplete:!1};case S.JF.MOVING_BACK:return{...e,isMovingBack:t.payload.isMovingBack};default:throw new Error}},Lt=e=>{let{bootstrap:t,view:a,moduleShown:n,overallSelection:r,handleClose:i=(e=>e),onTradeInNoClick:l=(e=>e)}=e;const c=o().get(t,"moduleData"),d=o().get(c,"tradein-header"),u=o().get(c,"tradein-description"),p=o().get(c,"tradein-confirmOutLabel"),g=o().get(c,"tradein-notradeinLabel"),h=o().get(c,"tradein-url"),f=o().get(r,"cat"),E=e=>{if(i(!1),e)window.open(h),we(f);else if(Te(f),a===S.Pp.TILE){l();const e=document.querySelector(".rf-tradeupbanner-tileoption-input-notradein");e&&e.focus()}};return s().useEffect((()=>{n&&Oe()}),[n]),c?s().createElement("div",{className:"large-12 small-12 rf-tradeupoverlay-verification-deferred rf-tradeupoverlay-module"},s().createElement("div",{className:"rf-tradeupoverlay-verification-deferred-header"},s().createElement("h3",{tabIndex:-1},s().createElement("span",(0,m.OH)(d))),s().createElement("div",{className:"rf-tradeupoverlay-module-desc"},s().createElement("span",(0,m.OH)(u)))),s().createElement(j.A,{className:"form-button rf-tradeupoverlay-confirmout-button",onClick:()=>E(!0),type:"button","data-autom":"verification-deferred-confirm-out-label"},s().createElement("span",(0,m.OH)(p))),s().createElement(j.A,{className:"as-buttonlink rf-tradeup-notradein-buttonlink",hasDefaultClass:!1,onClick:()=>E(),type:"button","data-autom":"verification-deferred-without-tradein"},s().createElement("span",(0,m.OH)(g)))):null},kt=(e,t)=>{let{message:a,classes:r={},isOverlay:i=!1}=e;return s().createElement("div",(0,n.A)({className:c()({"rf-tradeup-generic-overlay-fetch-errormessage":i,"rf-tradeup-generic-inline-fetch-errormessage":!i},r.headline),tabIndex:-1,ref:t},(0,m.OH)(a)))},xt=s().forwardRef(kt),{FEATURE:Pt={},TYPE:Rt={},onSelectionChanged:Mt=(e=>e),onLoanVerification:Ft=(e=>e)}=window?.asMetrics?.tradeIn??{},Ht=e=>{Mt({feature:Pt.APPLY_TO_BALANCE,type:Rt.CLICK,action:e})},Ut=e=>{Mt({feature:Pt.CONFIRM,type:Rt.CLICK,action:e})},$t=e=>{Mt({feature:Pt.CONFIRM,type:Rt.CLICK,action:e})},Bt=()=>{Ft("verify")},Vt=()=>{Ft("resend pin")},Yt=e=>{const t="PUSH"===e?"try again":"authenticate by email instead";Mt({feature:Pt.VERIFY_LOAN,type:Rt.CLICK,action:t})},qt=e=>{const t=(e=>{switch(e){case"ERROR_PIN_EXPIRED":return{message:"your pin has expired",name:"tradeIn|pin expired"};case"ERROR_PIN_INVALID":return{message:"your pin is incorrect",name:"tradeIn|pin incorrect"};case"ERROR_USER_PIN_EXCEEDED_MAX_ATTEMPTS":return{message:"maximum number of attempts allowed",name:"tradeIn|max attempts"};default:return null}})(e);window.asMetrics?.onError&&t&&window.asMetrics.onError(t)},jt=(e,t)=>{switch(t.type){case S.WN.SUCCESS:return{status:S.WN.SUCCESS,bootstrap:t.payload.data,polling:{...e.polling}};case S.WN.ERROR:return{status:S.WN.ERROR,bootstrap:t.payload.data,polling:{...e.polling,...t.payload.polling},authBootstrapData:t.payload.authBootstrapData};case S.WN.WAIT:return{status:S.WN.WAIT,bootstrap:t.payload.data,polling:{...e.polling,...t.payload.polling},authBootstrapData:t.payload.authBootstrapData};case S.WN.TIMEOUT:return{status:S.WN.TIMEOUT,bootstrap:t.payload.data,polling:{...e.polling}};case S.WN.LOAN_AUTH_OTP_ACTIONS:return{status:S.WN.WAIT,bootstrap:{...e.bootstrap,...t.payload.data},polling:{...e.polling,...t.payload.polling}};default:return{...e}}},Gt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e=>e;const{smsAuthenticationData:s={},authentication:i}=e,l=s?.fields??{},c={status:e?.status||S.WN.WAIT,bootstrap:{...i?.details??{},...s?.messages??{},isModuleShown:!0,submitUrl:i?.submitUrl},polling:{url:i?.submitUrl,options:{method:i?.method||"GET",...t,...a,...i?.params??{}},delay:i?.delay||100,countdown:i?.details?.countdownSecond||0},assets:{...i?.assets??{}},authBootstrapData:{...i?.details??{}}};(0,r.useEffect)((()=>{i?.status===S.WN.SUCCESS&&n(S.G7.LOAN_AUTH,i?.params)}),[i?.status]);const[d,u]=(0,r.useReducer)(jt,c);return{authStatus:d.status,authBootstrap:d.bootstrap,authBootstrapData:d.authBootstrapData,pollingData:d.polling,otpAuthFields:l,handleWaiting:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{delay:t,params:a={},submitUrl:n,method:r,details:s}=e?.body?.authentication??{};u({type:S.WN.WAIT,payload:{data:{...d.bootstrap,...s},polling:{url:n,options:{method:r,...d.polling.options,...a},delay:t},assets:{...d.assets??{}},authBootstrapData:{...c.authBootstrapData}}})},handleSuccess:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.body?.authentication?.params;u({type:S.WN.SUCCESS,payload:{data:{isModuleShown:!1},polling:{},assets:{}}}),n(S.G7.LOAN_AUTH,t)},handleError:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(o().isEmpty(e))u({type:S.WN.ERROR,payload:{data:{genericErrorMessage:d?.assets?.fetchError},polling:{},assets:{}}});else{const{submitUrl:t,method:a,details:n={}}=e?.body?.authentication??{},{messages:r}=e?.body?.smsAuthenticationData??{};u({type:S.WN.ERROR,payload:{data:{submitUrl:t,method:a,...n,...r},polling:{},assets:{...d.assets??{}},authBootstrapData:{...c.authBootstrapData}}}),qt(r?.type)}},handleTimeout:()=>{u({type:S.WN.TIMEOUT,payload:{data:{genericErrorMessage:d?.assets?.fetchError}},polling:{}})},handleOTPVerify:e=>{const{submitUrl:n,params:r,method:i}=s?.actions?.smsVerify??{},o={method:i,...t,...a,...r,...e};u({type:S.WN.WAIT,payload:{data:{...d.bootstrap??{},errorMsg:null},polling:{url:n,options:o},assets:{...d.assets??{}},authBootstrapData:{...c.authBootstrapData}}}),Bt()},handleOTPResend:()=>{const{submitUrl:e,params:n,method:r}=s?.actions?.sms??{},i={method:r,...t,...a,...n};u({type:S.WN.WAIT,payload:{data:{...d.bootstrap??{},errorMsg:null},polling:{url:e,options:i},assets:{...d.assets??{}},authBootstrapData:{...c.authBootstrapData}}}),Vt()},handleEmailAuthActions:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{submitUrl:a,params:n={},method:r="POST",onSuccess:s=(e=>e)}=e;u({type:S.WN.WAIT,payload:{data:{...d.bootstrap??{},actions:null},polling:{...d.polling,url:a,options:{method:r,...t,...n},delay:100},assets:{...d.assets??{}}}}),s(),Yt(n.type)},handleErrorReset:()=>{u({type:d.status,payload:{data:{...d.bootstrap??{},errorMsg:null},polling:{...d.polling??{}},assets:{...d.assets??{}},authBootstrapData:{...c.authBootstrapData}}})}}},Wt=(0,Y.A)("react-tradeup/use-polling"),zt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{urlOptions:a={},timeout:n,pollDelay:s,onSuccess:i=(e=>e),onWaiting:l=(e=>e),onError:c=(e=>e),onTimeout:d=(e=>e)}=t,[u,m]=(0,r.useState)(!1),[p,g]=(0,r.useState)(e),[h,f]=(0,r.useState)(s),E=(0,r.useRef)(!1),v=(n||9e5)+3e4,y=(0,r.useRef)(),b=()=>{m(!0)},A=()=>{m(!1)},w=()=>{y.current&&o().isFunction(y.current.abort)&&(y.current.abort(),y.current=null)},T=(e,t)=>{switch(e){case S.WN.WAIT:b(),l(t);break;case S.WN.SUCCESS:A(),i(t);break;case S.WN.ERROR:A(),c(t);break;case S.WN.TIMEOUT:A(),d(t)}},O=async()=>{try{if(E.current)return;if(!p)return T(S.WN.ERROR),void Wt.debug("Status URL for Polling is not present");const e=new AbortController,{signal:t}=e;y.current=e;const n={...a},r=n?.method??"POST";n&&delete n?.method,E.current=!0;const s=await _(p,r,n,t);E.current=!1;const i=s?.body?.authentication??{},{status:o=S.WN.WAIT,submitUrl:l,delay:c}=i;l&&g(l),c&&f(c),T(o,s)}catch(e){"TimeoutError"===e.name||"AbortError"===e.name?Wt.debug("Loan Auth process Timeout"):(T(S.WN.ERROR),Wt.error(e)),E.current=!1}};return(0,r.useEffect)((()=>{let e=0;return u&&p&&(e=setInterval(O,h||5e3)),()=>{clearInterval(e)}}),[u,p,h,a]),(0,r.useEffect)((()=>{let e=0;return u&&(e=setTimeout((()=>{w(),T(S.WN.TIMEOUT)}),v)),()=>{clearTimeout(e)}}),[u]),(0,r.useEffect)((()=>{g(e),f(s)}),[e,s]),{isPolling:u,stopPolling:A,startPolling:b}},Kt=e=>{let{caption:t,a11yCaption:a,timeout:i,classes:o={}}=e;const l=(0,r.useRef)(0),c=(0,r.useRef)(),[d,u]=(0,r.useState)(null),[p,g]=(0,r.useState)(""),h=()=>{let e=0,n="00",r="00";c.current?e=c.current-(new Date).getTime():(e=i,c.current=(new Date).getTime()+i),e>0&&(n=`${Math.floor(e/1e3/60%60)}`.padStart(2,"0"),r=`${Math.floor(e/1e3%60)}`.padStart(2,"0"));const s=t.replace("[MINS]",`${n}`).replace("[SECONDS]",`${r}`);if(u(s),l.current>=0&&l?.current%30==0){const e=a.replace("[MINS]",`${n}`).replace("[SECONDS]",`${r}`);g(e)}l.current+=1};return(0,r.useEffect)((()=>{let e=0;return e=setInterval(h,1e3),()=>{clearInterval(e),c.current=null}}),[]),s().createElement("p",{"aria-live":"polite","aria-label":p,className:o.headline},s().createElement("span",(0,n.A)({"aria-hidden":"true"},(0,m.OH)(d))))},Qt=()=>{const{assets:e}=k.useGlobalContext;return s().createElement("div",{className:"rf-loan-waitindicator"},s().createElement("div",{className:"waitindicator waitindicator40-gray","aria-label":e?.processing}))},Jt=e=>{let{loanAuthData:t={},assets:a={},onSelectionComplete:i,overallSelection:o={},unCachedSelection:l={}}=e;const{authStatus:d=S.WN.WAIT,authBootstrap:u={},pollingData:p={},handleWaiting:g,handleSuccess:h,handleError:f,handleTimeout:E,handleEmailAuthActions:v}=Gt(t,o,l,i),{startPolling:y}=zt(p?.url,{urlOptions:p?.options,pollDelay:p?.delay,timeout:p?.countdown,onSuccess:h,onError:f,onTimeout:E,onWaiting:g}),{title:A,description:w,countdownSecond:T,actions:O,caption:N="",a11yCaption:C="",submitUrl:_,method:I}=u??{},D=a?.["tradein-generic-error"],L=d===S.WN.TIMEOUT;return(0,r.useEffect)((()=>{y()}),[]),s().createElement(s().Fragment,null,!L&&s().createElement("div",{className:c()("rf-tradeupoverlay-module",{"rf-tradeupoverlay-auth-wait":d===S.WN.WAIT,"rf-tradeupoverlay-auth-error":d===S.WN.ERROR})},s().createElement("h3",{className:"rf-tradeupoverlay-loanauth-header typography-callout",tabIndex:-1},s().createElement("span",(0,m.OH)(A))),s().createElement("div",{className:"rf-tradeup-loanauth-description"},w&&s().createElement("p",(0,n.A)({className:"typography-body rf-tradeup-loanauth-description-item"},(0,m.OH)(w))),d===S.WN.WAIT&&s().createElement(s().Fragment,null,s().createElement(Kt,{timeout:T,caption:N,key:`caption + ${p?.options?.auid??""}`,a11yCaption:C,classes:{headline:"rf-tradeup-loanauth-description-item typography-body"}}),s().createElement(Qt,null))),s().createElement("div",{className:"rf-tradeupoverlay-loanauth-actions-container"},O&&O.map((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const a=e?.title;let n="as-buttonlink";return 0===t&&d===S.WN.ERROR&&(n="form-button"),s().createElement("button",{type:"button",key:a,className:`rf-tradeupoverlay-loanauth-action-button ${n}`,onClick:()=>{v({submitUrl:_,method:I,...e,onSuccess:y})}},s().createElement("span",null,a))})))),L&&s().createElement(xt,{message:D,classes:{headline:b.A.HEADLINE},isOverlay:!0}))};var Zt=a(4768);const Xt=e=>{let{disabled:t=!1,pinField:a={},errorMessage:n="",handleErrorReset:s=(e=>e),handleOTPVerify:i=(e=>e)}=e;const{name:l}=a,c=(0,G.A)({initialValues:{[l]:""}}),{values:d,errors:u,touched:m,isValid:p}=c,g=o().has(u,l)||!d[l]||!p,h=(0,r.useRef)(null),f=n||m[l]&&u[l];return(0,r.useEffect)((()=>{n&&!t&&h.current&&h.current.focus()}),[n,t]),{formState:c,inputRef:h,textFieldErrorMessage:f,hasBtnDisabled:g,handleKeyUp:e=>{e.keyCode!==Be.HP.Return||g||i(d),n&&s()},handleSubmit:()=>{i(d)}}},ea=e=>{let{loanAuthData:t={},onSelectionComplete:a,overallSelection:i={},unCachedSelection:o={}}=e;const{authStatus:l,authBootstrap:d={},authBootstrapData:u={},pollingData:p={},otpAuthFields:g,handleWaiting:h,handleSuccess:f,handleError:E,handleTimeout:v,handleOTPVerify:y,handleOTPResend:b,handleErrorReset:A}=Gt(t,i,o,a),{startPolling:w}=zt(p?.url,{urlOptions:p?.options,pollDelay:p?.delay,timeout:d?.countdownSecond,onSuccess:f,onError:E,onTimeout:v,onWaiting:h}),{errorMsg:T,type:O="",waitMsg:N,assets:C={}}=d,{title:_,description:I,countdownSecond:D,caption:L,a11yCaption:k}=u,[x,P]=(0,r.useState)(!1),[R,M]=(0,r.useState)("");(0,r.useEffect)((()=>{l===S.WN.ERROR&&O!==S.WN.MAX_RETRY_ERROR_TYPE&&P(!1)}),[l,O]);const{formState:F,textFieldErrorMessage:H,inputRef:U,hasBtnDisabled:$,handleKeyUp:B,handleSubmit:V}=Xt({disabled:x,pinField:g?.pin,errorMessage:T,handleErrorReset:A,handleOTPVerify:y}),Y="rf-tradeupoverlay-otp-field",G=H?`${Y}_errormsg`:void 0,{values:W,handleBlur:z,handleChange:K}=F;return s().createElement("div",{className:"rf-tradeupoverlay-module"},s().createElement("h3",{className:c()("rf-tradeupoverlay-module-header",Zt.A.HEADLINE),tabIndex:-1},s().createElement("span",(0,m.OH)(_))),s().createElement("div",{className:"rf-tradeupoverlay-description"},I),s().createElement(q.A,{id:Y,"aria-describedby":G,name:g?.pin?.name,label:g?.pin?.value,type:g?.pin?.type,onChange:K,onBlur:z,value:W[g?.pin?.name],onKeyUp:B,"data-autom":"otpAuth",required:"required",ref:U,disabled:x}),H&&s().createElement("p",(0,n.A)({className:"rf-tradeupoverlay-otpfield-error-message",id:`${Y}_errormsg`},(0,m.OH)(H))),l===S.WN.WAIT&&R&&x&&s().createElement("div",{className:"rf-tradeupoverlay-wait-message"},s().createElement("div",{role:"img",className:"rf-tradeupoverlay-icon waitindicator waitindicator-inline waitindicator16-gray","aria-label":C?.processing}),s().createElement("div",null,R)),l===S.WN.WAIT&&!R&&s().createElement(Kt,{caption:L,timeout:D,a11yCaption:k,classes:{headline:"rf-tradeupoverlay-wait-ticker"},key:`caption${t?.smsAuthenticationData?.actions?.smsVerify.params?.auid??""}`}),s().createElement("button",{className:c()("as-buttonlink rf-tradeupoverlay-resend-btn",Zt.A.BODY_TIGHT),name:g?.resend?.name,type:"button",disabled:x,onClick:()=>{M(""),b(),w()}},g?.resend?.value),s().createElement(j.A,{className:"form-button",type:"button",disabled:$||x,onClick:()=>{M(N),V(),w(),P(!0)},name:g?.verify?.name},s().createElement("span",(0,m.OH)(g?.verify?.value))))},ta=e=>{let{bootstrap:t={},overallSelection:a={},unCachedSelection:n={},onSelectionComplete:i=(e=>e),moduleShown:o,assets:l}=e;const{submitUrl:c,method:d,authType:u}=t?.moduleData??{},[m,p]=(0,r.useState)(),{userParams:g={}}=a||{},h=(0,r.useRef)("");let f;switch((0,r.useEffect)((()=>{if(o){const e={...a,...g,...n};delete e?.userParams;_(c,d,e).then((t=>{h.current=t?.body?.authentication?.status,p(t.body),h.current===S.WN.SUCCESS&&i(S.Tx.LOAN_AUTH,{...t?.body?.authentication?.params,...e})}))}}),[o]),u){case S.ss.PUSH:f=Jt;break;case S.ss.SMS:f=ea}return s().createElement(s().Fragment,null,h.current===S.WN.WAIT&&m&&f?s().createElement(f,{loanAuthData:m,onSelectionComplete:i,overallSelection:a,unCachedSelection:n,assets:l}):null,h.current===S.WN.ERROR&&m?s().createElement(xt,{message:m?.authentication?.details?.title,classes:{headline:"typography-headline"},isOverlay:!0}):null)},aa=e=>{let{loanDetails:t={},saveInfo:a={},overallSelection:i={},unCachedSelection:l={},onSelectionComplete:d=(e=>e)}=e;const{userParams:u={},tradeinText:p,verificationText:g,loanText:h,split:f,summary:E,confirmation:v={}}=t,y=v?.key;return(0,r.useEffect)((()=>{if(ne(),!o().isEmpty(u)){const{loanConfirmationDetails:e=(e=>e)}=window?.asMetrics?.tradeIn??{},{otia:t=0,la:a=0}=u;e({tiv:t,elb:a})}}),[]),s().createElement("div",{className:"rf-tradeup-overlay-loan-success rf-tradeupoverlay-module"},s().createElement("span",{className:"rf-tradeup-overlay-verify-header-container"},s().createElement("span",(0,n.A)({className:"rf-tradeupoverlay-icon-success"},(0,m.OH)('<svg viewBox="0 0 25 25" class="as-svgicon as-svgicon-complete as-svgicon-reduced as-svgicon-completereduced" role="img" aria-hidden="true" width="25px" height="25px"><path fill="none" d="M0 0h25v25H0z"/><path d="M12.5 4.1a8.4 8.4 0 1 1-8.4 8.4 8.409 8.409 0 0 1 8.4-8.4m0-1.1a9.5 9.5 0 1 0 9.5 9.5A9.5 9.5 0 0 0 12.5 3Z"/><path d="M11.69 16.914a.5.5 0 0 1-.809.046L7.75 13.112a.55.55 0 1 1 .854-.694l2.608 3.2 4.8-7.478a.55.55 0 0 1 .926.594Z"/></svg>'))),s().createElement("span",null,s().createElement("span",(0,n.A)({className:"rf-verify-header typography-body"},(0,m.OH)(g))),s().createElement("span",(0,n.A)({className:"rf-loan-header"},(0,m.OH)(h))))),p&&s().createElement("h3",{className:"rf-tradeupoverlay-tradein-header typography-headline-reduced",tabIndex:-1},s().createElement("span",(0,m.OH)(p))),s().createElement("p",(0,n.A)({className:"rf-info-header typography-body-tight"},(0,m.OH)(f?.title))),f?.ledger&&f?.ledger.map((e=>s().createElement("p",{key:e,className:"rf-info-text"},s().createElement("span",(0,m.OH)(e))))),s().createElement("p",{className:c()("rf-summary-title",Zt.A.TOUT)}," ",E?.nextSteps?.title," "),E?.nextSteps?.description&&s().createElement("ul",{className:"rf-loan-info-text"},E.nextSteps.description.map((e=>s().createElement("li",{key:e},s().createElement("span",(0,m.OH)(e)))))),v?.options&&s().createElement("div",{className:"rf-tradeup-overlay-confirm-button"},v?.options.map((e=>{let{value:t,text:r,metricText:p}=e;return s().createElement("button",(0,n.A)({type:"button",key:t,className:c()({"form-button rf-tradeupoverlay-loansuccess-button":t===S.lR.YES,"as-buttonlink rf-tradeupoverlay-nothanks-link":t===S.lR.NO})},(0,m.OH)(r),{onClick:()=>((e,t)=>{const n={[y]:e},r={...i,...l,...n,...u};delete r?.userParams;const{submitUrl:s,method:c}=a??{};o().isEmpty(a)?d(S.Tx.LOAN_DETAILS,{...n}):_(s,c,r).then((e=>{const t=e?.body,a=o().get(t,"quoteSaved",!1),n=o().get(t,"buyFlowParameters",null),r=t?.assets??{},s=t?.summary,l=t?.summaryParameters??{};a&&n&&d(S.Tx.LOAN_DETAILS,{tradeInTypeData:"tradein",shouldSave:!0,externalParams:{buyFlowParameters:n,assets:r,flexTradeInSummaryAssets:s,category:i?.cat,summaryParameters:l}})}));e===S.lR.YES?Ut(t):$t(t)})(t,p)}))}))))},na=e=>{let{bootstrap:t={},overallSelection:a={},unCachedSelection:n={},onSelectionComplete:i=(e=>e)}=e;const[o,l]=(0,r.useState)();return(0,r.useEffect)((()=>{const{submitUrl:e,method:r}=t?.moduleData??{},{userParams:s={}}=a,i={...a,...s,...n};delete i?.userParams;_(e,r,i).then((e=>{l(e?.body?.loan)}))}),[]),s().createElement(s().Fragment,null,o&&s().createElement(aa,{loanDetails:o?.info,saveInfo:o?.saveInfo,overallSelection:a,unCachedSelection:n,onSelectionComplete:i}))};var ra=a(9573);const sa=e=>{const{bootstrap:t={},overallSelection:a={},unCachedSelection:i={},onSelectionComplete:l=(e=>e),onSelectionChange:d=(e=>e),moduleShown:u}=e,{submitUrl:p,method:g}=o().get(t,"moduleData",{}),[h,f]=(0,r.useState)(),[E,v]=(0,r.useState)({}),y=(0,ra.A)();return(0,r.useEffect)((()=>{if(u){_(p,g,{...a,...i}).then((e=>{const t=o().get(e,"body"),n=o().get(t,"proceed",!1),r=o().get(t,"params");if(n)l(S.Tx.LOAN_INFO,{...r,...a});else{const e=o().get(t,"userParams"),{title:a,description:n}=o().get(t,"loanSummary",{}),{title:s,options:i=[],key:l,description:c}=o().get(t,"confirmation",{});f({loanSummaryHeader:a,loanSummaryDescription:n,loanInfoHeader:s,loanInfoOptions:i,loanInfoSubHeader:c,key:l,params:r,userParams:e})}}))}}),[u]),(0,r.useEffect)((()=>{t.selection||v({value:null})}),[t.selection]),h?s().createElement("div",{className:"rf-tradeupoverlay-loan-info rf-tradeupoverlay-module"},s().createElement("div",{className:"rf-tradeupoverlay-loaninfo-header"},h.loanSummaryHeader&&s().createElement("h3",{className:c()("rf-tradeupoverlay-module-header",Zt.A.HEADLINE),tabIndex:-1},s().createElement("span",(0,m.OH)(h.loanSummaryHeader)))),h.loanSummaryDescription&&s().createElement("div",(0,n.A)({className:c()("rf-tradeupoverlay-loaninfo-desc",Zt.A.BODY)},(0,m.OH)(h.loanSummaryDescription))),h.loanInfoHeader&&s().createElement("div",(0,n.A)({className:c()("rf-tradeupoverlay-loaninfo-ques",Zt.A.BODY),id:`${y}_tradeupoverlay_loaninfo_module_question`},(0,m.OH)(h.loanInfoHeader))),h.loanInfoSubHeader&&s().createElement("div",(0,n.A)({className:Zt.A.BODY},(0,m.OH)(h.loanInfoSubHeader))),s().createElement(s().Fragment,null,s().createElement(D.c6,{withGutters:!0,name:t.moduleData.key,"aria-labelledby":`${y}_tradeupoverlay_loaninfo_module_question`},h.loanInfoOptions.map((e=>s().createElement(D.sY,{key:`${e.key}_${e.value}`,name:h.key,value:e.value,checked:e.value===E.value,handleChange:t=>{((e,t,a,n,r)=>{v({...E,value:e}),d(S.Tx.LOAN_INFO,{newSelection:{value:e}}),l(S.Tx.LOAN_INFO,{[t]:e,...a,...n}),Ht(r)})(t,h.key,h.params,h.userParams,e.metricText)},skipChangeSelection:!0,withAriaLabeledBy:!0},s().createElement(D._V,{text:e.text}))))))):null},ia=(e,t,a,n)=>{const r={modules:[],introScreenDuration:3e3},s=d.Ez();r.isHandheldPhone=s.isHandheldPhone,r.overlayShown=!1,r.staticAssets={...e.additionalContent.additionalData},r.tradeInBaseUrl=e.tradeInBaseUrl,r.additionalDataMap=e.additionalDataMap,r.externalCatSelection=n?n.value:null,r.fetch={shown:!1},r.selectionEvents=[],r.progress={percent:0},r.alert=null,r.intro={shown:!1,content:null},r.unCachedSelection={},Object.keys(S.Tx).forEach((e=>{const t=S.Tx[e];r[t]={type:t,completed:!1,selection:null},r.modules.push({type:t,shown:!1})})),e.modules.forEach((e=>{r[e.module].moduleData=e.moduleData})),a({type:S.JF.INIT,payload:{initialData:r}})},oa=function(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200;window.setTimeout((()=>{a()&&(t({type:S.JF.HIDE_ALL_MODULES}),t({type:S.JF.SHOW_MODULE,payload:{moduleType:e}}),se(),re())}),n)},la=(e,t,a,n)=>{let{offset:r=0,remainingModules:s=10,innerModProgress:i=0}=n;const l=t.modules.reduce(((e,a)=>t[a.type].completed?e+1:e),0)+r,c=o().get(t,`${e}.remaining`,s),d=l/(l+c)*100+i/(l+c)*100,u=`${o().get(t,"staticAssets.tradein-progress","Progress")} ${parseInt(d,10)}%`;a({type:S.JF.UPDATE_PROGRESS,payload:{percent:d,a11yProgressText:u}})},ca=(e,t,a)=>{const n=e.modules.find((e=>e.shown));let r=!1;if(n){n.type===S.Tx.VERIFY&&t({type:S.JF.RESET_UNCACHED_SEL}),n.type!==S.Tx.SHIPPING&&n.type!==S.Tx.LOCATION||t({type:S.JF.TOGGLE_ALERT,payload:""});let s=e.selectionEvents[e.selectionEvents.length-1];s&&s.type&&(t({type:S.JF.MOVING_BACK,payload:{isMovingBack:!0}}),he(n,s,e.hideBackButton),s.skipBackButton&&(t({type:S.JF.RESET_MODULE,payload:{moduleType:s.type}}),t({type:S.JF.REMOVE_LAST_EVENT}),s=e.selectionEvents[e.selectionEvents.length-2],r=!0),s&&s.type&&(e[s.type].moduleData&&e[s.type].moduleData.suggestedAddress&&delete e[s.type].moduleData.suggestedAddress,t({type:S.JF.INIT_MODULE,payload:{moduleType:s.type,moduleData:e[s.type].moduleData,assets:e[s.type].assets,selection:s.prevSelection,remaining:e[s.type].remaining}}),la(s.type,e,t,{offset:r?-2:-1,innerModProgress:s.progress}),s.type!==n.type&&t({type:S.JF.RESET_MODULE,payload:{moduleType:n.type}}),oa(s.type,t,a,100),t({type:S.JF.REMOVE_LAST_EVENT})),setTimeout((()=>{t({type:S.JF.MOVING_BACK,payload:{isMovingBack:!1}})}),700))}},da=e=>{let{state:t,dispatch:a,isMounted:r}=e;const{hideBackButton:i,hideMainTitle:l}=t,d=o().get(t,"staticAssets.tradein-applegiveback"),u=o().get(t,"staticAssets.tradein-back"),p="rtl"===document?.documentElement?.getAttribute("dir");return s().createElement("div",{className:"rf-tradeup-header"},l?null:s().createElement("h2",{className:c()("rf-tradeup-topheader",b.A.BODY_REDUCED),id:"tradeupoverlay-a11yoverlaydesc",tabIndex:-1},s().createElement("span",(0,m.OH)(d))),!i&&t.selectionEvents&&t.selectionEvents.length>0?s().createElement("button",{onClick:()=>ca(t,a,r),className:"rf-tradeup-backbutton",type:"button","data-autom":"rf-tradeup-backbutton"},s().createElement("span",(0,n.A)({className:"rf-tradeup-leftarrow"},(0,m.OH)(p?'<svg viewBox="0 0 21 21" class="as-svgicon as-svgicon-rightarrow as-svgicon-tiny as-svgicon-rightarrowtiny" role="img" aria-hidden="true" width="21px" height="21px"><path fill="none" d="M0 0h21v21H0z"/><path d="M7.87 18.75a1.53 1.53 0 0 1-1.06-.44 1.51 1.51 0 0 1 0-2.12L13 10 6.81 3.81a1.51 1.51 0 0 1 0-2.12 1.49 1.49 0 0 1 2.12 0l7.25 7.25a1.49 1.49 0 0 1 0 2.12l-7.25 7.25a1.49 1.49 0 0 1-1.06.44Z"/></svg>':'<svg viewBox="0 0 21 21" class="as-svgicon as-svgicon-leftarrow as-svgicon-tiny as-svgicon-leftarrowtiny" role="img" aria-hidden="true" width="21px" height="21px"><path fill="none" d="M0 0h21v21H0z"/><path d="M12.12 18.75a1.53 1.53 0 0 1-1.06-.44l-7.25-7.25a1.51 1.51 0 0 1 0-2.12l7.25-7.25a1.5 1.5 0 0 1 2.13 2.12L7 10l6.19 6.19a1.51 1.51 0 0 1 0 2.12 1.53 1.53 0 0 1-1.07.44Z"/></svg>'))),s().createElement("span",(0,n.A)({className:"visuallyhidden"},(0,m.OH)(u)))):null)},ua=e=>{let{intro:t}=e;return t?s().createElement("div",null,s().createElement(u.A,{in:t.shown,appear:!0,mountOnEnter:!0,className:"rf-tradeupoverlay-introscreenmat"},s().createElement("div",{className:c()("rf-tradeupoverlay-introscreen",b.A.HEADLINE_ELEVATED)},s().createElement("div",(0,n.A)({},(0,m.OH)(t.content),{tabIndex:-1}))))):null},ma=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=o().get(e,`${S.Tx.CATEGORY}.moduleData.options`,[]).find((e=>e.value===a.value));return t||o().get(n,"data.splash")},pa=(e,t,a,n,r)=>{let s,i,l;a({type:S.JF.HIDE_ALL_MODULES}),a({type:S.JF.SHOW_LOADING}),e===S.Tx.SHIPPING&&(s=o().get(t,"shipping.moduleData.submitUrl"),i=o().get(t,"shipping.moduleData.method"),l=!0),((e,t,a,n)=>{let{customFetchUrl:r=null,method:s="GET",finalSubmit:i=!1,onFetch:l=(e=>e),onError:c=(e=>e)}=n;const d=r||o().get(t,"tradeInBaseUrl"),u=a?{...a}:I(t,i);delete u?.userParams,u.module=e;const m=o().get(t,"partNumbers",[]),p={};m.length>0&&m.forEach(((e,t)=>{p[`parts.${t}`]=e}));const g=C({...u,...p});let h,f={};"LOCAL-DEV-INLINE"===d||"LOCAL-DEV-OVERLAY"===d?(h=O(e,d),h=N(h,g)):"POST"===s?(h=d,f={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:g}):h=N(d,g),(0,T.hI)(h,f).then((e=>l({...e.body})),(e=>c({data:e})))})(e,t,r,{customFetchUrl:s,method:i,finalSubmit:l,onFetch:e=>{a({type:S.JF.HIDE_LOADING});const r=e.module;switch(r){case S.Tx.CATEGORY:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.CATEGORY,moduleData:o().get(e,"moduleData"),remaining:e.remaining}}),oa(S.Tx.CATEGORY,a,n);break;case S.Tx.BRAND:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.BRAND,moduleData:o().get(e,"moduleData"),remaining:e.remaining}}),oa(S.Tx.BRAND,a,n);break;case S.Tx.PRODUCT:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.PRODUCT,moduleData:o().get(e,"moduleData"),remaining:e.remaining}}),oa(S.Tx.PRODUCT,a,n);break;case S.Tx.QUESTIONS:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.QUESTIONS,moduleData:o().get(e,"moduleData"),remaining:e.remaining}}),oa(S.Tx.QUESTIONS,a,n);break;case S.Tx.SHIPPING:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.SHIPPING,moduleData:o().get(e,"moduleData"),assets:o().get(e,"assets"),remaining:e.remaining}}),oa(S.Tx.SHIPPING,a,n);break;case S.Tx.VERIFY:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.VERIFY,moduleData:o().get(e,"moduleData"),assets:o().get(e,"assets"),remaining:e.remaining}}),oa(S.Tx.VERIFY,a,n);break;case S.Tx.SAVE:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.SAVE,moduleData:o().get(e,"moduleData"),assets:o().get(e,"assets"),remaining:e.remaining}}),oa(S.Tx.SAVE,a,n);break;case S.Tx.RECYCLE:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.RECYCLE,moduleData:o().get(e,"moduleData"),assets:o().get(e,"assets"),remaining:e.remaining}}),oa(S.Tx.RECYCLE,a,n);break;case S.Tx.DEVICE_CHECK:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.DEVICE_CHECK,moduleData:o().get(e,"moduleData"),assets:o().get(e,"assets"),remaining:e.remaining}}),oa(S.Tx.DEVICE_CHECK,a,n);break;case S.Tx.CONFIRMATION:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.CONFIRMATION,moduleData:o().get(e,"moduleData"),assets:o().get(e,"assets"),remaining:e.remaining}}),oa(S.Tx.CONFIRMATION,a,n);break;case S.Tx.QUOTE:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.QUOTE,moduleData:o().get(e,"moduleData"),assets:o().get(e,"assets"),remaining:e.remaining}}),oa(S.Tx.QUOTE,a,n);break;case S.Tx.RECOMMENDATIONS:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.RECOMMENDATIONS,moduleData:o().get(e,"moduleData"),assets:o().get(e,"assets"),remaining:e.remaining}}),oa(S.Tx.RECOMMENDATIONS,a,n);break;case S.Tx.DEVICE_TYPE:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.DEVICE_TYPE,moduleData:o().get(e,"moduleData"),assets:o().get(e,"assets"),remaining:e.remaining}}),oa(S.Tx.DEVICE_TYPE,a,n);break;case S.Tx.FORKCONFIRMATION:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.FORKCONFIRMATION,moduleData:o().get(e,"moduleData"),assets:o().get(e,"assets"),remaining:e.remaining}}),oa(S.Tx.FORKCONFIRMATION,a,n);break;case S.Tx.PINCODE:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.PINCODE,moduleData:o().get(e,"moduleData"),assets:o().get(e,"assets"),remaining:e.remaining}}),oa(S.Tx.PINCODE,a,n);break;case S.Tx.LOCATION:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.LOCATION,moduleData:o().get(e,"moduleData"),assets:o().get(e,"assets"),remaining:e.remaining}}),oa(S.Tx.LOCATION,a,n);break;case S.Tx.VERIFICATION_DEFERRED:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.VERIFICATION_DEFERRED,moduleData:o().get(e,"moduleData"),assets:o().get(e,"assets"),remaining:e.remaining}}),oa(S.Tx.VERIFICATION_DEFERRED,a,n);break;case S.Tx.LOAN_AUTH:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.LOAN_AUTH,moduleData:o().get(e,"moduleData"),assets:o().get(e,"assets"),remaining:e.remaining}}),oa(S.Tx.LOAN_AUTH,a,n);break;case S.Tx.LOAN_INFO:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.LOAN_INFO,moduleData:o().get(e,"moduleData"),assets:o().get(e,"assets"),remaining:e.remaining}}),oa(S.Tx.LOAN_INFO,a,n);break;case S.Tx.LOAN_DETAILS:a({type:S.JF.INIT_MODULE,payload:{moduleType:S.Tx.LOAN_DETAILS,moduleData:o().get(e,"moduleData"),assets:o().get(e,"assets"),remaining:e.remaining}}),oa(S.Tx.LOAN_DETAILS,a,n)}la(r,t,a,{offset:1,remainingModules:e.remaining})},onError:()=>{a({type:S.JF.SHOW_ERROR})}})},ga=e=>{let{bootstrap:t,state:a,dispatch:r,categorySelection:i,onTradeInEligible:l=(e=>e),onTradeUpComplete:d=(e=>e),onTradeInNoClick:m=(e=>e),handleClose:p=(e=>e),onClose:g=(e=>e),isMounted:h,view:f,introMessage:E}=e;const v=function(e,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e===S.Tx.SAVE||e===S.Tx.CONFIRMATION||e===S.Tx.FORKCONFIRMATION)n&&d(n,e),ia(t,0,r,i),e!==S.Tx.SAVE&&fe(a,!0),g();else if(e===S.Tx.LOAN_DETAILS){const o=n.shouldSave??!1,l=n?.tradeInTypeData;if(o)d(n,e),ia(t,0,r,i),Ee(l,n?.externalParams?.category),g();else{r({type:S.JF.COMPLETE_MODULE,payload:{moduleType:e,selection:n,unCachedSelection:s}});const t={...I(a,!0),...n};pa(e,a,r,h,t)}}else{r({type:S.JF.COMPLETE_MODULE,payload:{moduleType:e,selection:n,unCachedSelection:s}});const t={...I(a,!0),...n};pa(e,a,r,h,t)}e===S.Tx.LOCATION&&r({type:S.JF.MEMORIZE_EXPENSIVE_CALCULATION,payload:{moduleType:e,savedCalculations:o}})},y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{prevSelection:n=null,skipBackButton:s=!1,progress:o=null,newSelection:l=null}=t;r({type:S.JF.SET_SELECTION_EVENTS,payload:{selection:{type:e,prevSelection:n,skipBackButton:s,progress:o}}}),la(e,a,r,{innerModProgress:o});const c=ma(a,E,i);!a.wasIntroShown&&c||ye(a,e,n,l)},b=()=>{ve(a),ia(t,0,r,i),window.setTimeout((()=>{oa(S.Tx.CATEGORY,r)}),300)},A=()=>{ca(a,r,h)},w=e=>{r({type:S.JF.TOGGLE_ALERT,payload:e})};return a.modules?s().createElement("div",{className:c()(a.isMovingBack?"rf-tradeupoverlay-movingback":"")},a.modules.map((e=>{const t=o().get(a,e.type),r={key:`tradeupoverlay-module-${e.type}`,in:e.shown,appear:!0,className:"rf-tradeupoverlay-modulemat"};let i=null;e.type!==S.Tx.VERIFY&&e.type!==S.Tx.SAVE&&e.type!==S.Tx.VERIFICATION_DEFERRED&&e.type!==S.Tx.SHIPPING&&e.type!==S.Tx.LOAN_INFO&&e.type!==S.Tx.LOAN_DETAILS&&e.type!==S.Tx.LOAN_AUTH||(i=I(a));const c={bootstrap:t,assets:{...a.staticAssets,...t.assets},defaultSelection:a[e.type].selection,onSelectionComplete:v,onSelectionChange:y,onOverlayClose:g,a11yProgressText:a.progress.a11yProgressText,onStartOver:b,onMoveBack:A,onToggleAlert:w,externalCatSelection:a.externalCatSelection||"",overallSelection:i,savedCalculations:a.savedCalculations,unCachedSelection:{...a.unCachedSelection},hideBackButton:a.hideBackButton,view:f,moduleShown:e.shown};switch(e.type){case S.Tx.CATEGORY:return a.category&&a.category.initialize&&s().createElement(u.A,r,s().createElement(P,c));case S.Tx.BRAND:return a.brand&&a.brand.initialize&&s().createElement(u.A,r,s().createElement(L,c));case S.Tx.PRODUCT:return a.product&&a.product.initialize&&s().createElement(u.A,r,s().createElement(le,c));case S.Tx.QUESTIONS:return a.questions&&a.questions.initialize&&s().createElement(u.A,r,s().createElement(xe,c));case S.Tx.SHIPPING:return a.shipping&&a.shipping.initialize&&s().createElement(u.A,r,s().createElement(St,c));case S.Tx.VERIFY:return a.verify&&a.verify.initialize&&s().createElement(u.A,r,s().createElement(Ct,c));case S.Tx.DEVICE_CHECK:return a.deviceCheck&&a.deviceCheck.initialize&&s().createElement(u.A,r,s().createElement(M,c));case S.Tx.SAVE:return a.save&&a.save.initialize&&s().createElement(u.A,r,s().createElement($e,c));case S.Tx.RECYCLE:return a.recycle&&a.recycle.initialize&&s().createElement(u.A,r,s().createElement(He,c));case S.Tx.CONFIRMATION:return a.confirm&&a.confirm.initialize&&s().createElement(u.A,r,s().createElement(R,c));case S.Tx.FORKCONFIRMATION:return a.forkConfirm&&a.forkConfirm.initialize&&s().createElement(u.A,r,s().createElement(V,c));case S.Tx.QUOTE:return a.quote&&a.quote.initialize&&s().createElement(u.A,r,s().createElement(Pe,c));case S.Tx.RECOMMENDATIONS:return a.recommendations&&a.recommendations.initialize&&s().createElement(u.A,r,s().createElement(Fe,c));case S.Tx.DEVICE_TYPE:return a.deviceType&&a.deviceType.initialize&&s().createElement(u.A,r,s().createElement($,c));case S.Tx.PINCODE:return a.pincode&&a.pincode.initialize&&s().createElement(u.A,r,s().createElement(Z,(0,n.A)({},c,{onTradeInEligible:l})));case S.Tx.LOCATION:return a.location&&a.location.initialize&&s().createElement(u.A,r,s().createElement(Ie,(0,n.A)({},c,{onTradeInEligible:l})));case S.Tx.VERIFICATION_DEFERRED:return a.verificationDeferred&&a.verificationDeferred.initialize&&s().createElement(u.A,r,s().createElement(Lt,(0,n.A)({},c,{onTradeInNoClick:m,handleClose:p})));case S.Tx.LOAN_AUTH:return a.loanAuth&&a.loanAuth.initialize&&s().createElement(u.A,r,s().createElement(ta,c));case S.Tx.LOAN_INFO:return a.loanInfo&&a.loanInfo.initialize&&s().createElement(u.A,r,s().createElement(sa,c));case S.Tx.LOAN_DETAILS:return a.loanDetails&&a.loanDetails.initialize&&s().createElement(u.A,r,s().createElement(na,c));default:return null}}))):null},ha=(e,t,a)=>{const{name:n=null,value:r=null}=t||{};e({type:S.JF.SET_MODULE_INIT,payload:{moduleType:S.Tx.CATEGORY}}),t&&(n||r)||oa(S.Tx.CATEGORY,e,a)},fa=e=>{let{bootstrap:t,visible:a,categorySelection:i=null,introMessage:o=null,onClose:l=(e=>e),onTradeUpComplete:d=(e=>e),onTradeInEligible:u=(e=>e),onTradeInNoClick:m=(e=>e),view:g,...h}=e;const[f,E]=(0,r.useReducer)(Dt,{}),v=(()=>{const e=(0,r.useRef)(!0);return(0,r.useEffect)((()=>()=>{e.current=!1}),[]),()=>e.current})();(0,r.useEffect)((()=>{ia(t,0,E,i)}),[]),(0,r.useEffect)((()=>{f.intro&&a&&function(e,t,a){const n=ma(e,a,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{});n&&!e.wasIntroShown&&(t({type:S.JF.SHOW_INTRO,payload:{content:n}}),setTimeout((()=>{t({type:S.JF.HIDE_INTRO})}),e.introScreenDuration))}(f,E,o,i)}),[f.intro,a]),(0,r.useEffect)((()=>{if(a){const e=ma(f,o,i);!f.wasIntroShown&&e?setTimeout((()=>{ha(E,i,v)}),f.introScreenDuration):ha(E,i,v)}}),[a]),(0,r.useEffect)((()=>{se(),ne()}),[f.alert]);const b=function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&fe(f),ia(t,0,E,i),l()},w=f.progress&&!f.hideProgress,T={shape:"line",trailWidth:f.isHandheldPhone?6:4,strokeWidth:f.isHandheldPhone?6:4,strokeColor:"#0dbb0d",trailColor:"#ffffff",percent:f&&f.progress?f.progress.percent:0},O={bootstrap:t,state:f,dispatch:E,categorySelection:i,onTradeUpComplete:d,onTradeInNoClick:m,handleClose:b,onClose:l,isMounted:v,view:g,introMessage:o},N=f.intro&&!f.intro.shown;return s().createElement("div",{className:c()("rf-tradeupoverlay-mainwrapper")},s().createElement(p.A,(0,n.A)({visible:a,appear:!0,className:"rf-tradeupoverlay",disableClickAway:!0,noPadding:!0,onClose:b,ariaLabel:"tradeupoverlay-a11yoverlaydesc",contentAttrs:{className:"rf-tradeupoverlay-content","data-autom":"tradeup-overlay"}},h),s().createElement("div",{className:"rf-tradeupoverlay-wrapper"},s().createElement(da,{state:f,dispatch:E,isMounted:v}),N&&f.fetch&&s().createElement(B,{state:f.fetch,assets:f.staticAssets}),s().createElement(ua,{intro:f.intro}),s().createElement("div",{className:"rf-tradeupoverlay-scrollcontent"},N&&(w||f.alert)&&s().createElement("div",{className:"rf-tradeupoverlay-headercontainer"},w&&s().createElement(y,T),s().createElement("div",{id:"rf-tradeupoverlay-alert-wrapper","aria-live":"assertive"},f.alert&&s().createElement(A.A,{className:"rf-tradeupoverlay-alert",error:!0},f.alert))),N&&s().createElement(ga,(0,n.A)({},O,{onTradeInEligible:u}))))))}},6300:(e,t,a)=>{"use strict";a.d(t,{L9:()=>i,Rt:()=>f,o4:()=>E.A});var n=a(1594),r=a.n(n);const s=r().lazy((()=>a.e(553).then(a.bind(a,1562)))),i=e=>{const{src:t,data:a}=e;return t||a?r().createElement(n.Suspense,{fallback:null},r().createElement(s,e)):null};var o=a(8168),l=a(2224),c=a.n(l),d=a(6942),u=a.n(d),m=a(5911),p=a(7213),g=a(6637),h=a(1265);const f=e=>{let{id:t,className:a,classes:s={button:"as-buttonlink",content:""},onClick:i=(()=>{}),assets:l,children:d,showDownloadLink:f=!1}=e;const[E,v]=(0,n.useState)(!1),y=(0,n.useId)(),b=`${t||y}-transcript`,A=c().get(l,"showTranscriptText","View transcript"),S=c().get(l,"hideTranscriptText","Hide transcript"),{assets:w}=(0,g.useGlobalContext)(),T=c().get(l,"downloadText")||c().get(w,"downloadText","Download"),O=c().get(l,"transcriptContent");return r().createElement("div",{className:u()("rf-videoplayer-transcript",{"rf-videoplayer-transcript-shown":E})},r().createElement("button",(0,o.A)({className:u()("rf-videoplayer-transcript-btn","icon icon-after icon-chevrondown",h.A.BODY_REDUCED,s.button,a),"aria-controls":b,"aria-expanded":E,"data-autom":E?"hideTranscript":"viewTranscript",onClick:e=>{v(!E),i(e,E)},type:"button"},(0,m.OH)(E?S:A))),r().createElement(p.x,{in:E,mountOnEnter:!0,id:b,className:u()("rf-videoplayer-transcript-content",s.content)},f&&r().createElement("button",(0,o.A)({className:u()("rf-videoplayer-download-transcript","icon icon-before icon-arrowdowncircle","as-buttonlink",h.A.BODY_REDUCED,a),onClick:()=>{const e=(e=>{const t=document.createElement("div");return t.innerHTML=e,(t.textContent||t.innerText||"").replace(/(\r\n|\n|\r)/gm,"").replace(/  +/g,"\n")})(O);((e,t)=>{const a=document.createElement("a");a.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(t)}`),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)})(`${t||b}.txt`,e)}},(0,m.OH)(T),{type:"button"})),d))};a(6884);var E=a(8693)},8693:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});var n=a(2224),r=a.n(n);const s=e=>{let{videoId:t,posterImage:a,videoImage:n,posterFrameUrl:s,isStageRevision:i,files:o,captionLanguage:l,captionLanguageCode:c}=e;const d=r().get(a,"srcSet.src"),u=r().get(n,"srcSet.src"),m=r().get(o,"mp4.src"),p=r().get(o,"m4v.src"),g=r().get(o,"hls.src"),h=r().get(o,"webm.src"),f=r().get(o,"quicktime.src"),E=r().get(o,"vtt.src"),v=[];return E&&v.push({src:E,label:l,srclang:c,mode:"hidden"}),{id:t,crossOrigin:i?"use-credentials":"anonymous",src:g||m||p||h||f,tracks:v,poster:u||d||s}}},5127:()=>{!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){for(var t=window.document,a=r(t);a;)a=r(t=a.ownerDocument);return t}(),t=[],a=null,n=null;i.prototype.THROTTLE_TIMEOUT=100,i.prototype.POLL_INTERVAL=null,i.prototype.USE_MUTATION_OBSERVER=!0,i._setupCrossOriginUpdater=function(){return a||(a=function(e,a){n=e&&a?u(e,a):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),a},i._resetCrossOriginUpdater=function(){a=null,n=null},i.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},i.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},i.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},i.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},i.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,a){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==a[t-1]}))},i.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},i.prototype._monitorIntersections=function(t){var a=t.defaultView;if(a&&-1==this._monitoringDocuments.indexOf(t)){var n=this._checkForIntersections,s=null,i=null;this.POLL_INTERVAL?s=a.setInterval(n,this.POLL_INTERVAL):(o(a,"resize",n,!0),o(t,"scroll",n,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in a&&(i=new a.MutationObserver(n)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(s&&e.clearInterval(s),l(e,"resize",n,!0)),l(t,"scroll",n,!0),i&&i.disconnect()}));var c=this.root&&(this.root.ownerDocument||this.root)||e;if(t!=c){var d=r(t);d&&this._monitorIntersections(d.ownerDocument)}}},i.prototype._unmonitorIntersections=function(t){var a=this._monitoringDocuments.indexOf(t);if(-1!=a){var n=this.root&&(this.root.ownerDocument||this.root)||e,s=this._observationTargets.some((function(e){var a=e.element.ownerDocument;if(a==t)return!0;for(;a&&a!=n;){var s=r(a);if((a=s&&s.ownerDocument)==t)return!0}return!1}));if(!s){var i=this._monitoringUnsubscribes[a];if(this._monitoringDocuments.splice(a,1),this._monitoringUnsubscribes.splice(a,1),i(),t!=n){var o=r(t);o&&this._unmonitorIntersections(o.ownerDocument)}}}},i.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},i.prototype._checkForIntersections=function(){if(this.root||!a||n){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(n){var r=n.element,i=c(r),o=this._rootContainsTarget(r),l=n.entry,d=e&&o&&this._computeTargetAndRootIntersection(r,i,t),u=null;this._rootContainsTarget(r)?a&&!this.root||(u=t):u={top:0,bottom:0,left:0,right:0,width:0,height:0};var m=n.entry=new s({time:window.performance&&performance.now&&performance.now(),target:r,boundingClientRect:i,rootBounds:u,intersectionRect:d});l?e&&o?this._hasCrossedThreshold(l,m)&&this._queuedEntries.push(m):l&&l.isIntersecting&&this._queuedEntries.push(m):this._queuedEntries.push(m)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},i.prototype._computeTargetAndRootIntersection=function(t,r,s){if("none"!=window.getComputedStyle(t).display){for(var i,o,l,d,m,g,h,f,E=r,v=p(t),y=!1;!y&&v;){var b=null,A=1==v.nodeType?window.getComputedStyle(v):{};if("none"==A.display)return null;if(v==this.root||9==v.nodeType)if(y=!0,v==this.root||v==e)a&&!this.root?!n||0==n.width&&0==n.height?(v=null,b=null,E=null):b=n:b=s;else{var S=p(v),w=S&&c(S),T=S&&this._computeTargetAndRootIntersection(S,w,s);w&&T?(v=S,b=u(w,T)):(v=null,E=null)}else{var O=v.ownerDocument;v!=O.body&&v!=O.documentElement&&"visible"!=A.overflow&&(b=c(v))}if(b&&(i=b,o=E,l=void 0,d=void 0,m=void 0,g=void 0,h=void 0,f=void 0,l=Math.max(i.top,o.top),d=Math.min(i.bottom,o.bottom),m=Math.max(i.left,o.left),g=Math.min(i.right,o.right),f=d-l,E=(h=g-m)>=0&&f>=0&&{top:l,bottom:d,left:m,right:g,width:h,height:f}||null),!E)break;v=v&&p(v)}return E}},i.prototype._getRootRect=function(){var t;if(this.root&&!g(this.root))t=c(this.root);else{var a=g(this.root)?this.root:e,n=a.documentElement,r=a.body;t={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(t)},i.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,a){return"px"==t.unit?t.value:t.value*(a%2?e.width:e.height)/100})),a={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return a.width=a.right-a.left,a.height=a.bottom-a.top,a},i.prototype._hasCrossedThreshold=function(e,t){var a=e&&e.isIntersecting?e.intersectionRatio||0:-1,n=t.isIntersecting?t.intersectionRatio||0:-1;if(a!==n)for(var r=0;r<this.thresholds.length;r++){var s=this.thresholds[r];if(s==a||s==n||s<a!=s<n)return!0}},i.prototype._rootIsInDom=function(){return!this.root||m(e,this.root)},i.prototype._rootContainsTarget=function(t){var a=this.root&&(this.root.ownerDocument||this.root)||e;return m(a,t)&&(!this.root||a==t.ownerDocument)},i.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},i.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=i,window.IntersectionObserverEntry=s}function r(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function s(e){this.time=e.time,this.target=e.target,this.rootBounds=d(e.rootBounds),this.boundingClientRect=d(e.boundingClientRect),this.intersectionRect=d(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,a=t.width*t.height,n=this.intersectionRect,r=n.width*n.height;this.intersectionRatio=a?Number((r/a).toFixed(4)):this.isIntersecting?1:0}function i(e,t){var a,n,r,s=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(s.root&&1!=s.root.nodeType&&9!=s.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(a=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,r=null,function(){r||(r=setTimeout((function(){a(),r=null}),n))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(s.rootMargin),this.thresholds=this._initThresholds(s.threshold),this.root=s.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function o(e,t,a,n){"function"==typeof e.addEventListener?e.addEventListener(t,a,n||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,a)}function l(e,t,a,n){"function"==typeof e.removeEventListener?e.removeEventListener(t,a,n||!1):"function"==typeof e.detachEvent&&e.detachEvent("on"+t,a)}function c(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function d(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function u(e,t){var a=t.top-e.top,n=t.left-e.left;return{top:a,left:n,height:t.height,width:t.width,bottom:a+t.height,right:n+t.width}}function m(e,t){for(var a=t;a;){if(a==e)return!0;a=p(a)}return!1}function p(t){var a=t.parentNode;return 9==t.nodeType&&t!=e?r(t):(a&&a.assignedSlot&&(a=a.assignedSlot.parentNode),a&&11==a.nodeType&&a.host?a.host:a)}function g(e){return e&&9===e.nodeType}}()},1549:(e,t,a)=>{var n=a(2032),r=a(3862),s=a(6721),i=a(2749),o=a(5749);function l(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},79:(e,t,a)=>{var n=a(3702),r=a(80),s=a(7120),i=a(8655),o=a(1175);function l(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},8223:(e,t,a)=>{var n=a(6110)(a(9325),"Map");e.exports=n},3661:(e,t,a)=>{var n=a(3040),r=a(7670),s=a(289),i=a(4509),o=a(2949);function l(e){var t=-1,a=null==e?0:e.length;for(this.clear();++t<a;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=r,l.prototype.get=s,l.prototype.has=i,l.prototype.set=o,e.exports=l},1873:(e,t,a)=>{var n=a(9325).Symbol;e.exports=n},4932:e=>{e.exports=function(e,t){for(var a=-1,n=null==e?0:e.length,r=Array(n);++a<n;)r[a]=t(e[a],a,e);return r}},6025:(e,t,a)=>{var n=a(5288);e.exports=function(e,t){for(var a=e.length;a--;)if(n(e[a][0],t))return a;return-1}},5041:(e,t,a)=>{var n=a(1769),r=a(7797);e.exports=function(e,t){for(var a=0,s=(t=n(t,e)).length;null!=e&&a<s;)e=e[r(t[a++])];return a&&a==s?e:void 0}},2552:(e,t,a)=>{var n=a(1873),r=a(659),s=a(9350),i=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?r(e):s(e)}},5083:(e,t,a)=>{var n=a(1882),r=a(7296),s=a(3805),i=a(7473),o=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,d=l.toString,u=c.hasOwnProperty,m=RegExp("^"+d.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||r(e))&&(n(e)?m:o).test(i(e))}},7556:(e,t,a)=>{var n=a(1873),r=a(4932),s=a(6449),i=a(4394),o=n?n.prototype:void 0,l=o?o.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(s(t))return r(t,e)+"";if(i(t))return l?l.call(t):"";var a=t+"";return"0"==a&&1/t==-1/0?"-0":a}},1769:(e,t,a)=>{var n=a(6449),r=a(8586),s=a(1802),i=a(3222);e.exports=function(e,t){return n(e)?e:r(e,t)?[e]:s(i(e))}},5481:(e,t,a)=>{var n=a(9325)["__core-js_shared__"];e.exports=n},4840:(e,t,a)=>{var n="object"==typeof a.g&&a.g&&a.g.Object===Object&&a.g;e.exports=n},5032:(e,t,a)=>{var n=a(4218);e.exports=function(e,t){var a=e.__data__;return n(t)?a["string"==typeof t?"string":"hash"]:a.map}},6110:(e,t,a)=>{var n=a(5083),r=a(392);e.exports=function(e,t){var a=r(e,t);return n(a)?a:void 0}},659:(e,t,a)=>{var n=a(1873),r=Object.prototype,s=r.hasOwnProperty,i=r.toString,o=n?n.toStringTag:void 0;e.exports=function(e){var t=s.call(e,o),a=e[o];try{e[o]=void 0;var n=!0}catch(e){}var r=i.call(e);return n&&(t?e[o]=a:delete e[o]),r}},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},2032:(e,t,a)=>{var n=a(1042);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6721:(e,t,a)=>{var n=a(1042),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var a=t[e];return"__lodash_hash_undefined__"===a?void 0:a}return r.call(t,e)?t[e]:void 0}},2749:(e,t,a)=>{var n=a(1042),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:r.call(t,e)}},5749:(e,t,a)=>{var n=a(1042);e.exports=function(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},8586:(e,t,a)=>{var n=a(6449),r=a(4394),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var a=typeof e;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=e&&!r(e))||(i.test(e)||!s.test(e)||null!=t&&e in Object(t))}},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},7296:(e,t,a)=>{var n,r=a(5481),s=(n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!s&&s in e}},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},80:(e,t,a)=>{var n=a(6025),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,a=n(t,e);return!(a<0)&&(a==t.length-1?t.pop():r.call(t,a,1),--this.size,!0)}},7120:(e,t,a)=>{var n=a(6025);e.exports=function(e){var t=this.__data__,a=n(t,e);return a<0?void 0:t[a][1]}},8655:(e,t,a)=>{var n=a(6025);e.exports=function(e){return n(this.__data__,e)>-1}},1175:(e,t,a)=>{var n=a(6025);e.exports=function(e,t){var a=this.__data__,r=n(a,e);return r<0?(++this.size,a.push([e,t])):a[r][1]=t,this}},3040:(e,t,a)=>{var n=a(1549),r=a(79),s=a(8223);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(s||r),string:new n}}},7670:(e,t,a)=>{var n=a(5032);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},289:(e,t,a)=>{var n=a(5032);e.exports=function(e){return n(this,e).get(e)}},4509:(e,t,a)=>{var n=a(5032);e.exports=function(e){return n(this,e).has(e)}},2949:(e,t,a)=>{var n=a(5032);e.exports=function(e,t){var a=n(this,e),r=a.size;return a.set(e,t),this.size+=a.size==r?0:1,this}},9843:(e,t,a)=>{var n=a(104);e.exports=function(e){var t=n(e,(function(e){return 500===a.size&&a.clear(),e})),a=t.cache;return t}},1042:(e,t,a)=>{var n=a(6110)(Object,"create");e.exports=n},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9325:(e,t,a)=>{var n=a(4840),r="object"==typeof self&&self&&self.Object===Object&&self,s=n||r||Function("return this")();e.exports=s},1802:(e,t,a)=>{var n=a(9843),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,i=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,a,n,r){t.push(n?r.replace(s,"$1"):a||e)})),t}));e.exports=i},7797:(e,t,a)=>{var n=a(4394);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},8156:(e,t,a)=>{var n=a(5041);e.exports=function(e,t,a){var r=null==e?void 0:n(e,t);return void 0===r?a:r}},6449:e=>{var t=Array.isArray;e.exports=t},1882:(e,t,a)=>{var n=a(2552),r=a(3805);e.exports=function(e){if(!r(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},4394:(e,t,a)=>{var n=a(2552),r=a(346);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==n(e)}},104:(e,t,a)=>{var n=a(3661);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var a=function(){var n=arguments,r=t?t.apply(this,n):n[0],s=a.cache;if(s.has(r))return s.get(r);var i=e.apply(this,n);return a.cache=s.set(r,i)||s,i};return a.cache=new(r.Cache||n),a}r.Cache=n,e.exports=r},3222:(e,t,a)=>{var n=a(7556);e.exports=function(e){return null==e?"":n(e)}},5338:(e,t,a)=>{"use strict";var n=a(5206);t.H=n.createRoot,n.hydrateRoot},6495:(e,t,a)=>{"use strict";a.d(t,{A:()=>O});var n=a(8168);function r(e,t){if(null==e)return{};var a={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;a[n]=e[n]}return a}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,s(e,t)}function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var l=a(1594),c=a.n(l),d=a(5206),u=a.n(d);const m=!1,p=c().createContext(null);var g=function(e){return e.scrollTop},h="unmounted",f="exited",E="entering",v="entered",y="exiting",b=function(e){function t(t,a){var n;n=e.call(this,t,a)||this;var r,s=a&&!a.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?s?(r=f,n.appearStatus=E):r=v:r=t.unmountOnExit||t.mountOnEnter?h:f,n.state={status:r},n.nextCallback=null,n}i(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===h?{status:f}:null};var a=t.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var a=this.state.status;this.props.in?a!==E&&a!==v&&(t=E):a!==E&&a!==v||(t=y)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,a,n=this.props.timeout;return e=t=a=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,a=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:a}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===E){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:u().findDOMNode(this);a&&g(a)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===f&&this.setState({status:h})},a.performEnter=function(e){var t=this,a=this.props.enter,n=this.context?this.context.isMounting:e,r=this.props.nodeRef?[n]:[u().findDOMNode(this),n],s=r[0],i=r[1],o=this.getTimeouts(),l=n?o.appear:o.enter;!e&&!a||m?this.safeSetState({status:v},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,i),this.safeSetState({status:E},(function(){t.props.onEntering(s,i),t.onTransitionEnd(l,(function(){t.safeSetState({status:v},(function(){t.props.onEntered(s,i)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,a=this.getTimeouts(),n=this.props.nodeRef?void 0:u().findDOMNode(this);t&&!m?(this.props.onExit(n),this.safeSetState({status:y},(function(){e.props.onExiting(n),e.onTransitionEnd(a.exit,(function(){e.safeSetState({status:f},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:f},(function(){e.props.onExited(n)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,a=!0;return this.nextCallback=function(n){a&&(a=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var a=this.props.nodeRef?this.props.nodeRef.current:u().findDOMNode(this),n=null==e&&!this.props.addEndListener;if(a&&!n){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],s=r[0],i=r[1];this.props.addEndListener(s,i)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===h)return null;var t=this.props,a=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,r(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return c().createElement(p.Provider,{value:null},"function"==typeof a?a(e,n):c().cloneElement(c().Children.only(a),n))},t}(c().Component);function A(){}b.contextType=p,b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:A,onEntering:A,onEntered:A,onExit:A,onExiting:A,onExited:A},b.UNMOUNTED=h,b.EXITED=f,b.ENTERING=E,b.ENTERED=v,b.EXITING=y;const S=b;var w=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return n=t,void((a=e).classList?a.classList.remove(n):"string"==typeof a.className?a.className=o(a.className,n):a.setAttribute("class",o(a.className&&a.className.baseVal||"",n)));var a,n}))},T=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,a){var n=t.resolveArguments(e,a),r=n[0],s=n[1];t.removeClasses(r,"exit"),t.addClass(r,s?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,a)},t.onEntering=function(e,a){var n=t.resolveArguments(e,a),r=n[0],s=n[1]?"appear":"enter";t.addClass(r,s,"active"),t.props.onEntering&&t.props.onEntering(e,a)},t.onEntered=function(e,a){var n=t.resolveArguments(e,a),r=n[0],s=n[1]?"appear":"enter";t.removeClasses(r,s),t.addClass(r,s,"done"),t.props.onEntered&&t.props.onEntered(e,a)},t.onExit=function(e){var a=t.resolveArguments(e)[0];t.removeClasses(a,"appear"),t.removeClasses(a,"enter"),t.addClass(a,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var a=t.resolveArguments(e)[0];t.addClass(a,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var a=t.resolveArguments(e)[0];t.removeClasses(a,"exit"),t.addClass(a,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,a){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,a]},t.getClassNames=function(e){var a=t.props.classNames,n="string"==typeof a,r=n?""+(n&&a?a+"-":"")+e:a[e];return{baseClassName:r,activeClassName:n?r+"-active":a[e+"Active"],doneClassName:n?r+"-done":a[e+"Done"]}},t}i(t,e);var a=t.prototype;return a.addClass=function(e,t,a){var n=this.getClassNames(t)[a+"ClassName"],r=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===a&&r&&(n+=" "+r),"active"===a&&e&&g(e),n&&(this.appliedClasses[t][a]=n,function(e,t){e&&t&&t.split(" ").forEach((function(t){return n=t,void((a=e).classList?a.classList.add(n):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(a,n)||("string"==typeof a.className?a.className=a.className+" "+n:a.setAttribute("class",(a.className&&a.className.baseVal||"")+" "+n)));var a,n}))}(e,n))},a.removeClasses=function(e,t){var a=this.appliedClasses[t],n=a.base,r=a.active,s=a.done;this.appliedClasses[t]={},n&&w(e,n),r&&w(e,r),s&&w(e,s)},a.render=function(){var e=this.props,t=(e.classNames,r(e,["classNames"]));return c().createElement(S,(0,n.A)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(c().Component);T.defaultProps={classNames:""},T.propTypes={};const O=T},3043:e=>{"use strict";e.exports='<svg viewBox="0 0 25 25" class="as-svgicon as-svgicon-applelogo as-svgicon-reduced as-svgicon-applelogoreduced" role="img" aria-hidden="true" width="25px" height="25px"><path fill="none" d="M0 0h25v25H0z"/><path d="M18.4 8.146a3.5 3.5 0 0 0-1.675 2.948 3.411 3.411 0 0 0 2.075 3.129 8.151 8.151 0 0 1-1.063 2.2c-.662.953-1.354 1.905-2.407 1.905s-1.324-.612-2.537-.612c-1.183 0-1.6.632-2.567.632s-1.634-.882-2.407-1.965A9.5 9.5 0 0 1 6.2 11.255c0-3.008 1.955-4.6 3.881-4.6 1.023 0 1.875.672 2.517.672.612 0 1.564-.712 2.727-.712A3.648 3.648 0 0 1 18.4 8.146ZM12.68 6.442a1.152 1.152 0 0 1-.211-.02 1.376 1.376 0 0 1-.03-.281 3.362 3.362 0 0 1 .852-2.1 3.464 3.464 0 0 1 2.276-1.173 1.486 1.486 0 0 1 .03.311 3.458 3.458 0 0 1-.822 2.156 3 3 0 0 1-2.095 1.107Z"/></svg>'},6019:e=>{"use strict";e.exports='<svg viewBox="0 0 25 25" class="as-svgicon as-svgicon-applestorepickup as-svgicon-reduced as-svgicon-applestorepickupreduced" role="img" aria-hidden="true" width="25px" height="25px"><path fill="none" d="M0 0h25v25H0z"/><path d="M18.5 5h-1.775a4.231 4.231 0 0 0-8.45 0H6.5A2.5 2.5 0 0 0 4 7.5v11A2.5 2.5 0 0 0 6.5 21h12a2.5 2.5 0 0 0 2.5-2.5v-11A2.5 2.5 0 0 0 18.5 5Zm-6-3a3.245 3.245 0 0 1 3.225 3h-6.45A3.245 3.245 0 0 1 12.5 2ZM20 18.5a1.5 1.5 0 0 1-1.5 1.5h-12A1.5 1.5 0 0 1 5 18.5v-11A1.5 1.5 0 0 1 6.5 6h12A1.5 1.5 0 0 1 20 7.5Z"/><path d="M14.4 12.448a1.592 1.592 0 0 1 .738-1.328 1.607 1.607 0 0 0-1.37-.687c-.52 0-.941.317-1.22.317s-.663-.3-1.129-.3a1.861 1.861 0 0 0-1.739 2.068 4.32 4.32 0 0 0 .723 2.3c.346.491.648.883 1.084.883s.617-.287 1.144-.287c.55 0 .663.279 1.137.279s.791-.43 1.084-.853a3.24 3.24 0 0 0 .474-.989 1.516 1.516 0 0 1-.926-1.403ZM12.583 10.357a1.346 1.346 0 0 0 .941-.5 1.594 1.594 0 0 0 .361-.974.731.731 0 0 0-.008-.136 1.5 1.5 0 0 0-1.016.528 1.547 1.547 0 0 0-.384.943c0 .053.008.106.008.128.03.004.06.011.098.011Z"/></svg>'},1337:e=>{"use strict";e.exports='<svg class="as-svgicon as-svgicon-applestorepickup as-svgicon-tiny as-svgicon-applestorepickuptiny" viewBox="0 0 21 21" role="img" aria-hidden="true" width="21px" height="21px"><path fill="none" d="M0 0h21v21H0z"/><path fill="#1d1d1f" d="M14.934 5.017h-1.106C13.598 3.317 12.2 2 10.5 2S7.402 3.317 7.172 5.017H6.066a2.058 2.058 0 0 0-2.055 2.055v7.865c0 1.134.923 2.056 2.055 2.056h8.868a2.058 2.058 0 0 0 2.055-2.055V7.072a2.058 2.058 0 0 0-2.055-2.055zM10.5 3c1.152 0 2.114.869 2.329 2.017H8.17C8.387 3.87 9.348 3 10.5 3zm5.51 11.938c0 .594-.483 1.077-1.076 1.077H6.066a1.079 1.079 0 0 1-1.077-1.078V7.072c0-.594.484-1.077 1.077-1.077h8.868c.593 0 1.077.483 1.077 1.077zm-3.392-3.363c0 .017-.102.38-.356.742-.22.317-.463.64-.813.64-.356 0-.44-.21-.853-.21-.395 0-.537.215-.858.215-.328 0-.554-.294-.814-.662a3.239 3.239 0 0 1-.542-1.726c0-1.013.661-1.55 1.305-1.55.35 0 .632.226.847.226.209 0 .525-.238.915-.238.152 0 .683.011 1.027.515-.028.028-.553.323-.553.996 0 .775.672 1.047.695 1.052zm-2.13-2.625c0-.017-.005-.057-.005-.097 0-.271.141-.531.288-.707.186-.22.497-.39.762-.396.006.028.006.062.006.102 0 .272-.113.532-.271.73-.175.215-.469.373-.706.373-.028 0-.05-.005-.073-.005z"/></svg>'},4828:e=>{"use strict";e.exports='<svg class="as-svgicon-rtl-mirrored as-svgicon as-svgicon-boxtruck as-svgicon-reduced as-svgicon-boxtruckreduced" viewBox="0 0 25 25" role="img" aria-hidden="true" width="25px" height="25px"><path fill="none" d="M0 0h25v25H0z"/><path fill="#1d1d1f" d="m23.482 12.847-2.92-3.209A1.947 1.947 0 0 0 18.985 9H17V6.495a2.5 2.5 0 0 0-2.5-2.5h-11a2.5 2.5 0 0 0-2.5 2.5v9.75a2.5 2.5 0 0 0 2.5 2.5h.548A2.746 2.746 0 0 0 6.75 21.02 2.618 2.618 0 0 0 9.422 19h6.681a2.744 2.744 0 0 0 5.347-.23h.735A1.656 1.656 0 0 0 24 16.98v-2.808a1.937 1.937 0 0 0-.518-1.325ZM8.426 18.745a1.74 1.74 0 0 1-3.352 0 1.577 1.577 0 0 1 .015-1 1.738 1.738 0 0 1 3.322 0 1.578 1.578 0 0 1 .015 1ZM9.447 18a2.726 2.726 0 0 0-5.394-.255H3.5a1.502 1.502 0 0 1-1.5-1.5v-9.75a1.502 1.502 0 0 1 1.5-1.5h11a1.502 1.502 0 0 1 1.5 1.5V18Zm10.972.77a1.738 1.738 0 0 1-3.337 0 1.573 1.573 0 0 1 0-1 1.742 1.742 0 1 1 3.337 1ZM23 16.98c0 .569-.229.79-.815.79h-.735A2.73 2.73 0 0 0 17 16.165V10h1.986a.976.976 0 0 1 .838.314l2.927 3.214a.95.95 0 0 1 .249.644Zm-1.324-3.36a.512.512 0 0 1 .174.38h-3.306a.499.499 0 0 1-.544-.528V11h1.073a.76.76 0 0 1 .594.268Z"/></svg>'},3908:e=>{"use strict";e.exports='<svg class="as-svgicon-rtl-mirrored as-svgicon as-svgicon-boxtruck as-svgicon-tiny as-svgicon-boxtrucktiny" viewBox="0 0 21 21" role="img" aria-hidden="true" width="21px" height="21px"><path fill="none" d="M0 0h21v21H0z"/><path fill="#1d1d1f" d="M19.559 10.274 17.24 7.53A1.688 1.688 0 0 0 15.918 7H15v-.75A2.25 2.25 0 0 0 12.75 4h-8.5A2.25 2.25 0 0 0 2 6.25V13a2.25 2.25 0 0 0 2.25 2.25h.56A2.248 2.248 0 0 0 7 17a2.202 2.202 0 0 0 2.19-2H14a2.214 2.214 0 0 0 2.25 2 2.248 2.248 0 0 0 2.19-1.75h.016A1.4 1.4 0 0 0 20 13.747v-2.363a1.61 1.61 0 0 0-.441-1.11ZM8.142 15.25a1.245 1.245 0 0 1-2.284 0 1.212 1.212 0 0 1 0-1 1.245 1.245 0 0 1 2.284 0 1.212 1.212 0 0 1 0 1ZM9.15 14a2.267 2.267 0 0 0-4.34.25h-.56A1.252 1.252 0 0 1 3 13V6.25A1.251 1.251 0 0 1 4.25 5h8.5A1.251 1.251 0 0 1 14 6.25V14Zm8.242 1.25a1.245 1.245 0 0 1-2.284 0 1.212 1.212 0 0 1 0-1 1.245 1.245 0 0 1 2.284 0 1.212 1.212 0 0 1 0 1ZM19 13.747c0 .334-.084.503-.544.503h-.016A2.245 2.245 0 0 0 15 12.88V8h.918a.681.681 0 0 1 .592.211l2.324 2.752a.617.617 0 0 1 .166.42Z"/></svg>'},6770:e=>{"use strict";e.exports='<svg viewBox="0 0 25 25" class="as-svgicon as-svgicon-calendarclock as-svgicon-reduced as-svgicon-calendarclockreduced" role="img" aria-hidden="true" width="25px" height="25px"><path fill="none" d="M0 0h25v25H0z"/><path fill="#1d1d1f" d="M18.264 12.5a3.756 3.756 0 1 1-3.756 3.756 3.76 3.76 0 0 1 3.756-3.756m0-1a4.756 4.756 0 1 0 4.757 4.756 4.756 4.756 0 0 0-4.757-4.756zM15 8H6a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1zm-6 2.5a.5.5 0 1 0 .5.5.5.5 0 0 0-.5-.5zm-3 0a.5.5 0 1 0 .5.5.5.5 0 0 0-.5-.5zm9 0a.5.5 0 1 0 .5.5.5.5 0 0 0-.5-.5zm-3 0a.5.5 0 1 0 .5.5.5.5 0 0 0-.5-.5zm-3 3a.5.5 0 1 0 .5.5.5.5 0 0 0-.5-.5zm-3 0a.5.5 0 1 0 .5.5.5.5 0 0 0-.5-.5zm3 3a.5.5 0 1 0 .5.5.5.5 0 0 0-.5-.5zm-3 0a.5.5 0 1 0 .5.5.5.5 0 0 0-.5-.5zm6 0a.5.5 0 1 0 .5.5.5.5 0 0 0-.5-.5zm0-3a.5.5 0 1 0 .5.5.5.5 0 0 0-.5-.5zm5.759.11v2.15l-1.624-.01h-.003a.5.5 0 0 0-.003 1l2.127.013h.003a.5.5 0 0 0 .5-.5V13.61a.5.5 0 1 0-1 0zM13.923 20H5.5A2.503 2.503 0 0 1 3 17.5v-10A2.503 2.503 0 0 1 5.5 5v.5a.5.5 0 0 0 1 0V5h8v.5a.5.5 0 0 0 1 0V5A2.503 2.503 0 0 1 18 7.5v3.014c.085-.004.169-.014.255-.014h.023a5.712 5.712 0 0 1 .722.05V7.5A3.5 3.5 0 0 0 15.5 4v-.5a.5.5 0 0 0-1 0V4h-8v-.5a.5.5 0 0 0-1 0V4A3.5 3.5 0 0 0 2 7.5v10A3.5 3.5 0 0 0 5.5 21h9.536a5.804 5.804 0 0 1-1.113-1z"/></svg>'},554:e=>{"use strict";e.exports='<svg viewBox="0 0 25 25" class="as-svgicon as-svgicon-email as-svgicon-reduced as-svgicon-emailreduced" role="img" aria-hidden="true" width="25px" height="25px"><path fill="none" d="M0 0h25v25H0z"/><path d="M19.5 5h-14A2.5 2.5 0 0 0 3 7.5v10A2.5 2.5 0 0 0 5.5 20h14a2.5 2.5 0 0 0 2.5-2.5v-10A2.5 2.5 0 0 0 19.5 5Zm-3.865 7.44 5.316-5.3A1.485 1.485 0 0 1 21 7.5v10a1.492 1.492 0 0 1-.027.27ZM19.5 6a1.487 1.487 0 0 1 .884.295l-6.822 6.8a1.535 1.535 0 0 1-2.122 0l-6.822-6.8A1.487 1.487 0 0 1 5.5 6ZM4.027 17.771A1.492 1.492 0 0 1 4 17.5v-10a1.484 1.484 0 0 1 .049-.361l5.316 5.3ZM5.5 19a1.485 1.485 0 0 1-.944-.344l5.518-5.51.659.657a2.5 2.5 0 0 0 3.535 0l.659-.657 5.517 5.51A1.485 1.485 0 0 1 19.5 19Z"/></svg>'},3785:e=>{"use strict";e.exports='<svg viewBox="0 0 25 25" class="as-svgicon as-svgicon-timer as-svgicon-reduced as-svgicon-timerreduced" role="img" aria-hidden="true" width="25px" height="25px"><path fill="none" d="M0 0h25v25H0z"/><path fill="#1d1d1f" d="M12.5 22A9.5 9.5 0 0 1 5.398 6.19a.55.55 0 0 1 .823.731 8.4 8.4 0 1 0 6.829-2.803V7.35a.55.55 0 0 1-1.1 0V3h.55a9.5 9.5 0 0 1 0 19Z"/><path fill="#1d1d1f" d="m11.245 13.392-3.271-4.84c-.25-.38.08-.76.48-.48l4.831 3.27a1.534 1.534 0 0 1 .77 1.3 1.492 1.492 0 0 1-1.5 1.5 1.576 1.576 0 0 1-1.31-.75Z"/></svg>'},1191:e=>{"use strict";e.exports='<svg viewBox="0 0 21 21" class="as-svgicon as-svgicon-timer as-svgicon-tiny as-svgicon-timertiny" role="img" aria-hidden="true" width="21px" height="21px"><path fill="none" d="M0 0h21v21H0z"/><path fill="#1d1d1f" d="M10.5 17.5A7 7 0 0 1 5.267 5.85a.55.55 0 0 1 .822.731 5.9 5.9 0 1 0 4.96-1.956v2.164a.55.55 0 1 1-1.099 0V3.5h.55a7 7 0 0 1 0 14Z"/><path fill="#1d1d1f" d="M9.595 11.143 7.238 7.654c-.18-.274.058-.547.346-.346l3.482 2.357a1.106 1.106 0 0 1 .555.937 1.075 1.075 0 0 1-1.081 1.082 1.135 1.135 0 0 1-.945-.54Z"/></svg>'},1594:e=>{"use strict";e.exports=React},5206:e=>{"use strict";e.exports=ReactDOM},2224:e=>{"use strict";e.exports=_},6942:(e,t)=>{var a;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=i(e,s(a)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)n.call(e,a)&&e[a]&&(t=i(t,a));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},8168:(e,t,a)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},n.apply(this,arguments)}a.d(t,{A:()=>n})},4440:(e,t,a)=>{"use strict";a.d(t,{RP:()=>p,Wz:()=>u,f3:()=>m});const n="data-ariafocusable",r="data-ariasaved-tabindex",s="data-ariasaved-disabled",i="data-ariasaved-ariadisabled",o="data-ariasaved-href";const l=e=>"BUTTON"===e.tagName||"INPUT"===e.tagName,c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return Array.from(t.querySelectorAll(e))},d=e=>{const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)||t>=0},u=function(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n=c("a,input,select,button,textarea,iframe,*[tabindex]",e).filter(d),r=a?n.filter((e=>"none"!==e.style.display)):n;return t?r.slice(0,t):r},m=e=>{e.forEach((e=>{if(e.setAttribute(n,"true"),l(e)){const t=e.disabled,a=Boolean(e.getAttribute(s))||t?"true":"";e.setAttribute(s,a),e.disabled=!0}const t=e.getAttribute("aria-disabled")||"",a=e.getAttribute(i)||"";e.setAttribute(i,a||t),e.setAttribute("aria-disabled","true");const c=e.getAttribute("href")||"",d=e.getAttribute(o)||"";c&&(e.setAttribute(o,d||c),e.removeAttribute("href"));const u=e.getAttribute("tabindex")||"",m=e.getAttribute(r)||"";e.setAttribute(r,m||u),e.setAttribute("tabindex","-1")}))},p=e=>{e.forEach((e=>{if(e.removeAttribute(n),l(e)){const t=e.disabled,a=e.getAttribute(s);t&&(e.disabled=Boolean(a)),e.removeAttribute(s)}const t=e.getAttribute("aria-disabled")||"",a=e.getAttribute(i)||"";"true"===t&&(a?e.setAttribute("aria-disabled",a):e.removeAttribute("aria-disabled")),e.removeAttribute(i);const c=e.getAttribute("href")||"",d=e.getAttribute(o)||"";""===c&&d&&e.setAttribute("href",d),e.removeAttribute(o);const u=e.getAttribute("tabindex")||"",m=e.getAttribute(r)||"";parseInt(u,10)<0&&(m?e.setAttribute("tabindex",m):e.removeAttribute("tabindex")),e.removeAttribute(r)}))}},9246:(e,t,a)=>{"use strict";a.d(t,{Jt:()=>s});var n=a(4114);const r=e=>{const t=window.cookieMap;return t&&"object"==typeof t&&e in t?t[e]:e},s=e=>(0,n.J)(r(e))},4114:(e,t,a)=>{"use strict";a.d(t,{J:()=>r});var n=a(184);const r=e=>{let t=null;if(!e)return t;const a=(n._.getCookies()||"").split(";");for(let n=0;n<a.length;n++){const r=(a[n]||"").trim();if(r.substring(0,e.length+1)===e+"="){t=decodeURIComponent(r.substring(e.length+1));break}}if(t&&t.match(/^\s*\{/))try{t=JSON.parse(t)}catch(e){}return t}},184:(e,t,a)=>{"use strict";a.d(t,{A:()=>r,_:()=>n});const n={userAgent:e=>{const t=/(AppleWebkit)/i.test(e),a=/Chrome/.test(e)&&/Google Inc/.test(navigator.vendor),n=/Android.*Mobile|Mobile.*Android/i.test(e),r=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(e),s=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(e),i=r&&r[1]||s&&s[1],o=/(ipad)/i.test(e),l=/(iphone|ipod)/i.test(e)&&t,c=l||o?e.match(/os ([\d_]*)/i):null,d=/CriOS/.test(e)&&l,u=c&&c[1]||"0";return{isMobileIos:l,isIpad:o,isAndroidMobile:n,isIosChrome:d,userAgent:e,isPhantom:/Phantom/i.test(e),isFirefox:/(Firefox)/i.test(e),isChrome:/(Chrome)/i.test(e),isSafari:/(Safari)/i.test(e)&&!/(Chrome)/i.test(e),isHandheldPhone:l||n,iosVersion:parseFloat(u.replace("_",".")),isIe:Boolean(i),ieVersion:parseFloat(i||"0"),isAndroidInternet:n&&!a&&t,androidVersion:n?parseFloat(e.slice(e.indexOf("Android")+8)):0}},getReferrer:()=>document.referrer,getUrlHash:()=>window.location.hash,setUrlHash:e=>{window.location.hash=e},doRedirect:e=>{window.location.href=e},isOnline:()=>window.navigator.onLine,getWindowQueryString:()=>window.location.search,getCurrentPathname:()=>window.location.pathname,getViewportScrollX:()=>window.scrollX,getViewportScrollY:()=>window.scrollY,getViewportHeight:()=>window.innerHeight||document.documentElement.clientHeight,getViewportWidth:()=>window.innerWidth||document.documentElement.clientWidth,submit:e=>{(e&&"get"in e?e.get(0):e).submit()},getFocused:()=>document.activeElement,focus:e=>e.focus(),pixelRatio:window.devicePixelRatio,devicePixelRatio:e=>(n.pixelRatio=void 0!==e?e:n.pixelRatio,n.pixelRatio),selectedText:()=>{const e=window.getSelection();return e?e.toString():""},getCookies:()=>document.cookie||"",setCookie:e=>{document.cookie=e}},r=n},840:(e,t,a)=>{"use strict";a.d(t,{HP:()=>n,uP:()=>r});const n={Backspace:8,Tab:9,Clear:12,Return:13,Shift:16,Ctrl:17,Alt:18,Esc:27,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Delete:46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45,CapsLock:20,LeftCommand:91,RightCommand:93,MozillaCommand:224,RightWindowsStart:92,Pause:19,Space:32,Help:47,LeftWindow:91,Select:93,NumPad0:96,NumPad1:97,NumPad2:98,NumPad3:99,NumPad4:100,NumPad5:101,NumPad6:102,NumPad7:103,NumPad8:104,NumPad9:105,NumPadMultiply:106,NumPadPlus:107,NumPadEnter:108,NumPadMinus:109,NumPadPeriod:110,NumPadDivide:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NumLock:144,ScrollLock:145},r={};Object.entries(n).forEach((e=>{let[t,a]=e;return r[a]=t}))},5284:(e,t,a)=>{"use strict";a.d(t,{hI:()=>l,u9:()=>o});var n=a(3808);class r extends Error{constructor(e,t){const a=e.status||0===e.status?e.status:"",n=`${a} ${e.statusText||""}`.trim(),r=n?`response.status: ${n}`:"an unknown error";t.options&&delete t.options.body,t.options&&delete t.options.headers,super(`Request failed with ${r}, response.type: ${e.type}, response.redirected: ${e.redirected}, request.options: ${JSON.stringify(t.options)}, content-type: ${e.headers&&e.headers.get("Content-Type")}, x-request-id: ${e.headers&&e.headers.get("x-request-id")}`),this.name="HTTPError",this.code=a}}class s extends Error{constructor(e,t,a){const n=e.status||0===e.status?e.status:"",r=`${n} ${e.statusText||""}`.trim(),s=r?`response.status: ${r}`:"an unknown error";t.options&&delete t.options.body,t.options&&delete t.options.headers,super(`Received non-JSON response from JSON API with error.message: ${a&&a.message}, ${s}, response.type: ${e.type}, response.redirected: ${e.redirected}, request.options: ${JSON.stringify(t.options)}, content-type: ${e.headers&&e.headers.get("Content-Type")}, x-request-id: ${e.headers&&e.headers.get("x-request-id")}`),this.name="JSONError",this.code=n}}class i extends Error{constructor(e){e.options&&delete e.options.body,e.options&&delete e.options.headers,super(`Request timed out after ${e.options&&e.options.timeout} ms, request.options: ${JSON.stringify(e.options)}`),this.name="TimeoutError",this.code=408}}const o=async function(e){let t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a.timeout=a.timeout||1e4;let s=new AbortController;const o={url:e,options:{method:"GET",credentials:"same-origin",signal:s.signal,...a}},l=fetch(o.url,o.options).then((e=>e)),c=new Promise(((e,n)=>{t=setTimeout((()=>{s.abort(),n(new i(o))}),a.timeout)}));try{const e=window.performance&&window.performance.now(),t=await Promise.race([l,c]);if(t.ok){const a=window.performance&&window.performance.now();return window.performance&&function(e){let{request:t,response:a,start:r,end:s}=e;const i=(0,n.A)("as-utilities/measureFetch");try{let e={};e=new URL(a.url);const n=new CustomEvent("echoCustomEvent",{detail:{type:"fetchTimer",message:`hostname: ${e.hostname}, pathname: ${e.pathname}, duration: ${s-r}, request.options: ${JSON.stringify(t.options)}, response.status: ${a.status}, response.type: ${a.type}, content-type: ${a.headers&&a.headers.get("Content-Type")}, x-request-id: ${a.headers&&a.headers.get("x-request-id")}`}});window.dispatchEvent(n)}catch(e){i.error(e)}}({request:o,response:t,start:e,end:a}),t}throw new r(t,o)}catch(e){throw e}finally{clearTimeout(t)}},l=async function(e){let t;const a={url:e,options:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}};try{t=await o(a.url,a.options)}catch(e){throw e}try{return await t.json()}catch(e){throw new s(t,a,e)}}},3808:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const n=e=>{if(!e)throw new Error("moduleName parameter required for Logger");const t={TRACE:4,DEBUG:3,INFO:2,WARN:1,ERROR:0};let a,n;const r=r=>s=>{if(n=window.sessionStorage.getItem("AS_LOG_LEVEL")||window.AS_LOG_LEVEL||t.ERROR,a=n in t?t[n]:t.ERROR,t[r]<=a)try{let t;t="string"==typeof s||"number"==typeof s||"boolean"==typeof s||"bigint"==typeof s?{message:s}:Array.isArray(s)?{message:s.toString()}:function(e){const t={message:e.message,colno:e.colno,lineno:e.lineno,stack:e.stack||e.error&&e.error.stack,name:e.name,code:e.code};return{...e,...t}}(s),(e=>{const t=new CustomEvent("echoLogEvent",{detail:e});window.dispatchEvent(t)})({...t,id:e,type:r.toLowerCase()}),console[r.toLowerCase()](s)}catch(e){console.error("as-utilities/logger: could not log message",e)}};return{error:r("ERROR"),warn:r("WARN"),info:r("INFO"),debug:r("DEBUG"),trace:r("TRACE")}}},2684:(e,t,a)=>{"use strict";a.d(t,{GP:()=>g,LU:()=>o,extendUrlQuery:()=>m,fX:()=>l,makeUrl:()=>u,parseQueryString:()=>c,parseUrl:()=>d});let n=null;const r="[\\s!¡\\?¿‽\\.\\,…:;_\\-–—~·•‘’“”‚„‛‟′`″'\"#\\$&\\*@§¶\\^\\|\\/]",s=(new RegExp("^"+r+"+"),new RegExp(r+"+$")),i=/\+/g,o=e=>e.replace(s,""),l=e=>Object.keys(e).map((t=>encodeURIComponent(t)+"="+encodeURIComponent(""+e[t]))).join("&"),c=e=>{const t={};return(e="?"===e.charAt(0)||"#"===e.charAt(0)?e.substring(1):e).split("&").forEach((e=>{const a=e.indexOf("="),n=-1!==a,r=n?e.substring(0,a):e,s=n?e.substring(a+1):"",o=decodeURIComponent(s.replace(i," ")),l=t[r];if(o&&l){const e=Array.isArray(l)?l:[l];e.push(o),t[r]=e}else o&&(t[r]=o)})),t},d=e=>{const t=n||document.createElement("a");n=t,t.href=e;const{protocol:a,hostname:r,search:s,hash:i}=t;return{protocol:a,hostname:r,pathname:"/"===(t.pathname||"").charAt(0)?t.pathname:"/"+t.pathname,port:"0"===t.port?"":t.port,search:s,hash:i}},u=e=>{const{protocol:t,hostname:a,pathname:n,port:r,search:s,hash:i}=e;return(a?t+"//"+a+(r?":"+r:""):"")+n+s+i},m=(e,t)=>{const a=d(e),n=c(a.search);return Object.keys(t).forEach((e=>n[e]=t[e])),a.search="?"+l(n),u(a)},p=e=>e.replace(/([[\\^$.|?*+(){}])/g,"\\$1"),g=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"{",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"}";if(null==e)return String(e);const r=p(a),s=p(n);return e.replace(new RegExp(`${r}([\\w-]+)${s}`,"g"),((e,a)=>{return 0===(n=t[a])||n?t[a]+"":"";var n}))}},4792:(e,t,a)=>{"use strict";a.d(t,{Ez:()=>h,mj:()=>f});var n=a(184);const r=["","-webkit-","-moz-","-o-","-ms-","-khtml-"],s=["","Webkit","Moz","O","ms","Khtml"];let i=null,o=null;const l=()=>{const e=o||document.createElement("div");return o=e,e},c=(e,t)=>{if("length"===e||"parentRule"===e)return null;const a=l();a.style[e]="";const n=a.style[e],s=r.find((r=>{a.style[e]=r+t;const s=a.style[e]!==n;return a.style[e]="",s}));return"string"==typeof s?s:null},d=e=>{const t=document&&document.documentElement.style,a=e.charAt(0).toUpperCase()+e.slice(1);return s.map((t=>t?t+a:e)).find((e=>e in t))||null},u=(e,t)=>{return!!(t&&d(e))||(a=l().style[e],Boolean(a||""===a));var a},m=(e,t,a,n)=>{const r=document.createElement(t);return r.id=a,r.textContent=n,e.appendChild(r),r},p=()=>{const e=Object.prototype.hasOwnProperty;try{if(e.call(window,"styleMedia")&&window.styleMedia.matchMedium("(-webkit-transform-3d)"))return!0;{const e=document.getElementById("supportsThreeDStyle")||m(document.head,"style","supportsThreeDStyle","@media (transform-3d),(-o-transform-3d),(-moz-transform-3d),(-ms-transform-3d),(-webkit-transform-3d) { #supportsThreeD { height:3px } }");return 3===(document.getElementById("supportsThreeD")||m(document.body,"div","supportsThreeD","")).offsetHeight||"MozTransform"in e.style||"WebkitTransform"in e.style}}catch(e){return!1}},g=()=>{try{const e=document.createElement("a");return!!e.relList&&e.relList.supports("ar")}catch(e){return!1}},h=()=>{if(i)return i;const e=document.createElement("input"),t=document.createElement("textarea"),a=n._.userAgent(navigator.userAgent),r=a.userAgent,s=a.isMobileIos,o=a.isIpad,m=a.iosVersion,h=a.isIe,f=a.ieVersion,E=a.isPhantom,v=a.isAndroidMobile,y=a.isAndroidInternet,b=a.androidVersion,A=a.isHandheldPhone,S=a.isSafari,w=navigator.appVersion,T=document&&document.documentElement.style,O=l(),N=r.match(/AppleWebKit\/(\d+)/),C=N&&N[1]||"",_=parseFloat(C)||null,I=-1!==w.indexOf("Mac")?"macosx":-1!==w.indexOf("X11")||-1!==w.indexOf("Linux")?"linux":-1!==w.indexOf("SunOS")?"sunos":"windows",D=Boolean(window.ontransitionend),L=("transition"in T||"MozTransition"in T)&&(!v||v&&D),k=L?"transitionend":"msTransition"in T?"MSTransitionEnd":"WebkitTransition"in T?"webkitTransitionEnd":null,x=L?"animationend":"msTransition"in T?"MSAnimationEnd":"WebkitTransition"in T?"webkitAnimationEnd":null;try{O.style.height="100vh"}catch(e){}const P="100vh"===O.style.height;try{O.style.height=""}catch(e){}const R={cssPropertyName:d,cssPropertyValuePrefix:c,inputPlaceholder:"placeholder"in e,maxlengthTextarea:"maxLength"in t,onInput:"oninput"in e,touch:!!("ontouchstart"in window)&&!E,overflowScrolling:u("overflowScrolling",!0),textOverflow:u("textOverflow",!0),transform:u("transform",!0),boxShadow:u("boxShadow",!0),opacity:u("opacity",!1),animation:u("animationName",!0),transition:u("transitionProperty",!0),transformProperty:d("transform"),positionSticky:null!==c("position","sticky"),gradient:null!==c("backgroundImage","linear-gradient(top, black, white)"),backgroundSvg:Boolean(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),threeDTransforms:p(),supportsAR:g(),webkitVersion:_,iosVersion:m,ieVersion:f,androidVersion:b,os:I,vhHeight:P,transitionEndName:k,animationEndName:x,isMobileIos:s,isIpad:o,isSafari:S,isIe:h,isAndroidMobile:v,isAndroidInternet:y,isHandheldPhone:A,rtl:!1,isMobileOptimized:!1};return i=R,R},f=()=>{const e=document.documentElement,t=h();e.classList.add(t.backgroundSvg?"svg":"no-svg"),e.classList.add(t.touch?"touch":"no-touch"),e.classList.add(t.isIe&&t.ieVersion>=9?"ie":"no-ie"),e.classList.add(t.isIe&&t.ieVersion<9?"oldie":"no-oldie"),e.classList.add(t.isMobileIos||t.isIpad?"ios":"no-ios"),e.classList.add(t.animation?"supports-animation":"no-supports-animation"),e.classList.add(u("columns",!0)?"supports-columns":"no-supports-columns"),e.classList.add(u("backdropFilter",!0)?"supports-backdrop-filter":"no-supports-backdrop-filter"),e.classList.add(t.isSafari&&t.supportsAR?"supports-ar":"no-supports-ar"),t.rtl="rtl"===window.getComputedStyle(document.body).direction}},7316:(e,t,a)=>{"use strict";a.d(t,{Ag:()=>r,mj:()=>p});var n=a(840);const r="as-keyboarduser",s=[n.HP.Tab,n.HP.Esc,n.HP.Alt,n.HP.Ctrl,n.HP.ArrowDown,n.HP.ArrowLeft,n.HP.ArrowRight,n.HP.ArrowUp];let i=null,o=!1,l=!1,c=!1;const d=()=>{i&&(i.classList.toggle("as-mouseuser",o),i.classList.toggle(r,l))},u=()=>{o||(o=!0,l=!1,d())},m=e=>{!l&&s.indexOf(e.keyCode)>-1&&(o=!1,l=!0,d())},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.documentElement;i=e,c||(u(),document.addEventListener("mousedown",u),document.addEventListener("keyup",m),c=!0)}},6693:(e,t,a)=>{"use strict";a.d(t,{b:()=>r});var n=a(2642);function r(e,t,a){let r;var s;return void 0===(s=t)||"locale"in s?a=t:r=t,new Intl.DateTimeFormat(a?.locale,r).format((0,n.a)(e))}},1730:(e,t,a)=>{"use strict";a.d(t,{o:()=>r});var n=a(2642);function r(e){const t=(0,n.a)(e);return t.setHours(0,0,0,0),t}},2642:(e,t,a)=>{"use strict";function n(e){const t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}a.d(t,{a:()=>n})}},s={};function i(e){var t=s[e];if(void 0!==t)return t.exports;var a=s[e]={exports:{}};return r[e](a,a.exports,i),a.exports}i.m=r,e=[],i.O=(t,a,n,r)=>{if(!a){var s=1/0;for(d=0;d<e.length;d++){for(var[a,n,r]=e[d],o=!0,l=0;l<a.length;l++)(!1&r||s>=r)&&Object.keys(i.O).every((e=>i.O[e](a[l])))?a.splice(l--,1):(o=!1,r<s&&(s=r));if(o){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,n,r]},i.F={},i.E=e=>{Object.keys(i.F).map((t=>{i.F[t](e)}))},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,a)=>(i.f[a](e,t),t)),[])),i.u=e=>(({230:"accessory-adapter10",499:"fulfillment-dude-overlay",553:"ac-video",620:"accessory-component12",631:"accessory-component11",721:"accessory-slot-adapter7",937:"accessory-slot-component3",948:"accessory-slot-component6",1218:"accessory-adapter14",1608:"accessory-component16",2100:"accessory-adapter7",2284:"accessory-component7",2295:"accessory-component4",2531:"accessory-slot-adapter5",2542:"accessory-slot-adapter0",3039:"accessory-adapter11",3123:"accessory-component0",3272:"accessory-component3",3429:"accessory-component13",3530:"accessory-slot-adapter4",3673:"accessory-adapter2",3746:"accessory-slot-component0",3757:"accessory-slot-component7",4027:"accessory-adapter15",4342:"accessory-slot-component4",4800:"accessories-delivery",5093:"accessory-component6",5109:"availability-overlay",5271:"fulfillment-pl-overlay",5339:"engraving-overlay",5351:"accessory-slot-adapter1",5494:"accessory-adapter5",6081:"accessory-component2",6328:"accessory-slot-adapter6",6482:"accessory-adapter1",6493:"accessory-adapter6",6836:"accessory-adapter12",6924:"accessory-slot-adapter2",7058:"accessory-component9",7151:"accessory-slot-component5",7226:"accessory-component14",7811:"accessory-component15",7822:"accessory-component10",8128:"accessory-slot-component2",8139:"accessory-slot-component1",8303:"accessory-adapter4",8314:"accessory-adapter9",8890:"accessory-component1",8899:"accessory-adapter8",9036:"engraving",9280:"accessory-adapter3",9291:"accessory-adapter0",9379:"tradeup-overlay",9486:"accessory-component5",9574:"fulfillment-sl-overlay",9645:"accessory-adapter13",9733:"accessory-slot-adapter3",9867:"accessory-component8"}[e]||e)+".chunk.js"),i.miniCssF=e=>(({499:"fulfillment-dude-overlay",553:"ac-video",620:"accessory-component12",631:"accessory-component11",937:"accessory-slot-component3",1608:"accessory-component16",2284:"accessory-component7",2295:"accessory-component4",3123:"accessory-component0",3272:"accessory-component3",3429:"accessory-component13",3746:"accessory-slot-component0",4800:"accessories-delivery",5093:"accessory-component6",5109:"availability-overlay",5339:"engraving-overlay",6081:"accessory-component2",7058:"accessory-component9",7226:"accessory-component14",7811:"accessory-component15",7822:"accessory-component10",8128:"accessory-slot-component2",8139:"accessory-slot-component1",8890:"accessory-component1",9036:"engraving",9379:"tradeup-overlay",9486:"accessory-component5",9867:"accessory-component8"}[e]||e)+".css"),i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},a="rs-buyflow:",i.l=(e,n,r,s)=>{if(t[e])t[e].push(n);else{var o,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==a+r){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.setAttribute("data-webpack",a+r),o.src=e),t[e]=[n];var m=(a,n)=>{o.onerror=o.onload=null,clearTimeout(p);var r=t[e];if(delete t[e],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(n))),a)return a(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=m.bind(null,o.onerror),o.onload=m.bind(null,o.onload),l&&document.head.appendChild(o)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.j=2506,(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var n=a.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=a[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{if("undefined"!=typeof document){var e=e=>new Promise(((t,a)=>{var n=i.miniCssF(e),r=i.p+n;if(((e,t)=>{for(var a=document.getElementsByTagName("link"),n=0;n<a.length;n++){var r=(i=a[n]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(r===e||r===t))return i}var s=document.getElementsByTagName("style");for(n=0;n<s.length;n++){var i;if((r=(i=s[n]).getAttribute("data-href"))===e||r===t)return i}})(n,r))return t();((e,t,a,n,r)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",i.nc&&(s.nonce=i.nc),s.onerror=s.onload=a=>{if(s.onerror=s.onload=null,"load"===a.type)n();else{var i=a&&a.type,o=a&&a.target&&a.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+i+": "+o+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=i,l.request=o,s.parentNode&&s.parentNode.removeChild(s),r(l)}},s.href=t,a?a.parentNode.insertBefore(s,a.nextSibling):document.head.appendChild(s)})(e,r,null,t,a)})),t={2506:0,9036:0,9379:0,6141:0};i.f.miniCss=(a,n)=>{t[a]?n.push(t[a]):0!==t[a]&&{499:1,553:1,620:1,631:1,937:1,1255:1,1608:1,2284:1,2295:1,2525:1,3123:1,3272:1,3429:1,3746:1,3820:1,4748:1,4800:1,4818:1,5093:1,5109:1,5339:1,6081:1,6904:1,7058:1,7226:1,7811:1,7822:1,8128:1,8139:1,8378:1,8890:1,9036:1,9379:1,9486:1,9867:1}[a]&&n.push(t[a]=e(a).then((()=>{t[a]=0}),(e=>{throw delete t[a],e})))},i.F.miniCss=e=>{if(!(i.o(t,e)&&void 0!==t[e]||/^(1(121|218|486)|2(100|30|531|542)|3(039|530|673|757)|5(271|351|494)|6(141|328|482|493|836|924)|8(303|314|899)|9(280|291|48|574|645|733)|4027|4342|7151|721)$/.test(e))){t[e]=null;var a=document.createElement("link");i.nc&&a.setAttribute("nonce",i.nc),a.rel="prefetch",a.as="style",a.href=i.p+i.miniCssF(e),document.head.appendChild(a)}}}})(),(()=>{var e={2506:0,9036:0,9379:0,6141:0};i.f.j=(t,a)=>{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else if(/^((474|481|837)8|1255|2525|6904)$/.test(t))e[t]=0;else{var r=new Promise(((a,r)=>n=e[t]=[a,r]));a.push(n[2]=r);var s=i.p+i.u(t),o=new Error;i.l(s,(a=>{if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var r=a&&("load"===a.type?"missing":a.type),s=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",o.name="ChunkLoadError",o.type=r,o.request=s,n[1](o)}}),"chunk-"+t,t)}},i.F.j=t=>{if(!(i.o(e,t)&&void 0!==e[t]||/^((474|481|837)8|1255|2525|6904)$/.test(t))){e[t]=null;var a=document.createElement("link");i.nc&&a.setAttribute("nonce",i.nc),a.rel="prefetch",a.as="script",a.href=i.p+i.u(t),document.head.appendChild(a)}},i.O.j=t=>0===e[t];var t=(t,a)=>{var n,r,[s,o,l]=a,c=0;if(s.some((t=>0!==e[t]))){for(n in o)i.o(o,n)&&(i.m[n]=o[n]);if(l)var d=l(i)}for(t&&t(a);c<s.length;c++)r=s[c],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(d)},a=globalThis.webpackChunkrs_buyflow=globalThis.webpackChunkrs_buyflow||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),n={5093:[9036],8890:[9036],9036:[5339],9486:[9036]},i.f.prefetch=(e,t)=>Promise.all(t).then((()=>{var t=n[e];Array.isArray(t)&&t.map(i.E)})),i.O(0,[2506],(()=>{[4800,6141,499,1121,1255,9574,2525,5271,5339].map(i.E)}),5);var o={};(()=>{"use strict";var e=i(1594),t=i.n(e),a=i(5338),n=i(2224),r=i.n(n);document.addEventListener("DOMContentLoaded",(()=>{const e=i(8935),t=e.prototype,a=document.getElementById("as-localnav");if(a){const n=()=>{a.style.width=window.innerWidth<1024?`${window.innerWidth}px`:null},s=()=>{const e=a.classList.contains("as-localnav-sticking")?0:a.getBoundingClientRect().top;a.style.setProperty("--r-localnav-menu-tray-natural-height",window.innerHeight-e-88+"px")};if(a){const e=r().debounce(n,100),t=r().debounce(s,100);window.addEventListener("resize",e),window.addEventListener("pageshow",n),window.addEventListener("scroll",t)}const i=t._setCssVars;t._setCssVars=function(){a.classList.contains("large-as-localnav-collapsible")?(s(),setTimeout((()=>{this.el.classList.add(`${this._selectors.localNavClassname}-allow-transitions`)}),100)):i.call(this)},new e(a,{className:"as-localnav"})}}));var s=i(4792),o=i(7316),l=i(840);const c=/^(\S+)\s*(.+)?$/,d="data-trigger";let u=!1;const m={},p=(e,t,a)=>{const n=(e=>{if(e=e.trim(),!m[e]){const t=e.split(",").map((e=>e.trim())).filter((e=>!!e)).map((e=>{const t=e.match(c);return{type:t&&t[1],sel:t&&t[2]}}));m[e]=t}return m[e]})(t);let r=null;n.forEach((t=>{let{type:n,sel:s}=t;if("preventDefault"===n)a.preventDefault();else if("focus"===n||"click"===n){r=r||(e=>{for(let t=e;t;t=t.parentElement)if(t.hasAttribute("data-trigger-context"))return t;return document.body})(e);const t=s?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return Array.from(t.querySelectorAll(e))}(s,r):[e];t.forEach((e=>e[n]?e[n]():null))}}))},g=e=>{const t=e.target,a=e&&"keyCode"in e?e.keyCode:null,n=null!==a,r=null!==a&&l.uP[a];for(let s=t;s;s=s.parentElement){if(s&&s.hasAttribute("data-trigger-stoppropagation"))return;const t=!n&&s.getAttribute(`${d}-${e.type}`)||n&&s.getAttribute(`${d}-${a}`)||n&&s.getAttribute(`${d}-${r}`);t&&p(s,t,e)}},h="data-viewport-class",f="data-playvideoonscroll",E="data-viewport-src",v=["scroll","resize"];let y,b=[],A=[],S=!1;const w={init(e){e&&(S=!!e.loadAllDeferredImages),S?(b=Array.from(document.querySelectorAll(`[${h}], [${f}]`)),A=Array.from(document.querySelectorAll(`[${E}]`))):b=Array.from(document.querySelectorAll(`[${h}], [${f}], [${E}]`)),I(),_(),C()},reinit(e){if(!e)return;const t=Array.from(e.querySelectorAll(`[${h}], [${f}], [${E}]`));if(0===t.length)return;const a=0===b.length;b.push(...r().difference(t,b,A)),a&&(y||(y=r().throttle(C,200)),v.forEach((e=>{window.addEventListener(e,y)}))),C()}},T=e=>{const t=e.getAttribute(h);t&&(e.classList.add(t),e.removeAttribute(h))},O=e=>{if(e.hasAttribute(f)&&"VIDEO"===e.tagName){const t=e.play();e.removeAttribute(f),t&&t.catch((e=>{window.console.log("Not able to play video.",e)}))}},N=e=>{const t=e.getAttribute(E);t&&"IMG"===e.tagName&&x(e,t)},C=()=>{for(let e=b.length-1;e>=0;e--){const t=b[e];P(t)&&(T(t),O(t),N(t),b.splice(e,1))}b.length<1&&D()},_=()=>{for(let e=A.length-1;e>=0;e--){const t=A[e];P(t)&&(N(t),A.splice(e,1))}},I=()=>{y||(y=r().throttle(C,200)),v.forEach((e=>{window.addEventListener(e,y)})),S&&(window.addEventListener("wheel",L),window.addEventListener("touchmove",L),window.addEventListener("keydown",k))},D=()=>{v.forEach((e=>{window.removeEventListener(e,y)}))},L=()=>{window.removeEventListener("wheel",L),window.removeEventListener("touchmove",L),window.removeEventListener("keydown",k);for(let e=0;e<A.length;e++)N(A[e])},k=e=>{const t=e.keyCode;(t===l.HP.PageUp||t===l.HP.PageDown||t===l.HP.ArrowUp||t===l.HP.ArrowDown||t===l.HP.Space||e.ctrlKey&&t===l.HP.Home||e.ctrlKey&&t===l.HP.End)&&L()},x=(e,t)=>{const a=new Image;a.onload=()=>{e.setAttribute("src",t),e.removeAttribute(E)},a.src=t},P=e=>{const{isHandheldPhone:t}=s.Ez(),a=(window.pageYOffset||document.documentElement.scrollTop)+window.innerHeight;let n;t&&(n=e.getAttribute("data-viewport-mobileoffset")),n||(n=e.getAttribute("data-viewport-offset"));const r=parseInt(n,10)||100,i=Math.round((e=>{let t=e.offsetTop;for(;e.offsetParent;)t+=(e=e.offsetParent).offsetTop;return t})(e))+r;return i<a};window.as=window.as||{},window.as.LazyLoad=w;const R=w;window.as=window.as||{},window.as.mvt=window.asMetrics.Mvt,window.as.Tracking=window.asMetrics.Tracking,window.Event=window.Event||{},window.Event.onLoad=e=>document.addEventListener("DOMContentLoaded",e),window.Event.onDomReady=e=>document.addEventListener("DOMContentLoaded",e),document.addEventListener("DOMContentLoaded",(()=>{window.performance.mark("jsx-buyflow-initrender-start"),s.mj(),o.mj(),u||(document.addEventListener("click",g),document.addEventListener("focusin",g),document.addEventListener("focusout",g),document.addEventListener("keydown",g),u=!0),R.init();const e=document.getElementById("as-noscript-header");e&&(e.innerHTML="")}));var M=i(5206),F=i.n(M),H=i(2494),U=i(6637),$=i(7404),B=i(7923),V=i(1824),Y=i(5911);var q=i(8168);const j=a=>{let{rootTag:n="ul",index:r,defaultIndex:s=[],handleChange:i=(()=>{}),isExclusive:o=!1,id:c,children:d,...u}=a;const m=t().useId(),p=c||m,g=t().Children.count(d),{current:h}=(0,e.useRef)(void 0!==r),[f,E]=(0,e.useState)(s),[v,y]=(0,e.useState)(null);return t().createElement(n,(0,q.A)({"data-core-accordion":"",id:p},u),t().Children.map(d,((e,a)=>e?t().cloneElement(e,{...e.props,isSelected:h?r&&r.includes(a):f.includes(a),focusedIndex:v,onHandleClick:e=>(e=>{let t=[];const a=h?r||[]:f;t=o?a.includes(e)?[]:[e]:a.includes(e)?a.filter((t=>t!==e)):[...a,e],h||E(t),i(t)})(e),onHandleKeyDown:(e,t)=>((e,t,a,n)=>{let r;const s=a-1;switch(e.keyCode){case l.HP.ArrowDown:return e.preventDefault(),r=t<s?t+1:0,n(r);case l.HP.ArrowUp:return e.preventDefault(),r=t>0?t-1:s,n(r);default:return!1}})(e,t,g,y),id:p,index:a}):null)))};var G=i(7213);const W=(0,e.forwardRef)(((a,n)=>{let{rootTag:r="li",titleWrapperTag:s=t().Fragment,titleWrapperAttrs:i={},title:o,titleAttrs:l={},contentAttrs:c={},id:d,index:u,isSelected:m,onHandleClick:p=(()=>{}),onHandleKeyDown:g=(()=>{}),focusedIndex:h,children:f,mountOnEnter:E,unmountOnExit:v,...y}=a;const b=`title-${d}-${u}`,A=`content-${d}-${u}`,S=(0,e.useRef)(null);(0,e.useEffect)((()=>{u===h&&S.current&&S.current.focus()}),[u,h]);const{onClick:w,...T}=l;return t().createElement(r,(0,q.A)({ref:n,"data-core-accordion-item":"","data-core-accordion-item-expanded":m?"":void 0},y),t().createElement(s,i,t().createElement("button",(0,q.A)({type:"button","data-core-accordion-button":"","data-core-accordion-button-expanded":m?"":void 0,onClick:e=>{return t=e,p(u),void(w&&w(t));var t},onKeyDown:e=>g(e,u),"aria-expanded":m,"aria-controls":A,id:b,ref:S},T),o)),t().createElement(G.x,{in:m,mountOnEnter:E,unmountOnExit:v},t().createElement("div",(0,q.A)({"data-core-accordion-content":"","aria-hidden":!m||void 0,id:A},c),f)))}));W.displayName="AccordionItem";const z=W;var K=i(4768);const Q="15 1.13 8.5 7.72 2 1.13",J="15.85 4.42 8.5 4.42 1.15 4.42",Z="15 7.72 8.5 1.13 2 7.72",X=a=>{let{toggleState:n}=a;const r=(0,e.useRef)(null),s=(0,e.useRef)(null),[i,o]=(0,e.useState)(n);return(0,e.useEffect)((()=>{i&&(n?r.current.beginElement():s.current.beginElement()),o(!0)}),[n]),t().createElement("span",{className:"rc-accordion-chevrondown rc-accordion-collapse-icon"},t().createElement("svg",{className:"accordion-icon-svg",viewBox:"0 0 17 8.85",height:"35px",width:"35px"},t().createElement("polyline",{"data-accordion-icon-shape":"",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",fillRule:"evenodd",points:Q},t().createElement("animate",{ref:r,"data-accordion-animate":"expand",attributeName:"points",values:`${Q}; ${J}; ${Z}`,dur:"320ms",begin:"indefinite",fill:"freeze",keyTimes:"0; 0.5; 1",calcMode:"spline",keySplines:"0.12, 0, 0.38, 0; 0.2, 1, 0.68, 1"}),t().createElement("animate",{ref:s,"data-accordion-animate":"collapse",attributeName:"points",values:`${Z}; ${J}; ${Q}`,dur:"320ms",begin:"indefinite",fill:"freeze",keyTimes:"0; 0.5; 1",calcMode:"spline",keySplines:"0.2, 0, 0.68, 0; 0.2, 1, 0.68, 1"}))))};var ee=i(6942),te=i.n(ee);const ae=e=>{let{title:a,classes:n={root:"",button:"",icon:""},noPadding:r,className:s,children:i,withPlus:o,withChevron:l=!0,iconAttrs:c,firstItem:d,numbered:u,isSelected:m,titleAttrs:p,...g}=e;return t().createElement(z,(0,q.A)({className:te()(s,n.root,{"rc-accordion-item":!d}),title:t().createElement(t().Fragment,null,t().createElement("span",{className:te()({[`icon icon-${g.index+1}circle rc-accordion-numbered`]:u},K.A.CALLOUT)}),t().createElement("span",(0,q.A)({className:te()("rc-accordion-title large-10",K.A.CALLOUT)},(0,Y.OH)(a))),t().createElement("span",(0,q.A)({className:te()("icon","rc-accordion-collapse-icon",{"icon-plus rc-accordion-plusicon":o},n.icon)},c)),!o&&l&&t().createElement(X,{toggleState:m})),titleAttrs:{className:te()("rc-accordion-button",n.button),...p},isSelected:m},g),t().createElement("div",{className:te()("rc-accordion-content","large-10",{"rc-accordion-content-nopadding":r,"rc-accordion-content-numbered":u})},i))},ne=e=>{let{compact:a,centered:n,hideClose:r,classes:s={root:""},className:i,...o}=e;return t().createElement(j,(0,q.A)({className:te()("rc-accordion",i,s.root,{"rc-accordion-compact":a,"rc-accordion-centered":n,"rc-accordion-hideclose":r})},o))},re=a=>{let{content:n,titleTag:r,defaultSelection:s,analyticsId:i,...o}=a;const[l,c]=(0,e.useState)(void 0!==s?[s]:[]),d=i||o.id;return t().createElement(ne,(0,q.A)({compact:!0,index:l,handleChange:e=>c(e),role:"list"},o),n.map(((e,a)=>e.question&&e.answer&&t().createElement(ae,{key:e.question,title:e.question,titleWrapperTag:r,onClick:()=>((e,t,a,n)=>{const r=window.asMetrics,s=`${e}-${a} | ${t.question}`,i=n.includes(a)?"collapsed":"expanded";r.fireMicroEvent({part:"FAQ",eVar:"eVar6",feature:s,action:i})})(d,e,a,l),role:"listitem"},t().createElement("div",(0,Y.OH)(e.answer))))))};var se=i(719);var ie=i(3808),oe=i(9376),le=i(1916);const ce=a=>{let{value:n,min:r=0,max:s=100,step:i=1,onChange:o=(()=>{}),onSlideStart:c=(()=>{}),onSlideEnd:d=(()=>{}),vertical:u=!1,handleContent:m=null,disabled:p,className:g,...h}=a;const f=(0,e.useRef)(null),E=(0,e.useRef)(null);if(!!(n<r||n>s))return null;const v=e=>{const{x:t,y:a,width:n,height:o}=f.current.getBoundingClientRect();let l=u?1-(e.clientY-a)/o:(e.clientX-t)/n;l=(0,Y.qE)(l,0,1);let c=((e,t,a)=>parseInt((a-t)*e+t,10))(l,r,s);return c=(0,Y.qE)(1!==i?((e,t,a)=>{const n=Math.round((e-a)/t)*t+a;return parseInt(n.toFixed(t),10)})(c,i,r):c,r,s),c},y=e=>{e.preventDefault();const t=v(e);t!==n&&o(t,e)},b=()=>{document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",b),d()},A=((e,t,a)=>100*(e-t)/(a-t))(n,r,s);return t().createElement("div",(0,q.A)({ref:f,className:te()("rc-slider",{"rc-slider-vertical":u,"rc-slider-horizontal":!u,"rc-slider-disabled":p},g),onClick:e=>{const t=v(e);t!==n&&o(t,e)},onMouseDown:()=>{c(),document.addEventListener("mousemove",y),document.addEventListener("mouseup",b)}},h),t().createElement("div",{className:"rc-slider-track"},t().createElement("div",{className:"rc-slider-progress",style:u?{height:`${A}%`}:{width:`${A}%`}}),t().createElement("div",{ref:E,className:"rc-slider-handle",role:"slider","aria-valuemax":s,"aria-valuemin":r,"aria-valuenow":n,"aria-valuetext":n,tabIndex:p?-1:0,style:u?{bottom:`${A}%`}:{insetInlineStart:`${A}%`},onKeyDown:p?()=>{}:e=>{switch(e.keyCode){case l.HP.ArrowRight:case l.HP.ArrowUp:e.preventDefault(),c(),o((0,Y.qE)(n+i,r,s),e),d();break;case l.HP.ArrowLeft:case l.HP.ArrowDown:e.preventDefault(),c(),o((0,Y.qE)(n-i,r,s),e),d()}}},m)))};var de=i(8747);const ue="video/mp4",me="application/vnd.apple.mpegurl",pe=s.Ez(),ge=()=>t().createElement("div",{className:"rc-videoplayer-loadingindicator-box"},t().createElement("div",{className:"rc-videoplayer-loadingindicator"},t().createElement("div",null),t().createElement("div",null),t().createElement("div",null),t().createElement("div",null),t().createElement("div",null),t().createElement("div",null),t().createElement("div",null),t().createElement("div",null))),he=a=>{let{state:n,controls:r,assets:s}=a;const[i,o]=(0,e.useState)(!1);return t().createElement("div",{className:te()("rc-videoplayer-controls-volume",{"rc-videoplayer-controls-volume-sliding":i})},t().createElement("button",{type:"button",className:"rc-videoplayer-button rc-videoplayer-button-mute","aria-label":n.isMuted?s.unmute:s.mute,onClick:r.toggleMute}),t().createElement("div",{className:"rc-videoplayer-volume-slider-box"},t().createElement(ce,{value:n.volume,min:0,max:10,onChange:r.setVolume,onSlideStart:()=>o(!0),onSlideEnd:()=>o(!1),className:"rc-videoplayer-volume-slider",vertical:!0})))},fe=e=>{let{state:a,controls:n,assets:r}=e;return t().createElement("div",{className:"rc-videoplayer-controls-captions"},t().createElement("button",{type:"button",className:"rc-videoplayer-button rc-videoplayer-button-captions","aria-label":r.captions,onClick:()=>n.setCaption(a.isCaptionsOn?-1:0)}))},Ee=e=>{let{state:a,controls:n}=e;return t().createElement("div",{className:"rc-videoplayer-controls-progress"},t().createElement("div",{className:"rc-videoplayer-timeline"},t().createElement("div",{className:"rc-videoplayer-timeline-current"},a.currentTimeString),t().createElement(ce,{value:a.currentTimePercent,onChange:n.setCurrentTimePercent}),t().createElement("div",{className:"rc-videoplayer-timeline-remain"},"-",a.timeRemainingString)))},ve=a=>{let{sources:n=[],tracks:r=[],poster:s="",videoProps:i={},id:o="videoplayer",className:l,useVideoHook:c=null,hideControls:d=!1,...u}=a;const{viewport:m,assets:p}=(0,oe.S)(),[g,h]=(0,e.useState)(!1),[f,E]=(0,e.useState)(null),[v,y]=(0,e.useState)(!1),b=(0,de.R)({withTimeUpdate:!0}),{ref:A,state:S,controls:w}=c||b,T={preload:"metadata",crossOrigin:"anonymous",...i};(0,e.useEffect)((()=>{E((e=>{if(e&&e.clientWidth>=780)return"large";return"medium"})(A.current)),window.asMetrics&&window.asMetrics.update&&window.asMetrics.update()}),[]),(0,e.useEffect)((()=>{S.isFullscreen?setTimeout((()=>y(S.isFullscreen)),1e3):y(S.isFullscreen)}),[S.isFullscreen]);const O=[...n].sort((e=>e.type===me?-1:0));return"small"===m||pe.touch?t().createElement("div",(0,q.A)({id:o,"data-analytics-id":o,className:te()("rc-videoplayer-mow","rc-videoplayer-medium",l,{"rc-videoplayer-touched":S.isTouched,"rc-videoplayer-playing":S.isPlaying})},u),t().createElement(de.A,(0,q.A)({ref:A,sources:O,tracks:r,onError:e=>{w.handleError(e),i.onError&&i.onError(e)},controls:!0},T)),t().createElement("div",{className:"rc-videoplayer-poster"},t().createElement(le.Ay,{src:s})),!d&&t().createElement("div",{className:"rc-videoplayer-controls"},t().createElement("div",{className:"rc-videoplayer-controls-center",onClick:w.togglePlay},t().createElement("button",{type:"button",className:"rc-videoplayer-button rc-videoplayer-button-playpause","aria-label":S.isPlaying?p.pause:p.play,onClick:w.togglePlay})))):t().createElement("div",(0,q.A)({id:o,"data-analytics-id":o,className:te()("rc-videoplayer",l,{"rc-videoplayer-loaded":S.isLoaded,"rc-videoplayer-waiting":S.isWaiting,"rc-videoplayer-playing":S.isPlaying,"rc-videoplayer-touched":S.isTouched,"rc-videoplayer-hovering":g,"rc-videoplayer-muted":S.isMuted,"rc-videoplayer-ended":S.isEnded,"rc-videoplayer-error":S.isError,"rc-videoplayer-stalled":S.isStalled,"rc-videoplayer-fullscreen":S.isFullscreen,"rc-videoplayer-captions-on":S.isCaptionsOn,[`rc-videoplayer-${f}`]:f}),onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1)},u),t().createElement(de.A,(0,q.A)({ref:A,sources:O,tracks:r,controls:v&&!pe.isSafari,onError:e=>{w.handleError(e),i.onError&&i.onError(e)}},T)),t().createElement("div",{className:"rc-videoplayer-poster"},t().createElement(le.Ay,{src:s})),!d&&t().createElement("div",{className:"rc-videoplayer-controls"},t().createElement("div",{className:"rc-videoplayer-controls-center",onClick:w.togglePlay},t().createElement("button",{type:"button",className:"rc-videoplayer-button rc-videoplayer-button-playpause","aria-label":S.isPlaying?p.pause:p.play,onClick:w.togglePlay},t().createElement(ge,null))),t().createElement("div",{className:"rc-videoplayer-controls-bottom"},t().createElement(he,{state:S,controls:w,assets:p}),r.length>0?t().createElement(fe,{state:S,controls:w,assets:p}):null,t().createElement(Ee,{state:S,controls:w,assets:p}),S.isAirPlaySupported?t().createElement("div",{className:"rc-videoplayer-controls-airplay"},t().createElement("button",{type:"button",className:"rc-videoplayer-button rc-videoplayer-button-airplay","aria-label":p.airplay,onClick:w.toggleAirPlay})):null,S.isPIPSupported?t().createElement("div",{className:"rc-videoplayer-controls-pip"},t().createElement("button",{type:"button",className:"rc-videoplayer-button rc-videoplayer-button-pip","aria-label":p.pip,onClick:w.togglePIP})):null,t().createElement("div",{className:"rc-videoplayer-controls-fullscreen"},t().createElement("button",{type:"button",className:"rc-videoplayer-button rc-videoplayer-button-fullscreen","aria-label":p.fullscreen,onClick:w.toggleFullscreen}))),S.isWaiting?t().createElement("span",{className:"a11y","aria-live":"polite"},p.loading):null))},ye={showTranscriptText:"View transcript",hideTranscriptText:"Hide transcript"},be=a=>{let{id:n,className:r,classes:s={button:"as-buttonlink",content:""},onClick:i=(()=>{}),assets:o=ye,children:l}=a;const[c,d]=(0,e.useState)(!1),u=t().useId(),m=`${n||u}-transcript`;return t().createElement("div",{className:"rc-videoplayer-transcript"},t().createElement("button",(0,q.A)({className:te()("rc-videoplayer-transcript-btn","icon icon-after",{"icon-chevrondown":!c},{"icon-chevronup":c},s.button,r,K.A.BODY_REDUCED),"aria-controls":m,onClick:e=>{d(!c),i(e,c)},type:"button"},(0,Y.OH)(c?o.hideTranscriptText:o.showTranscriptText))),t().createElement(G.x,{in:c,mountOnEnter:!0,id:m,className:te()("rc-videoplayer-transcript-content",s.content)},l))};i(1954),i(3049);const Ae="rf-dcm-keyfeatures-videoplaying",Se="rf-dcm-keyfeatures-videopaused",we="rf-dcm-keyfeatures-videoended",Te=s.Ez(),Oe=(e,t)=>{const{videoId:a,sectionTitle:n,translatedFragmentText:s,videoTitle:i,showTranscriptText:o,hideTranscriptText:l,posterFrameUrl:c,isStageRevision:d}=e,u=r().get(t,"srcSet.src",c),m=d?"use-credentials":"anonymous",p=Te.isHandheldPhone?u:c,g=[{src:e.src,type:"video/x-m4v"}];e.hlsSrc&&g.push({src:e.hlsSrc,type:me}),e.videoMp4Src&&g.push({src:e.videoMp4Src,type:ue}),e.videoWebmSrc&&g.push({src:e.videoWebmSrc,type:"video/webm"});const h=[];return e.vttSrc&&h.push({src:e.vttSrc,label:e.captionLanguage,srclang:e.captionLangCode}),{sectionTitle:n,crossOrigin:m,videoProps:{id:a,sources:g,tracks:h,poster:p},transcriptProps:{translatedFragmentText:s,videoTitle:i,showTranscriptText:o,hideTranscriptText:l}}},Ne=e=>{const t=e.target;t.classList.remove(we),t.classList.remove(Se),t.classList.add(Ae)},Ce=e=>{const t=e.target;t.classList.remove(Ae),t.classList.add(Se)},_e=e=>{const t=e.target;t.classList.remove(Ae),t.classList.remove(Se),t.classList.add(we)},Ie=e=>{const t=(e.target.closest(".rf-dcm-keyfeatures-item")||e.target.closest(".rf-dcm-keyfeatures-inlinevideo-tile")).querySelector("video");t&&(t.paused?t.play():setTimeout((()=>t.pause()),100))},De=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=(0,ie.A)("keyfeatures/initializeVideoControls");for(let n=e.length-1;n>=0;n-=1){const r=e[n],s=r.nextElementSibling;if(r.addEventListener("play",Ne),r.addEventListener("pause",Ce),r.addEventListener("ended",_e),s.addEventListener("click",Ie),t){const e=r.play();e&&e.catch((e=>{a.error(e)}))}}},Le=e=>{for(let t=e.length-1;t>=0;t-=1){const a=e[t],n=a.nextElementSibling;a.removeEventListener("play",Ne),a.removeEventListener("pause",Ce),a.removeEventListener("ended",_e),n.removeEventListener("click",Ie)}},ke=a=>{let{content:n}=a;const[r,s]=(0,B.A)({observerOptions:{threshold:.5}}),i=t().useRef(null),o=t().useRef([]);return(0,e.useEffect)((()=>{if(i&&i.current&&s){o.current=i.current.querySelectorAll("video");const e=!0;De(o.current,e)}return()=>{Le(o.current)}}),[i,s]),t().createElement("div",{ref:r,className:te()("rf-dcm-keyfeatures-inlinevideo-tile",{"rf-dcm-keyfeatures-inlinevideo-hidden":!s})},t().createElement("div",(0,q.A)({ref:i},(0,Y.OH)(n))))},xe=e=>{let{items:a=[],header:n=null,footer:r=null,options:s={}}=e;const{containerClass:i="",mobileGallery:o=!0}=s,{viewport:l}=(0,U.useGlobalContext)(),c="small"===l,d=t().useRef(),u=t().useRef([]);return t().useEffect((()=>(d.current&&(R.reinit(d.current),u.current=d.current.querySelectorAll("[data-video-customcontrol]"),De(u.current)),()=>{Le(u.current)})),[]),t().createElement("div",{className:te()("rf-dcm-keyfeatures",{"rf-dcm-keyfeatures-small":c},i)},n?t().createElement("div",(0,q.A)({className:"rf-dcm-keyfeatures-heading"},(0,Y.OH)(n))):null,c&&o?t().createElement(V.aT,{items:a,renderItem:(e,a)=>t().createElement(V.t,(0,q.A)({key:a,index:a,className:"rf-dcm-keyfeatures-item"},(0,Y.OH)(e))),classes:{root:"rf-dcm-keyfeatures-gallery"},dotnavProps:{classes:{root:"rf-dcm-keyfeatures-gallery-dotnav"}}}):t().createElement("div",(0,q.A)({className:"row",ref:d},(0,Y.OH)(a.join("")))),r?t().createElement("div",(0,q.A)({className:"rf-dcm-keyfeatures-footer"},(0,Y.OH)(r))):null)},Pe=e=>{let{tiles:a=[],header:n=null,footer:s=null,cssClass:i="",mobileGallery:o=!1}=e;const{viewport:l}=(0,U.useGlobalContext)(),c="small"===l,d=a.find((e=>e.video)),u=r().get(d,"content.transcriptProps");return t().createElement("div",{className:te()("rf-dcm-keyfeatures",{"rf-dcm-keyfeatures-small":c&&!o},{"rf-dcm-keyfeatures-gallery":c&&o},i)},n?t().createElement("div",(0,q.A)({className:"rf-dcm-keyfeatures-heading"},(0,Y.OH)(n))):null,u?t().createElement(be,{id:"demo-video-player-large",assets:{showTranscriptText:u.showTranscriptText,hideTranscriptText:u.hideTranscriptText}},t().createElement("div",{className:"row"},t().createElement("div",{className:"column large-3 small-12"},t().createElement("h3",(0,q.A)({className:"demo-video-player-transcript-title"},(0,Y.OH)(u.videoTitle)))),t().createElement("div",(0,q.A)({className:"demo-video-player-transcript-content column large-9 small-12"},(0,Y.OH)(u.translatedFragmentText))))):null,t().createElement("div",{className:"rf-dcm-keyfeatures-wrapper"},c&&o?t().createElement(V.aT,{items:a,renderItem:(e,a)=>{const{content:n,video:r,cssClass:s,crossOrigin:i,inlineVideo:o}=e;return t().createElement(V.t,{key:a,index:a,className:"rf-dcm-keyfeatures-item"},r?t().createElement("div",{className:te()("column","small-12",s)},t().createElement(ve,(0,q.A)({},n.videoProps,{videoProps:{crossOrigin:i||n.crossOrigin,onError:e=>window.console.log("DCM keyfeatures video player error",e)},className:"rf-dcm-keyfeatures-videoplayer"}))):t().createElement("div",{className:te()("column","small-12",s)},o?t().createElement(ke,{content:n}):t().createElement("div",(0,Y.OH)(n))))},classes:{root:"rf-dcm-keyfeatures-gallery"},dotnavProps:{classes:{root:"rf-dcm-keyfeatures-gallery-dotnav"}}}):t().createElement("div",{className:"row"},a.map((e=>{const{columns:a,content:n,video:r,cssClass:s,crossOrigin:i,id:o,inlineVideo:l}=e;return r?t().createElement("div",{className:te()("column",`large-${a}`,"small-12"),key:o},t().createElement(ve,(0,q.A)({},n.videoProps,{videoProps:{crossOrigin:i||n.crossOrigin,onError:e=>window.console.log("DCM keyfeatures video player error",e)},className:te()("rf-dcm-keyfeatures-videoplayer",s)}))):t().createElement("div",{key:o,className:te()("column",`large-${a}`,"small-12",s)},l?t().createElement(ke,{content:n}):t().createElement("div",(0,Y.OH)(n)))})))),s?t().createElement("div",(0,q.A)({className:"rf-dcm-keyfeatures-footer"},(0,Y.OH)(s))):null)},Re=e=>{let{dataPattern:a="data-react-keyfeatures"}=e;const{current:n}=t().useRef({});return Array.from(document.querySelectorAll(`[${a}]`)).map((e=>{const a=e.getAttribute("data-bootstrap");if(!a)return null;let s=n[a];s||(s=(e=>{let t=r().get(window,e,{});const a=r().get(t,"sections");if(a)if(a.items){const e=Object.keys(a.items).sort().map((e=>a.items[e]));t={...a,items:e}}else{const e=Object.keys(a).sort().map(((e,t)=>{const{content:n,video:r,size:s,columns:i,cssClass:o,mowPosterImage:l,inlineVideo:c}=a[e],d=s?s.replace("of12",""):12;return{id:t,content:r?Oe(n,l):n,video:r,columns:i||d,cssClass:o,inlineVideo:c}}));t={...t,tiles:e}}return t})(a),n[a]=s);const i=s.tiles?Pe:xe;return F().createPortal(t().createElement(i,s),e)}))};i(5141);window.asMetrics;var Me=i(791),Fe=i(6300);const He=e=>{const t=r().get(window,e,{}),{video:a={},sections:n,className:s,header:i,videoId:o}=t,l=o?t:a,c=r().get(n,"assets",{}),{sectionTitle:d,sectionFooter:u,translatedFragmentText:m,videoTitle:p,showTranscriptText:g,hideTranscriptText:h}=l;return{sectionTitle:d||i,sectionFooter:u,className:s,assets:c,videoProps:(0,Fe.o4)(l),transcriptProps:{translatedFragmentText:m,videoTitle:p,showTranscriptText:g,hideTranscriptText:h}}},Ue=e=>{let{sectionTitle:a,sectionFooter:n,className:r,videoProps:s,transcriptProps:i}=e;const[o,l]=(0,B.A)({}),{translatedFragmentText:c,showTranscriptText:d,hideTranscriptText:u}=i;return t().createElement($.A,null,t().createElement("div",{className:"rf-dcm-video-container",ref:o},l?t().createElement(t().Fragment,null,t().createElement("div",{className:te()("rf-dcm-video-player-wrapper",r)},a?t().createElement("h2",(0,q.A)({className:"rf-dcm-video-player-title"},(0,Y.OH)(a))):null,t().createElement(Fe.L9,(0,q.A)({},s,{className:"rf-dcm-video-player"}))),n&&t().createElement("div",(0,q.A)({className:"rf-dcm-video-footer"},(0,Y.OH)(n))),c?t().createElement("div",{className:"rf-dcm-video-transcript"},t().createElement(Fe.Rt,{assets:{showTranscriptText:d,hideTranscriptText:u,transcriptContent:c},showDownloadLink:!0},t().createElement("div",{className:"row"},t().createElement("div",(0,q.A)({className:"rf-dcm-video-transcript-content column large-12 small-12"},(0,Y.OH)(c)))))):null):null))},$e=e=>{let{dataPattern:a="data-react-videoplayer"}=e;const{current:n}=t().useRef({});return Array.from(document.querySelectorAll(`[${a}]`)).map((e=>{const a=e.getAttribute("data-bootstrap");if(!a)return null;let r=n[a];if(!r){if(r=He(a),!r.videoProps.src)return null;n[a]=r}return F().createPortal(t().createElement(Ue,r),e)}))};var Be=i(5284);let Ve={};const Ye="data-dcm-tabs",qe="data-dcm-tabs-content",je="data-dcm-tabs-tab",Ge="data-dcm-tabs-tab-selected",We="data-dcm-tabs-index",ze="data-dcm-tabs-timeout",Ke="data-dcm-metrics",Qe="data-dcm-tabs-page-metrics",Je="data-dcm-tabs-init",Ze="rc-dcm-tabs-fetching",Xe=()=>(Math.random()+1).toString(36).substring(7),et=(e,t,a,n)=>{let r=0;t.forEach(((t,a)=>{t===e?(t.setAttribute(Ge,!0),t.setAttribute("tabindex",0),r=a):(t.removeAttribute(Ge),t.setAttribute("tabindex",-1)),t.setAttribute("aria-selected",t===e)})),n.setAttribute(We,r),a.setAttribute("aria-labelledby",e.id)},tt=(e,t,a,n,r)=>{setTimeout((()=>{let r=a.childNodes[0];r&&r.hasAttribute&&r.hasAttribute("data-dcm-tabs-anim")?r.innerHTML=`<div>${e}<div>`:(a.innerHTML=`<div data-dcm-tabs-anim=""><div>${e}<div></div>`,r=a.childNodes[0]),setTimeout((()=>{const e=r?r.childNodes[0]:null,s=e?e.getBoundingClientRect().height:"";r.style.height=`${s}px`,r.classList.remove(Ze),nt(a),n&&(e=>{let t=e.getAttribute(`${Ke}`);t&&window.asMetrics&&(t=t.toLowerCase().trim(),window.asMetrics.triggerPageHasLoaded&&window.asMetrics.triggerPageHasLoaded({beacon:{pageName:`AOS: ${t}`}}))})(t),window.asMetrics&&window.asMetrics.reset&&window.asMetrics.reset(),R.init()}),10),setTimeout((()=>{r.style.height=""}),500)}),r)},at=(e,t,a,n)=>{const r=e.getAttribute(je)||e.getAttribute("href"),s=a.hasAttribute(`${ze}`)?parseInt(a.getAttribute(`${ze}`),10):0,i=!n&&a.hasAttribute(`${Qe}`);if(s>0&&t.childNodes[0]&&t.childNodes[0].childNodes[0]){const e=t.childNodes[0],a=t.childNodes[0].childNodes[0];e.classList.add(Ze),e.style.height=`${a.getBoundingClientRect().height}px`}Ve[r]?tt(Ve[r],e,t,i,s):r?(0,Be.u9)(r).then((e=>e.text())).then((a=>{Ve={...Ve,[r]:a},tt(a,e,t,i,s)})).catch((()=>{tt("",e,t,i,s);const a=t.childNodes[0];a&&a.classList.remove(Ze)})):tt("",e,t,i,s)},nt=e=>{[...e.querySelectorAll(`[${Ye}]`)].forEach((e=>{if(!e.hasAttribute(Je)){e.setAttribute(Je,!0);const t=[...e.querySelectorAll(`[${je}]`)],a=e?e.querySelector(`[${qe}]`):null,n=t.find((e=>e.hasAttribute(Ge)))||t[0];n&&(((e,t,a)=>{let n="";const s=`data-dcm-id-${Xe()}`,i=a[0]&&a[0].closest("ul")||e;i.setAttribute("role","tablist"),t&&(t.setAttribute("role","tabpanel"),t.id?n=t.id:(t.id=s,n=s)),a.forEach((e=>{if(e){e.setAttribute("role","tab"),e.setAttribute("aria-controls",n),e.id||(e.id=`data-dcm-id-${Xe()}`);const t=e.closest("li");t&&t.setAttribute("role","presentation")}}));const o=r().debounce((n=>{at(a[n],t,e)}),100),c=a.length;let d,u;i.addEventListener("keydown",(n=>{switch(n.keyCode){case l.HP.ArrowRight:n.preventDefault(),d=parseInt(e.getAttribute(We),10),u=d<c-1?d+1:0,et(a[u],a,t,e),a[u].focus(),o(u);break;case l.HP.ArrowLeft:n.preventDefault(),d=parseInt(e.getAttribute(We),10),u=d>0?d-1:c-1,et(a[u],a,t,e),a[u].focus(),o(u)}}))})(e,a,t),et(n,t,a,e),at(n,a,e,!0))}}))},rt=r().debounce((e=>{const t=e.target;let a=null;if(t.hasAttribute(je)?a=t:t?.parentNode?.hasAttribute?.(je)&&(a=t.parentNode),a){e.preventDefault();const n=t.closest(`[${Ye}]`);if(n){const e=n.querySelector(`[${qe}]`),t=[...n.querySelectorAll(`[${je}]`)];a&&(et(a,t,e,n),at(a,e,n))}}}),300);window.addEventListener("click",(e=>{rt(e)})),window.addEventListener("keydown",(e=>{e.keyCode===l.HP.Space&&rt(e)})),window.addEventListener("DOMContentLoaded",(()=>{nt(document)}));const st=e=>{let{id:a,title:n,content:r,qrCodes:s,showBullets:i=!1,isSimpleFragment:o=!1}=e;return t().createElement("div",{className:te()("rc-pdsection-panel",`${a}-panel`,"row")},t().createElement("div",{className:"rc-pdsection-sidepanel column large-3 small-12"},n&&t().createElement("h3",(0,q.A)({"data-autom":"sectionTitle",className:te()("rc-pdsection-title",K.A.LABEL)},(0,Y.OH)(n)))),t().createElement("div",{className:te()("rc-pdsection-mainpanel","column","large-9","small-12",{"rc-pdsection-mainpanel-nobullets":!i,"rc-pdsection-mainpanel-simple-fragment":o})},t().createElement("div",(0,Y.OH)(r)),s&&t().createElement("div",{className:"rc-pdsection-gallery"},t().createElement(V.aT,{items:s,renderItem:(e,a)=>t().createElement(V.t,{addDisabled:!1,key:a,className:"rc-pdsection-gallery-item"},t().createElement("div",(0,Y.OH)(e))),paddlenavProps:{elevated:!1}}))))};var it=i(2684);const ot=e=>{let{bootstrap:a,part:n}=e;const s=r().get(a,"productInfoComplianceUrl",""),i=r().get(a,"productInfoComplianceParam.product","product"),[o,l]=t().useState(r().get(a,"content.sectionContent")?r().get(a,"content"):null);return t().useEffect((()=>{s&&n&&((e,t)=>{const a=it.extendUrlQuery(e,t),n=(0,ie.A)("productInformation/useProductInfoComplianceData/fetchProductInfoComplianceData");return(0,Be.hI)(a).then((e=>r().get(e,"body",{}))).catch((e=>n.error(e)))})(s,{[`${i}`]:n}).then((e=>l(r().get(e,"content"))))}),[s,i,n]),o};i(3797),i(7259);var lt=i(3530),ct=i(6663),dt=i(6884);const ut=r().get(window,"asMetrics.sendUserInteraction"),mt=r().get(window,"asMetrics.overlay.onLinkClicked"),pt=r().get(window,"asMetrics.overlay.onOverlayClosed"),gt=(e,t)=>{mt?mt(e,t):((e,t)=>{const{slot:a=""}=t;let n={};const r=e.getAttribute("data-display-name")||e.text,s=e.getAttribute("data-installment-link-section"),i=e.getAttribute("data-installment-name");n=s&&i?{eVar6:`D=pageName+" | ${s} | learn more - ${i} || open modal"`,prop3:`"open modal | ${i} | ${s} |"+pageName`}:{eVar6:`D=pageName+"|${a}|${r}||Selected"`};ut&&ut({name:"metrics",beacon:n})})(e,t)},ht=e=>{const t=e.closest("[data-analytics-region]");return t&&t.dataset.analyticsRegion},ft=a=>{let{dataPattern:n="data-ase-loader",footerDataPattern:r="data-hide-footer",closeOverlayDataPattern:s="data-close-overlay",footerContent:i,metrics:o={},disableMetrics:c,fixedWidth:d=!0,disableVideoPause:u,onContentLoaded:m=(e=>e),onAnchorClick:p=(()=>{}),...g}=a;const[h,f]=(0,e.useState)(!1),[E,v]=(0,e.useState)({}),y=(0,e.useRef)(!1),b=(0,e.useRef)({}),A=(0,e.useRef)(null),[S,w]=(0,e.useState)({response:null,error:null}),T=(0,e.useId)(),[O,N]=(0,e.useState)(T),[C,_]=(0,e.useState)(!0),I=C&&Boolean(i),D=(0,e.useRef)(!1),L=()=>{const e=A.current;if(e){const t=e.querySelector("h2");t&&(t.id?N(t.id):(t.setAttribute("id",T),N(T)))}};(0,e.useEffect)((()=>{S.response&&m(D.current)}),[S.response]);const k=e=>{const t=e.target,a=t.closest(`[${s}]`),i=t.closest(`[${n}]`);if(a)f(!1),c||(e=>{pt&&pt(e)})(a);else if(i){e.preventDefault(),w({response:""});const t=i.getAttribute("href"),a=i.getAttribute("data-ase-loader-nocache");D.current=i.hasAttribute("data-ase-rerender");const n=(e=>Boolean(b.current[e]))(t);(e=>{e.hasAttribute(r)?_(!1):_(!0)})(i);const s=(e=>e?{wide:Boolean(e.getAttribute("data-prop-wide")),isFullscreen:e.hasAttribute("data-prop-fullscreen"),"data-analytics-content-id":e.getAttribute("href"),"data-analytics-link-region":ht(e)}:{})(i);a||!n?((e,t)=>{const a=(0,ie.A)("overlay-loader/handleAnchorClick/fetchData");(0,Be.u9)(e).then((e=>e.text())).then((a=>{w({response:a}),b.current={...b.current,[e]:a},f(!0),v(t),L()})).catch((e=>{w({error:e}),a.error(e)}))})(t,s):(w({response:b.current[t]}),f(!0),v(s),L()),c||gt(i,o),p(e)}};return(0,Me.A)("click",(e=>{k(e)})),(0,Me.A)("keydown",(e=>{e.keyCode===l.HP.Space&&k(e)})),(0,e.useEffect)((()=>{const{current:e}=A,{current:t}=y;if(!u&&!h&&t&&e){e.querySelectorAll("video").forEach((e=>e.pause()))}y.current=y.current||h}),[h,u]),t().createElement(dt.A,(0,q.A)({visible:h,ariaLabel:O,onClose:()=>{f(!1),D.current=!1},footerContent:I&&("string"==typeof i?t().createElement("div",(0,Y.OH)(i)):t().createElement(t().Fragment,null,i)),fixedWidth:d},E,g),t().createElement("div",(0,q.A)({className:"rc-overlay-loader-content"},(0,Y.OH)(S.response),{ref:A})))},Et="rc-installments-continueshop-link",vt="rc-installment-overlay-close",yt="continue shopping",bt="close overlay",At="installments",St=(e,t,a)=>{window.asMetrics.fireMicroEvent({feature:t,eVar:"eVar6",action:a,...e})},wt=e=>{let{dataPattern:a="data-ase-installment-loader",metrics:n={},...r}=e;return(0,Me.A)("click",(e=>{e.target.classList.contains(vt)&&St(n,At,bt),e.target.classList.contains(Et)&&St(n,At,yt)})),t().createElement(ft,(0,q.A)({dataPattern:a,classes:{content:"rc-installment-overlay-content as-installments",close:"rc-installment-overlay-close"},metrics:n},r))},Tt=Object.freeze({OPEN_OVERLAY:"open_overlay",CLOSE_OVERLAY:"close_overlay"}),Ot=(e,t)=>{switch(t.type){case Tt.OPEN_OVERLAY:return{...e,...t.payload,overlayVisible:!0};case Tt.CLOSE_OVERLAY:return{...e,overlayVisible:!1};default:return{...e}}},Nt=()=>{const[t,a]=(0,e.useReducer)(Ot,{overlayVisible:!1});return[t,e=>{(e=>{const t=(0,ie.A)("simple-installment-overlay/useSimpleInstallmentOverlay/fetchOverlayData");return(0,Be.hI)(e).then((e=>r().get(e,"body",{}))).catch((e=>t.error(e)))})(e).then((e=>a({type:Tt.OPEN_OVERLAY,payload:e.installmentOverlay})))},()=>{a({type:Tt.CLOSE_OVERLAY})}]},Ct=e=>{let{data:a}=e;const{heading:n,productTitle:s,total:i,showOverlayContent:o,showIfiDetailsInOverlayFooter:l,installmentOptionsForDisplay:c,footerDisplay:d,linkLearnMore:{url:u,text:m}}=a,p=r().get(c,"items",[]);return t().createElement("div",{id:"installment-overlay-content"},t().createElement("div",{className:"header"},n&&t().createElement("h2",(0,Y.OH)(n)),s&&t().createElement("p",(0,q.A)({className:"product-title"},(0,Y.OH)(s))),i&&t().createElement("div",(0,q.A)({className:"product-price"},(0,Y.OH)(i)))),o&&t().createElement(t().Fragment,null,t().createElement("div",{className:"overlay-content"},t().createElement("div",{className:"row container"},p.map(((e,a)=>{let{value:n}=e;return t().createElement("div",{className:"column large-4 small-12",key:`column-${a}`},t().createElement("ul",{className:"columns"},n.map((e=>{let{text:a}=e;return t().createElement("li",{key:a},t().createElement("span",(0,Y.OH)(a)))}))))})))),t().createElement("div",{className:"overlay-footer"},t().createElement("div",{className:"percentage"},l&&t().createElement("span",(0,Y.OH)(d)),t().createElement("div",{className:"learn-more-installments"},u&&t().createElement("a",{href:u,rel:"noreferrer",target:"_blank"},t().createElement("span",(0,Y.OH)(m))))))))},_t=e=>{let{el:t,metrics:a}=e;const n=t.getAttribute("data-display-name"),r=t.getAttribute("data-installment-link-section"),s=t.getAttribute("data-installment-name");let i=null;r&&s&&(i={},i.section=r,i.name=s),((e,t,a)=>{const{slot:n=""}=e;let r={};r=a?{eVar6:`D=pageName+" | ${a.section} | learn more - ${a.name} || open modal"`,prop3:`"open modal | ${a.name} | ${a.section} |"+pageName`}:{eVar6:`D=pageName+"|${n}|${t}||Selected"`},window.asMetrics.sendUserInteraction({name:"metrics",beacon:r})})(a,n||t.text,i)},It=e=>{let{dataPattern:a="data-simple-installment-overlay",metrics:n,ariaLabel:r,footerContent:s,...i}=e;const[o,l,c]=Nt();return(0,Me.A)("click",(e=>{let t=e.target;const r=t.parentElement;!t.getAttribute(a)&&r&&(t=r);if(t.matches(`[${a}='installment-info-overlay-loader']`)){e.preventDefault();const a=t.getAttribute("href");a&&(l(a),_t({el:t,metrics:n}))}})),o?t().createElement(dt.A,(0,q.A)({visible:o.overlayVisible,isFullscreen:o.isHandheldPhone,className:"rf-simple-installment-overlay",onClose:c,ariaLabel:r,footerContent:"string"==typeof s?t().createElement("div",(0,Y.OH)(s)):t().createElement(t().Fragment,null,s),contentAttrs:{className:"rf-simple-installment-overlay-content"}},i),t().createElement(Ct,{data:o})):null},Dt=a=>{let{content:n,staticContent:s,delay:i=700,noAnimation:o,forceHideBanner:l=!1,className:c,...d}=a;const[u,m]=(0,e.useState)(!1),[p,g]=(0,e.useState)(s?[...s]:[]),[h,f]=(0,e.useState)(0),[E,v]=(0,e.useState)(!1);(0,e.useEffect)((()=>{n&&g([...p,n])}),[n]),(0,e.useEffect)((()=>{if((n||!r().isEmpty(s))&&!u){setTimeout((()=>{m(!0)}),o?0:i)}}),[n,s]);const y=p&&p.length,b=(0,e.useRef)(y);(0,e.useEffect)((()=>{h>=y-1&&v(!0),y>b.current&&(h<y-1&&v(!1),b.current=y)}),[h,y]);const A=!E&&y>1,S=t().createElement("div",{className:"ribbon-content-wrapper"},t().createElement("div",{className:"ribbon-content rc-ribbon-content-container row"},y&&t().createElement("div",{className:"column large-12 small-12 large-centered"},t().createElement("div",{className:te()("rc-ribbon-content",{"with-paddlenav":y>1})},t().createElement(V.aT,{index:h,onChange:e=>f(e),items:p,dotnav:!1,paddlenav:y>1,paddlenavProps:{framed:!1,classes:{previous:"paddlenav",next:"paddlenav"}},swipableProps:{trackTouch:!0},infinite:!0,autoScroll:A,transitionDuration:1e3,classes:{root:"rc-ribbon-content-autoscroll",gallery:"rc-ribbon-content-gallery",scroller:"rc-ribbon-content-scroller"},renderItem:(e,a,n)=>{let{pageIndex:r}=n;return t().createElement(V.t,{key:`${e}_${r}`,id:`ribbon_${a}_${r}`,index:a,addDisabled:!1,className:"rc-ribbon-gallery-item"},t().createElement("div",(0,q.A)({className:te()("rc-ribbon-content-item-base",`rc-ribbon-content-item-${a}`,{"rc-ribbon-content-item":y>1})},(0,Y.OH)(e))))}})))));return t().createElement("div",(0,q.A)({className:te()("rc-ribbon ribbon",{"ribbon-blue-to-default":!o,"rc-ribbon-hide":!u||l},c),"data-analytics-region":"banner"},d),o?S:t().createElement("div",{className:"ribbon-drop-wrapper"}," ",S," "))},Lt=e=>{let{id:a="rotating-promo-banner",...n}=e;const r=document.getElementById(a);return r?F().createPortal(t().createElement(Dt,n),r):t().createElement(Dt,n)},kt=e=>{const{header:a,affordabilityOverlaySections:n}=e,{emiContent:s,cashbackContent:i,tradeinContent:o}=r().get(n.items[0],"value");return t().createElement("div",{className:"rf-affordability-overlay"},t().createElement("div",(0,q.A)({className:"rf-affordability-header"},(0,Y.OH)(a))),t().createElement("ul",{className:"rf-affordability-content"},i?t().createElement("li",(0,q.A)({className:"rf-affordability-item"},(0,Y.OH)(i))):null,s?t().createElement("li",(0,q.A)({className:"rf-affordability-item"},(0,Y.OH)(s))):null,o?t().createElement("li",(0,q.A)({className:"rf-affordability-item"},(0,Y.OH)(o))):null))};var xt=i(1265),Pt=i(4067),Rt=i(9138),Mt=i(8595),Ft=i(4168);const Ht=e=>{let{bankData:a,bankDetails:n,selectedBank:r,isSingleBank:s,tableCaption:i}=e;const{viewport:o}=(0,U.useGlobalContext)(),{tableColumnNames:l,ignoreTableColumnsOrderList:c,tableColumnsOrderList:d=[]}=a;let u;if(r&&!s){const e=n.find((e=>e.name===r));u=e?e.installmentsOptions:null}else s&&(u=n[0]?.installmentsOptions||null);if(!u)return null;const m=te()("rf-emicalculator-tablewrapper",{"rf-emicalculator-tablegrouped":c,"rf-emicalculator-nogroup":!c});return t().createElement("div",null,t().createElement("table",{className:m,"aria-labelledby":"calculator-table-header"},i&&t().createElement("caption",(0,q.A)({className:"visuallyhidden"},(0,Y.OH)(i))),t().createElement("thead",null,t().createElement("tr",{className:"rf-emicalculator-duration"},l.map((e=>t().createElement("th",{scope:"col",className:`rf-emicalculator-headings ${xt.A.BODY_REDUCED}`,key:e},e))))),t().createElement("tbody",null,u.map((e=>t().createElement("tr",{className:"rf-emicalculator-tablerow",key:e.termsText},c?t().createElement(t().Fragment,null,t().createElement("td",{className:"rf-emicalculator-data"},e.noCostEMI?t().createElement("div",{className:`rf-financeoverlay-nocost-emi ${xt.A.BODY_REDUCED}`},e.noCostEMIText):null,e.specialOffersText?t().createElement("div",{className:`rf-financeoverlay-specialoffers-text ${xt.A.BODY_REDUCED}`},e.specialOffersText):null,t().createElement("div",{className:`rf-emicalculator-term ${xt.A.TOUT}`},e.termsText),e.emiDesc&&t().createElement("div",(0,q.A)({className:`rf-emicalculator-desc ${xt.A.BODY_REDUCED}`},(0,Y.OH)(e.emiDesc)))),t().createElement("td",{className:"rf-emicalculator-data"},e.monthlyAmount?t().createElement(t().Fragment,null,t().createElement("div",(0,q.A)({className:"rf-financeoverlay-installment"},(0,Y.OH)(e.monthlyAmount))),e.totalSavingsText&&t().createElement("div",(0,q.A)({className:"rf-financeoverlay-savings"},(0,Y.OH)(e.totalSavingsText)))):null)):t().createElement(t().Fragment,null,d.map(((a,n)=>t().createElement("td",{key:l[n],className:"rf-emicalculator-data"},t().createElement("div",{className:te()("rf-emicalculator-dataheader",{[xt.A.BODY_REDUCED]:"small"===o})},l[n]),t().createElement("div",{className:`rf-emicalculator-${a}`},e[a])))))))))))},Ut=e=>{let{data:a={}}=e;const{viewport:n}=(0,U.useGlobalContext)(),{header:r=[],rows:s=[]}=a;return t().createElement("div",null,t().createElement("table",{className:"rf-emicalculator-tablewrapper rf-loancalculator-tablewrapper rf-emicalculator-nogroup"},t().createElement("thead",null,t().createElement("tr",{className:"rf-emicalculator-duration"},r.map((e=>t().createElement("th",(0,q.A)({key:e,scope:"col",className:"rf-emicalculator-headings rf-loancalculator-headings"},(0,Y.OH)(e))))))),t().createElement("tbody",null,s.map(((e,a)=>t().createElement("tr",{key:a,className:"rf-emicalculator-tablerow"},e&&e.map(((e,a)=>t().createElement("td",{key:r[a],className:"rf-emicalculator-data rf-loancalculator-data"},t().createElement("div",(0,q.A)({className:te()("rf-emicalculator-dataheader",{[xt.A.BODY_REDUCED]:"small"===n})},(0,Y.OH)(r[a]))),t().createElement("div",(0,q.A)({className:"rf-emicalculator-value"},(0,Y.OH)(e))))))))))))},$t=()=>{window.asMetrics&&window.asMetrics.fireMicroEvent({eVar:"eVar6",page:window.s.pageName,slot:"Step 1 - Link",feature:"Financing link",action:"Selected"})},Bt=e=>{const t=`Financing|${e}|Calculate`;window.asMetrics&&window.asMetrics.sendUserInteraction({name:t,beacon:{eVar6:`D=pageName+"|Step 1|${t}"`}})},Vt="amount",Yt=a=>{let{bankDetails:n,formIdx:s=0,formProps:i}=a;const{isSingleBankOption:o,isLoanFinancing:l,selectLabel:c,buttonLabel:d,label:u,url:m,onCalulateClick:p,currencySymbol:g,loanData:h,bankData:f,amountRequiredErrorMessage:E,maximumAmount:v,minimumAmount:y,amountRangeErrorMessage:b,amountRegex:A,loanAmount:S,setLoanAmount:w,tableCaption:T}=i,{viewport:O}=(0,U.useGlobalContext)(),N="small"===O,C=r().find(n,{default:!0}),_=r().get(C,"name",null),I=r().get(n,"0.name",null),D=r().get(f,"singleIssuerEnabled",null),L=_||I,[k,x]=(0,e.useState)(L),{initialValues:P,validationSchema:R}=t().useMemo((()=>((e,t,a,n,r,s)=>{const i={[Vt]:s||""},o={};return o[Vt]=[],o[Vt].push({type:"required",message:e}),o[Vt].push({type:"range",restrictions:{maxVal:t,minVal:a},message:n}),r&&o[Vt].push({type:"regex",regEx:[r],message:n}),{initialValues:i,validationSchema:o}})(E,v,y,b,A,S)),[]),{values:M,handleChange:F,errors:H,setValues:$}=(0,Ft.A)({initialValues:P,validationSchema:R});return t().useEffect((()=>{$({[Vt]:S})}),[S]),t().createElement(t().Fragment,null,t().createElement("div",{className:te()("rf-emicalculator-form",{"rf-emicalculator-singlebank-form":D})},t().createElement("div",{className:te()("rf-emicalculator-formtextbox row",{"form-textbox-sidebyside":!N})},!(o||l)&&t().createElement("div",{className:"rf-emicalculator-dropdowns column"},t().createElement(Pt.A,{id:`rf-emicalculator-dropdown-${s}`,name:"rf-emicalculator-dropdown",onChange:e=>x(e.target.value),label:c,value:k},n.map((e=>t().createElement(Rt.A,{value:e.name,key:e.name},e.name))))),t().createElement("div",{className:te()("rf-emicalculator-amount column",{"rf-emicalculator-singlebank-amount":D})},t().createElement(Mt.A,{type:"text",name:Vt,label:u,value:M[Vt],onChange:F,autoComplete:"off",error:H[Vt],countryCode:g})),t().createElement("div",{className:te()("rf-emicalculator-button column",{"rf-emicalculator-singlebank-button":D})},t().createElement("button",{className:"button button-block button-super",type:"button",onClick:()=>{H[Vt]||(p(m,M[Vt]),w(M[Vt])),Bt(k)}},d)))),l&&t().createElement(Ut,{data:h}),!l&&t().createElement(Ht,{tableCaption:T,bankData:f,bankDetails:n,selectedBank:k,isSingleBank:D}))},qt=a=>{const{headerTitle:n,headerSubTitle:s,specialOffersContent:i,formHeaderTitle:o,emiTermsFooter:l,amountLabel:c,amount:d,calculateButtonLabel:u,calculateUrl:m,bankData:p={},selectLabel:g,onCalulateClick:h,amountRegex:f,amountRangeErrorMessage:E,maximumAmount:v,minimumAmount:y,amountRequiredErrorMessage:b,currencySymbol:A,isSingleBankOption:S=!1,isLoanFinancing:w=!1,data:T={},tableCaption:O}=a,{viewport:N}=(0,U.useGlobalContext)(),C=r().get(p,"creditDebitBankList",[]),[_,I]=(0,e.useState)(d),D={isSingleBankOption:S,isLoanFinancing:w,selectLabel:g,buttonLabel:u,label:c,url:m,onCalulateClick:h,currencySymbol:A,loanData:T,bankData:p,amountRequiredErrorMessage:b,maximumAmount:v,minimumAmount:y,amountRangeErrorMessage:E,amountRegex:f,loanAmount:_,setLoanAmount:I,tableCaption:O};return t().createElement("div",{className:"rf-emicalculator"},t().createElement("h2",{className:`rf-emicalculator-header ${xt.A.HEADLINE}`,id:"rf-emicalculator-header"},n),s&&t().createElement("div",null,t().createElement("p",(0,q.A)({className:"rf-emicalculator-info"},(0,Y.OH)(s)))),i&&t().createElement("div",(0,q.A)({className:"rf-emicalculator-financing-options-wrapper"},(0,Y.OH)(i))),o&&t().createElement("h3",{className:"rf-emicalculator-formheader",id:"calculator-table-header"},o),C&&C.length>1&&t().createElement(se.Ay,{count:C.length,className:te()("rf-emicalculator-tabcontainer")},t().createElement(se.jl,{items:C.map((e=>t().createElement("span",(0,q.A)({key:e.title},(0,Y.OH)(e.title))))),keys:C.map((e=>`tabnav-${e.title}`)),classes:{root:"rf-emicalculator-tabnav",item:"rf-emicalculator-tabnav-item",link:te()("rf-emicalculator-button button button-tertiary-neutral",{[xt.A.BODY_REDUCED]:"small"===N})}}),t().createElement(se.T2,null,C.map(((e,a)=>t().createElement(se.Kp,{index:a,key:e.title},t().createElement(Yt,{formProps:D,bankDetails:e.bankDetails,formIdx:a})))))),C&&1===C.length&&t().createElement("div",null,t().createElement(Yt,{formProps:D,bankDetails:r().get(C,"[0].bankDetails",[])})),t().createElement("div",(0,q.A)({className:`rf-emicalculator-legalfooter ${xt.A.CAPTION}`},(0,Y.OH)(l))))},jt=Object.freeze({OPEN_OVERLAY:"open_overlay",CLOSE_OVERLAY:"close_overlay",UPDATE:"update"}),Gt=Object.freeze({AFFORDABILITY:"affordability",EMI:"emi",LOAN:"loan",CCI:"cci"}),Wt=(e,t)=>{const a=r().get(e,"content.bankData",{});let n={};switch(t.type){case jt.OPEN_OVERLAY:return n=r().get(t,"payload.loanCalculatorData",{}),r().isEmpty(n)?{...e,...t.payload,overlayVisible:!0}:{...e,type:Gt.LOAN,isLoanFinancing:!0,overlayVisible:!0,...n};case jt.CLOSE_OVERLAY:return{...e,overlayVisible:!1};case jt.UPDATE:return e.isLoanFinancing?{...e,content:{...e.content,...t.payload}}:{...e,content:{...e.content,bankData:{...a,...t.payload}}};default:return{...e}}},zt=()=>{const[t,a]=(0,e.useReducer)(Wt,{overlayVisible:!1}),n=e=>{const t=it.extendUrlQuery(e,{});return(0,Be.hI)(t).then((e=>r().get(e,"body",{}))).catch((e=>ie.A.error(e)))};return[t,e=>{n(e).then((e=>a({type:jt.OPEN_OVERLAY,payload:e})))},()=>{a({type:jt.CLOSE_OVERLAY})},(e,t)=>{const r=it.extendUrlQuery(e,{ca:t});n(r).then((e=>{a({type:jt.UPDATE,payload:e})}))}]},Kt=a=>{const{headerTitle:n,headerSubTitle:s,bankData:i,selectLabel:o,cancellationPolicyText:l,cancellationPolicyLabel:c,orderMinimumLabel:d,isRenderedInOverlay:u=!1,momoOverlayInstallment:m}=a,{creditDebitBankList:p,tableSectionHeader:g,tableColumnNames:h,tableColumnsOrderList:f,tableAriaLabel:E}=i,{title:v,bankDetails:y}=r().get(p,"0",[]),b=r().find(y,{default:!0}),A=r().get(y,"0",{}),S=r().get(b,"name"),[w,T]=(0,e.useState)(S||A?.name),[O,N]=(0,e.useState)(b||A);return t().createElement(t().Fragment,null,u&&m&&t().createElement("div",(0,q.A)({className:"rf-cci-static-content"},(0,Y.OH)(m))),t().createElement("div",{className:te()("rf-cci",{"rf-cci-overlay":u})},t().createElement("h4",{id:"rf-cci-header"},t().createElement("span",(0,Y.OH)(v))),n&&t().createElement("div",(0,q.A)({},(0,Y.OH)(n),{className:te()("rf-cci-header-title",xt.A.EYEBROW_SUPER)})),s&&t().createElement("div",(0,q.A)({},(0,Y.OH)(s),{className:xt.A.BODY})),g&&t().createElement("div",(0,q.A)({},(0,Y.OH)(g),{className:te()(xt.A.CAPTION,"rf-cci-tablesectionheader")})),t().createElement("div",{className:"row"},t().createElement("div",{className:"rf-cci-dropdown column"},t().createElement(Pt.A,{id:"rf-cci-dropdown",name:"rf-cci-dropdown",onChange:e=>{T(e?.target?.value),N(r().find(y,{name:e?.target?.value}))},label:o,value:w},y?.map((e=>t().createElement(Rt.A,{value:e.name,key:e.name},e.name)))))),t().createElement("table",{className:te()("rf-cci-table",xt.A.BODY_REDUCED),"aria-label":E},t().createElement("thead",null,t().createElement("tr",null,h?.map((e=>t().createElement("th",(0,q.A)({key:e,className:te()("rf-cci-table-heading",xt.A.CAPTION)},(0,Y.OH)(e))))))),t().createElement("tbody",null,O?.installmentsOptions?.map((e=>t().createElement("tr",{key:r().get(e,"termsText","")},f?.map((a=>t().createElement("td",(0,q.A)({key:a,className:"rf-cci-table-data"},(0,Y.OH)(r().get(e,a,""))))))))))),t().createElement("div",{className:te()("rf-cci-footnotes",xt.A.CAPTION)},t().createElement("div",{className:"rf-cci-footnote"},c&&t().createElement("span",(0,q.A)({className:"rf-cci-label"},(0,Y.OH)(c))),l&&t().createElement("span",(0,Y.OH)(l))),t().createElement("div",{className:"rf-cci-footnote"},d&&t().createElement("span",(0,q.A)({className:"rf-cci-label"},(0,Y.OH)(d))),t().createElement("span",(0,Y.OH)(r().get(O,"orderMinimumText","")))))))},Qt=a=>{let{dataPattern:n="data-buyflow-financing-overlay",...s}=a;const[i,o]=(0,e.useState)({}),c=r().get(window.pageLevelData,"affordabilityUrl"),[d,u,m,p]=zt(c),{affordabilityOverlay:g,content:h,type:f,serviceError:E="",isLoanFinancing:v}=d,y=r().get(window,"pageLevelData.chat.chatFeature"),b=e=>{const t=e.target.matches(`[${n}='banner']`),a=e.target.matches(`[${n}='link']`);if(t||a){e.preventDefault();const t=e.target.getAttribute("href"),n=a?t:((e,t)=>{if(!e)return t;const a=it.parseUrl(t),n=new URLSearchParams(a.search),r={};return["spn","ece"].forEach((e=>{n.has(e)&&(r[e]=n.get(e))})),it.extendUrlQuery(e,r)})(c,t);o({"data-analytics-content-id":n,"data-analytics-link-region":a?"summary":"banner"}),n&&(u(n),$t())}};(0,Me.A)("click",(e=>{b(e)})),(0,Me.A)("keydown",(e=>{e.keyCode===l.HP.Space&&b(e)}));const A=f===Gt.EMI||f===Gt.LOAN,S=f===Gt.CCI;let w="";return w=A?"rf-emicalculator-header":S?r().get(h,"momoOverlayInstallment","")?"as-financing-overlay-header":"rf-cci-header":"rf-affordability-header",t().createElement(t().Fragment,null,d?t().createElement(dt.A,(0,q.A)({visible:d.overlayVisible,isFullscreen:d.isHandheldPhone,className:"rf-financing-overlay",noPadding:A&&!E,onClose:m,ariaLabel:w,mountOnEnter:!0,unmountOnExit:!0,footerContent:y&&t().createElement("div",(0,q.A)({className:"rf-overlay-chat-withbackgroundfooter"},(0,Y.OH)(y))),contentAttrs:{className:"rf-financing-overlay-content"}},i,s),f===Gt.AFFORDABILITY?t().createElement(kt,g):null,A?t().createElement("div",{className:"rf-emicalculator-overlay"},t().createElement(qt,(0,q.A)({},h,{isLoanFinancing:v,onCalulateClick:p}))):null,S?t().createElement(Kt,(0,q.A)({},h,{isRenderedInOverlay:S})):null,E?t().createElement("div",null,E):null):null)};var Jt=i(4441),Zt=i(6444);const Xt={SMALL:"small",MEDIUM:"medium",LARGE:"large",XLARGE:"xlarge"},ea=e=>{let{current:a={},hasNext:n,onFinished:s=(()=>{}),className:i,CSSTransitionProps:o={},classes:l={},noCloseButton:c,...d}=e;const[u,m]=t().useState(!1),p=t().useRef(!1),g=t().useRef(null),{viewport:h}=(0,oe.S)(),f=h===Xt.SMALL,{id:E,content:v,timeout:y=2e3,persist:b,attrs:A}=a,S=t().useRef(v);t().useEffect((()=>{v?(m(!0),S.current=v):(m(!1),clearTimeout(g.current))}),[E,v]),t().useEffect((()=>{p.current&&n&&(p.current=!1,m(!1))}),[n]);const{onEntered:w=(()=>{}),onExited:T=(()=>{}),...O}=o;return t().createElement("div",(0,q.A)({className:te()("rc-notification",i,l.root),"data-autom":"notification-ribbon"},d),t().createElement(G.A,(0,q.A)({in:u,timeout:700,onEntered:()=>{const e=document.getElementById("notification-portal");e&&e.classList.add("rc-notification-visible"),g.current=setTimeout((()=>{!b||n?m(!1):p.current=!0}),y),w()},onExited:()=>{const e=document.getElementById("notification-portal");e&&e.classList.remove("rc-notification-visible"),s(),T()}},O),t().createElement("div",{"aria-live":"polite",role:"status"},!b&&S.current&&t().createElement("div",{className:"rc-notification-container"},t().createElement("div",{className:te()(l.content,"rc-notification-content row",K.A.BODY_REDUCED)},t().createElement("div",(0,q.A)({className:"large-10 small-9"},(0,Y.OH)(S.current))))),b&&S.current&&t().createElement("div",{className:"rc-notification-container"},t().createElement("div",{className:te()(l.contentWrapper,"rc-notification-wrapper")},t().createElement("div",{className:te()(l.content,"rc-notification-content row")},t().createElement("div",(0,q.A)({className:"large-10 small-9"},(0,Y.OH)(S.current)))),!c&&t().createElement("button",{className:te()(l.iconButton,"icon icon-reset rc-notification-close",f?K.A.INTRO_ELEVATED:K.A.QUOTE_REDUCED),type:"button",onClick:()=>{const e=r().get(A,"onCloseButtonClick",(()=>{}));m(!1),e()}},t().createElement("span",{className:"visuallyhidden"},r().get(A,"closeButtonAXText",""))))))))},ta=e=>{if(!e)return{};const{bottom:t}=e;return{top:`${Math.max(t,0)}px`}},aa=e=>{let{className:a,portal:n,...r}=e;return(0,M.createPortal)(t().createElement(ea,(0,q.A)({className:te()("rc-notification-portal",a)},r)),document.getElementById(n||"portal")||document.body)},na=e=>{let{className:a,...n}=e;return t().createElement(aa,(0,q.A)({className:te()("rc-notification-fixed",a)},n))},ra=e=>{let{anchorRef:a,getPosition:n=ta,current:r,...s}=e;const i=(0,Zt.y)(a,{observe:Boolean(r)});return t().createElement(ea,(0,q.A)({style:n(i),current:r},s))},sa=e=>{let{anchorRef:a,portal:n,fixed:r=!0,...s}=e;return a?t().createElement(ra,(0,q.A)({anchorRef:a},s)):n?t().createElement(aa,(0,q.A)({portal:n},s)):r?t().createElement(na,s):t().createElement(ea,s)},ia=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const[a,n]=t().useState(e),[r,s]=t().useState(0);return{current:a[0],hasNext:a.length>1,add:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timeout:2e3,persist:!1};n((a=>[...a,{id:r,content:e,...t}])),s((e=>e+1))},next:()=>n((e=>{let[t,...a]=e;return[...a]})),clear:()=>n([])}};var oa=i(5718),la=i(101),ca=i(1730),da=i(6693),ua=i(2642);function ma(e,t){return+(0,ua.a)(e)==+(0,ua.a)(t)}var pa=i(2251),ga=i(2643),ha=i(2784);const fa=6e4,Ea="FETCH_ENTRY",va="FETCH_RECOMMENDATIONS",ya="FILTER_CHANGED",ba="SHOW_MORE",Aa="PRODUCT_SELECTION",Sa="STORE_SELECTION",wa="STORE_OPEN",Ta="UPDATE",Oa="START_FETCH",Na="APPLY_QUOTES_SORT",Ca="APPLY_RECOMMENDATION_SORT",_a="GET_BY_DATE_CHANGED",Ia="RESET",Da={bootstrap:{},originalProduct:null,selection:{},lastSelection:"",location:{store:null,location:null},getByDate:null,recommendations:[],quotes:{},productData:{},visibleCount:5,isFetching:!1,isError:!1,sortKey:null,dateBoundaries:{}},La=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{availabilityMessageUrl:t,pickupDetailsUrl:a,productRecommendationsUrl:n,shopByAvailabilityVersion:r,showEntryPointUrl:s,userInterestUrl:i,v2ProductRecommendationsUrl:o,v2ShowEntryPointUrl:l,v2UserInterestUrl:c}=e,d=3===r;let u={availabilityMessageUrl:t,pickupDetailsUrl:a,userInterestUrl:c||i};return u=d?{...u,mainEntryUrl:s||l,mainRecommendationsUrl:n||o}:{...u,mainEntryUrl:l,backgroundMainEntryUrl:s,mainRecommendationsUrl:o,backgroundRecommendationsUrl:n},{endpoints:u,isVersion3:d}},ka=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"similarity";return[...e].sort((a=t,(e,n)=>{const s=r().get(e,`sorts.${a}`),i=r().get(n,`sorts.${a}`);return"similarity"!==t&&ma(s,i)?r().get(e,"sorts.similarity")-r().get(n,"sorts.similarity"):null===s?1:null===i?-1:s-i}));var a},xa=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"similarity";const{recommendations:a}=e;return{...e,recommendations:ka(a,t),isFetching:!1,sortKey:t}},Pa=(e,t,a,n)=>{const s=(0,ie.A)("use-product-availability/fetchRecommendations"),{bootstrap:i,endpoints:o,isVersion3:l}=e,c={...t};a&&a.split(",").forEach(((e,t)=>{c[`store.${t}`]=e})),n({type:Oa});const d=it.extendUrlQuery(o.mainRecommendationsUrl,t);if((0,Be.hI)(d,{timeout:fa}).then((e=>{const{productMeta:t,namedTextAssets:a}=e.body||{},s=r().get(t,"identifiers.recommendationId");s&&pa.A.onRecommendationIdChanged(s);const i=r().get(t,"products",[]).length>0;if(t&&i){const{productData:e,originalProduct:s,dropdownData:i,dateBoundaries:l}=(e=>{const t=[],a=r().get(e,"dropdownData"),n=r().get(window,"fulfillmentBootstrap.pickupEnabled");let s={};if(e.dictionaries){const t=r().get(e,"dictionaries.dimensions",{});Object.keys(t).forEach((e=>{Array.isArray(t[e])&&(t[e]=t[e].reduce(((e,t)=>(t.key&&t.text&&(e[t.key]=r().omit(t,"key")),e)),{}))})),s={dimensions:t,productImage:r().get(e,"dictionaries.productImages",{}),price:r().get(e,"dictionaries.prices",{})}}if(e.dimensions){const a=Array.isArray(e.products)?Object.keys(e.products[0].dimensions):[];e.dimensions.forEach((e=>{a.includes(e.key)&&t.push({legend:e.text,key:e.key})}))}const i={...e.originalProduct,partString:(0,ga.Xe)(e.originalProduct)};e.products&&e.products.forEach((e=>{if(!r().isEmpty(e.sorts)){e.sorts.pickupDate=(0,ga.gD)(e.sorts.pickupDate),e.sorts.shipDate=(0,ga.gD)(e.sorts.shipDate),e.sorts.similarity=parseInt(e.sorts.similarity,10);const t=e.sorts.shipDate?(0,ca.o)(e.sorts.shipDate):null,a=e.sorts.pickupDate?(0,ca.o)(e.sorts.pickupDate):null;e.availabilityDate=(0,ga.y6)(t,a)}e.partString=(0,ga.Xe)(e)}));const o={};return e.dateBoundaries?.upper&&(o.upper=(0,ga.gD)(e.dateBoundaries.upper)),e.dateBoundaries?.lower&&(o.lower=(0,ga.gD)(e.dateBoundaries.lower)),a&&!n&&(a.options=a.options.filter((e=>{let{value:t}=e;return"pickupDate"!==t}))),{productData:{dimensions:t,dictionaries:s,products:e.products||[]},dropdownData:a,originalProduct:i,dateBoundaries:o,retailStoreIds:r().get(e,"retailStoreIds")}})(t),c=ka(e.products);n({type:Ta,payload:{originalProduct:s,recommendations:c,productData:e,assets:{...a},isFetching:!1,selection:{},quotes:{},getByDate:null,visibleCount:5,dropdownData:i,dateBoundaries:l}});const d=c.slice(0,5),u=o.availabilityMessageUrl;d.push(s),Ra(d,{},u,n);const m=c.slice(5);Ma(m,u,n)}else n({type:Ta,payload:{isFetching:!1,isError:!0,assets:{...a,errorMessage:r().get(a,"noresults_msg","Error")}}})})).catch((e=>{s.error(e);const t=r().get(window,"PRODUCT_AVAILABILITY_BOOTSTRAP.defaultErrorMessage","Something went wrong. Please try again later.");n({type:Ta,payload:{isFetching:!1,isError:!0,assets:{errorMessage:t}}})})),o.backgroundRecommendationsUrl){const e=it.extendUrlQuery(o.backgroundRecommendationsUrl,c);fetch(e)}return{...Da,isFetching:!0,bootstrap:i,isVersion3:l,endpoints:o}},Ra=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;const i=(0,ie.A)("use-product-availability/fetchQuotes"),o=e.filter((e=>!t[e.partString]));if(o.length>0&&a){const e={};o.forEach(((t,a)=>{const n=Object.values(r().get(t,"options",{}));e[`parts.${a}`]=t.partNumber,n.length&&(e[`option.${a}`]=n.join(","))})),s||n({type:Oa});const t=it.extendUrlQuery(a,e).replace(/%2C/g,",");(0,Be.hI)(t,{timeout:fa}).then((e=>{const{content:t,pickupEnabled:a}=e.body||{};if(t&&t.length>0){const e=t.map((e=>{let t=e.partAvailableStoresCount>0&&e.eligibleStores?e.eligibleStores.split(","):[];t=t.map((t=>({storeId:t,pickupMessage:e.storeId===t?{...e.pickupMessage,storeName:e.storeName}:null,selected:e.storeId===t})));const n=(0,ga.ho)(e.encodedUpperDateString);return{partNumber:e.partNumber,partString:(0,ga.Xe)(e),options:e.options,delivery:e.deliveryMessage,pickup:a?{stores:t,availableMessageLink:e.availableMessageLink,partAvailableStoresCount:e.partAvailableStoresCount,storeId:e.storeId,eligibleStores:e.eligibleStores}:null,availabilityDate:n}}));n({type:Na,quotes:e})}else n({type:Ta,payload:{isFetching:!1,isError:!0}})})).catch((e=>{i.error(e),n({type:Ta,payload:{isFetching:!1}})}))}},Ma=(e,t,a)=>{setTimeout((()=>{const n=!0;if(e.length>5){let r=[];e.forEach(((e,s)=>{0!==s&&s%5==0&&(Ra(r,{},t,a,n),r=[]),r.push(e)})),Ra(r,{},t,a,n)}else Ra(e,{},t,a,n)}),300)},Fa=e=>{let{products:t=[],selection:a={},getByDate:n=null}=e;return t.map((e=>{let t=!1;if(Object.keys(a).forEach((n=>{a[n].includes(e.dimensions[n])||(t=!0)})),n){const a=e.availabilityDate&&n&&e.availabilityDate.getTime()>n.getTime();(null===e.availabilityDate||a)&&(t=!0)}return{...e,isHidden:t}}))},Ha=(e,t)=>{switch(t.type){case Ea:return((e,t,a,n)=>{const s=(0,ie.A)("use-product-availability/fetchEntry"),{endpoints:{mainEntryUrl:i,backgroundMainEntryUrl:o,mainRecommendationsUrl:l}}=e;if(i){const e=it.extendUrlQuery(i,t);(0,Be.hI)(e,{signal:n,timeout:fa}).then((e=>{if(e.body)if(r().get(e.body,"recommendationsCallbackEnabled",!1)){const e=it.extendUrlQuery(l,t);(0,Be.hI)(e,{timeout:fa}).catch((()=>{}))}else a(e.body)})).catch((e=>{n.aborted?s.debug(e):s.error(e)}))}if(o){const e=it.extendUrlQuery(o,t);(0,Be.hI)(e,{timeout:fa}).catch((()=>{}))}return e})(e,t.partParams,t.handleResponse,t.signal);case va:return Pa(e,t.partParams,t.availabilityStores,t.dispatch);case ya:return((e,t,a)=>{const{recommendations:n,getByDate:s}=e,i=Fa({products:n,selection:t,getByDate:s}),o=(0,ga.Br)(s,i);return r().isEmpty(i)&&pa.A.onEmptyResults(),{...e,recommendations:i,visibleCount:5,selection:t,lastSelection:a,enabledDimensions:o}})(e,t.selection,t.lastSelection);case ba:return(e=>{const t=Math.min(e.recommendations.length-e.visibleCount,5),a=e.visibleCount+t;return setTimeout((()=>{const n=e.recommendations.slice(0,a);pa.A.showMoreOptions(n.slice(-t),Object.values(e.quotes),e.assets)}),0),{...e,visibleCount:a}})(e);case Aa:return function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e,n=arguments.length>3?arguments[3]:void 0;const s=r().get(e.quotes,`${t.partString}.pickup.stores`,[]).find((e=>e.selected)),i=r().get(s,"storeId",null),o=e.location.store?e.location.store:i,l=r().get(e,"bootstrap.buyflowProducts");let c=!0;Array.isArray(l)&&(c=l.some((e=>{let{part:a,zPart:n,btrPart:s,options:i}=e;return!(n!==t.partNumber&&s!==t.partNumber||!r().isEqual(i,t.options))||!!a&&a===r().get(t,"options.watch_cases")})));const d=t.differentModel||!c;if(n&&i&&i!==n.storeId&&n.handleStoreSelection&&n.handleStoreSelection({part:r().get(e,"originalProduct.partNumber"),store:i}),d&&t.productUrl){const a=r().get(t,"updatedMessage",!1);return window.sessionStorage.setItem("showCrossBuyflowSBANotifications",a),pa.A.onExit({preference:`${t.productName} - ${t.description}`,message:t.updatedMessage}),setTimeout((()=>{window.location.href=t.productUrl}),1e3),e}return a(t,o),e}(e,t.product,t.onSelection,t.fulfillment);case Sa:return((e,t,a)=>{const{quotes:n}=e,s=r().get(n,`${t.partString}.pickup.stores`);return s&&(n[t.partString].pickup.stores=s.map((e=>({...e,selected:e.storeId===a})))),{...e,quotes:n,location:{...e.location,store:a}}})(e,t.product,t.store);case wa:return((e,t,a,n)=>{const s=(0,ie.A)("use-product-availability/fetchStoreInfo"),{pickupDetailsUrl:i}=e.endpoints,o=r().get(a,"partNumber"),l=r().get(a,"options",{});if(o&&n.length>0){const c={product:o,...l?.watch_bands&&{"option.watch_bands":l.watch_bands},...l?.watch_cases&&{"option.watch_cases":l.watch_cases}};n.forEach(((e,t)=>{c[`stores.${t}`]=e}));const d=it.extendUrlQuery(i,c);(0,Be.hI)(d,{timeout:fa}).then((n=>{const{content:s}=n.body||{};if(s){const{quotes:n}=e,i=r().get(n,`${a.partString}.pickup.stores`);if(i){const e=i.map((e=>{const t=s.find((t=>t.storeId===e.storeId));return t?{...e,pickupMessage:t}:e}));!e.find((e=>e.selected))&&e[0]&&(e[0].selected=!0),n[a.partString].pickup.stores=e}t({type:Ta,payload:{quotes:n}})}})).catch((e=>{s.error(e)}))}return e})(e,t.dispatch,t.product,t.stores);case Ta:return{...e,...t.payload};case Oa:return{...e,isFetching:!0,isError:!1};case Na:return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const{recommendations:a}=e,n={};t.forEach((e=>{n[e.partString]=e}));const s=ka(a),i={...e.quotes,...n},o={...e.originalProduct,availabilityDate:r().get(i,`${e.originalProduct.partString}.availabilityDate`)};return e.productData.products.length===Object.keys(i).length-1&&pa.A.onProductsShown([e.originalProduct,...s],i,e.assets),{...e,originalProduct:o,quotes:i,recommendations:s,isFetching:!1}}(e,t.quotes);case Ca:return xa(e,t.sortKey);case _a:return((e,t)=>{const a=document.documentElement.lang||ha.Ql,{recommendations:n,selection:r}=e;let s=t;ma(e.getByDate,t)&&(s=null);const i=Fa({products:n,selection:r,getByDate:s}),o=s?(0,da.b)(s,{weekday:"short",day:"numeric",month:"short"},{locale:a}):"",l=(0,ga.Br)(s,i);return pa.A.onDateSelected(t),{...e,getByDate:s,getByDateText:o,recommendations:i,enabledDimensions:l,visibleCount:5}})(e,t.newDate,t.locale);case Ia:return(e=>{const t=xa(e);let a=[];return Array.isArray(t.recommendations)&&(a=t.recommendations.map((e=>({...e,isHidden:!1})))),{...t,recommendations:a,getByDate:null,getByDateText:null,selection:{},enabledDimensions:{}}})(e);default:return e}},Ua=(t,a,n)=>{const[r,s]=(0,e.useReducer)(Ha,{...Da,...La(t),bootstrap:t});return{state:r,fetchEntry:(e,t,a)=>s({type:Ea,partParams:e,handleResponse:t,signal:a}),fetchRecommendations:(e,t)=>s({type:va,dispatch:s,partParams:e,availabilityStores:t}),onFilterChange:(e,t)=>s({type:ya,dispatch:s,selection:e,lastSelection:t}),onShowMore:()=>s({type:ba,dispatch:s}),onProductSelection:e=>s({type:Aa,dispatch:s,product:e,onSelection:a,fulfillment:n}),onStoreSelection:(e,t)=>s({type:Sa,dispatch:s,product:e,store:t}),onStoresOpen:(e,t)=>s({type:wa,dispatch:s,product:e,stores:t}),onSortChange:e=>{s({type:Ca,sortKey:e})},onGetByDateChange:(e,t)=>s({type:_a,dispatch:s,newDate:e,locale:t}),onReset:()=>{s({type:Ia})},startFetch:()=>s({type:Oa})}},$a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r().isEmpty(e))return;const{endpoints:{userInterestUrl:a}}=La(e),n=it.extendUrlQuery(a,t);n&&(0,Be.hI)(n)};var Ba=i(6770);const Va=t().lazy((()=>Promise.all([i.e(6141),i.e(5109)]).then(i.bind(i,9364)))),Ya=a=>{let{part:n,cppart:s,options:i,fulfillment:o,bootstrap:l,onSelection:c,region:d="summary",isCard:u=!1}=a;const[m,p]=(0,e.useState)(!1),[g,h]=(0,e.useState)(!1),[f,E]=(0,e.useState)(!1),[v,y]=(0,e.useState)({}),[b,A]=(0,e.useState)(!0),S=(0,e.useRef)(window.s.pageName),w=(0,e.useRef)(!1),T=(0,e.useRef)(),O=(0,e.useRef)(),N=r().get(o,"pickupMessage.availabilityStores"),C=r().get(o,`deliveryMessage[${n}].regular.address`),_=r().get(o,"deliveryMessage.geoLocated")||r().get(o,"deliveryMessage.dudeCookieSet"),I=Ua(l,((e,t)=>{p(!1),c(e,t)}),o),{viewport:D}=(0,U.useGlobalContext)(),L="small"===D;!w.current&&r().get(v,"isEnabled",!1)&&(w.current=!0,pa.A.impression());const k=r().get(v,"title","Need it sooner?"),x=r().get(v,"assets.warmText","See faster options again"),P=r().get(v,"assets.coldText","See what else is available"),R=(0,e.useRef)(),M=!r().get(l,"disableCalendar",!1),F=(0,ga.MR)(n,s,i);(0,e.useEffect)((()=>{if(!_)return;const e=O.current?2e3:0;setTimeout((()=>{O.current=!0,I.fetchEntry(F,(e=>{y({...e}),O.current=!1}))}),e)}),[n,C,_,i]);const H=e=>{I.fetchRecommendations(F,N),p(!0),pa.A.availabilityBannerLink({element:e.target,action:f?"See faster options again":"See what else is available",originalPageName:S.current,product:{partNumber:n,cppart:s,options:i}}),setTimeout((()=>E(!0)),3e3)},$="rf-availability-head",B=f?x:P;return v.isEnabled?t().createElement(t().Fragment,null,t().createElement("div",{className:te()("rf-availabilitybanner",{[xt.A.EYEBROW]:!L,[xt.A.EYEBROW_SUPER]:L})},t().createElement("span",(0,q.A)({className:te()("as-svgicon-container","rf-availabilitybanner-icon")},(0,Y.OH)(Ba))),!m&&t().createElement("div",{className:"rf-availabilitybanner-info"},!f&&t().createElement("div",(0,q.A)({className:"rf-availabilitybanner-label"},(0,Y.OH)(k))),t().createElement("button",(0,q.A)({className:te()("as-buttonlink","rf-availabilitybanner-btn"),type:"button","data-analytics-region":d,"data-analytics-title":B,"data-autom":"shopbyavailabilitylink",ref:T,onClick:e=>{g?H(e):(h(!0),setTimeout((()=>{H(e)}),10))}},(0,Y.OH)(B))))),t().createElement(dt.A,{visible:m,onClose:e=>{let{target:t,type:a}=e;if("keydown"===a&&R.current){R.current.querySelector("button.rc-overlay-close").click()}else p(!1),pa.A.onClose({target:t,originalPageName:S.current}),I.onReset()},closeButtonAttrs:{"data-analytics-region":"modal","data-analytics-title":"close"},disableEsc:!b,className:"rf-availability-overlay",isFullscreen:!0,ariaLabel:$,returnFocusRef:T,ref:R},t().createElement(e.Suspense,{fallback:null},g?t().createElement(Va,(0,q.A)({},I,{overlayShown:m,onLocationChange:(e,t)=>{I.onReset(),I.fetchRecommendations(F,t)},fulfillment:o,originalPageName:S.current,ariaLabel:$,onDatePickerToggle:A,isDatePickerEnabled:M,isCard:u})):null))):null};var qa=i(9246);const ja=e=>{const t=qa.Jt("as_atb"),a=(t?t.split("|"):[]).pop(),n="atbtoken";if(a&&e){const t=e.querySelector(`input[name="${n}"]`);if(t)t.setAttribute("value",a);else{const t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name",n),t.setAttribute("value",a),e.appendChild(t)}}},Ga=e=>{let t=document.querySelector("#third-party-product-selection");if(!t){t=document.createElement("input"),t.setAttribute("type","hidden"),t.setAttribute("id","third-party-product-selection"),t.setAttribute("name","third-party-product-selection"),t.setAttribute("value","");const e=document.querySelector("#page");e&&e.appendChild(t)}if(e){const a={},n=r().get(e,"part",""),s=r().get(e,"options","");a.part=n,s&&(a.options=s),t.setAttribute("value",JSON.stringify(a))}const a=new Event("change");t.dispatchEvent(a)},Wa=e=>{if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},za=()=>(e=>Array.prototype.slice.call(document.querySelectorAll(e)))('script[type="application/ld+json"]').reduce(((e,t)=>{if(!t.innerText)return e;const a=Wa(t.innerText);return a?(e.push({data:a,element:t}),e):e}),[]),Ka=e=>e&&za().filter((t=>{let{data:a={}}=t;return a["@type"]&&a["@type"]===e}))||[],Qa=e=>{if(!e)return null;const t=Ka("Product");if(!t||!t.length)return null;for(let n=0;n<t.length;n++){const{data:r}=t[n];if(!r||!r.offers||!Array.isArray(r.offers))return null;const s=r.offers.filter((e=>e&&e["@type"]&&"Offer"===e["@type"])),i=(a=t=>{let{sku:a}=t;return a===e},s.filter(a)[0]);if(i&&i.price)return i.price}var a;return null},Ja=window.asMetrics,{OmnitureCollection:Za,OmnitureProduct:Xa,OmnitureEvent:en}=r().get(Ja,"util.omnitureCollection",{}),tn=r().get(Ja,"util.getProductCategory",(()=>"")),an=function(e,t,a,n,s,i,o){let l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{};const c=r().get(t,"summary.summary.skipCart",!1),d=i.querySelector('button[type="submit"]'),u=d?d.getAttribute("data-analytics-title"):"",m=i.getAttribute("data-evar63");if(!Za)return;const p=(e=>{const t=new Za;return Object.keys(e).forEach((a=>{const n=e[a],s=r().get(n,"stepSummaryItems"),i=Object.keys(r().get(n,"validatedParameters",{}))[0],o=r().get(s,"0.partNumber","");if(!s||0===s.length)return;const l=r().get(window,`pageLevelData.${i}.configData.addOnGroupData.categoryName`,""),c=r().get(window,`pageLevelData.${i}.configData.prices.${o}.currentPrice.raw_amount`,""),d=o.substring(0,5);t.add(new Xa({category:l,sku:d,qty:"1",price:c})),Ja.purchaseJourney.registerProduct(d,"buy flow")})),t})(t.accessories),g=new Za;g.add(new en(c?"event111":"scAdd")),p.size&&g.add(new en("event115"));const h=((e,t)=>{const a=tn(r().get(window,"s.products","")),n=e.engravingPart||e.basePartNumber||e.part,s=Qa(n)||r().get(t,"summary.seoPrice","0.00");return new Xa({category:a,sku:n,price:s,qty:"1"})})({...a,engravingPart:n},t.summary),f=new Za(h);if(m){const e=new Xa({sku:h.sku,variables:new Za(new en("eVar63",m))});f.merge(e)}const{trackingListId:E=null,isItemSaved:v=!1,listId:y=null,didPartNumberChange:b=!1}=l,A={};if(E&&v&&!b){g.add(new en("event115")),A.eVar59=`list:${y}`;const e=new Xa({sku:h.sku,variables:new Za(new en("eVar11","lists"))});f.merge(e)}const S=new Za(f,(e=>e?new Xa({category:"TRADEIN",sku:"TRADEIN",price:e,qty:"1"}):"")(o),p),w={events:g,products:S,eVar5:['D=pageName+"',"","Step 1",u].join(" | ").concat('"'),eVar6:['D=pageName+"',"","Step 1",e,'final"'].join(" | "),...A};Ja.sendUserInteraction({name:"Step 1",data:w})},nn=(0,ie.A)("seo/getFullHref"),rn=(0,ie.A)("seo/updateLocation"),sn=e=>{let{baseURL:t,location:a=window.location,log:n=rn}=e;const r=(e=>{let{baseURL:t,location:a,log:n=nn}=e;try{return window.decodeURI(t.indexOf("?")>0?t:t+a.search+a.hash)}catch(e){return n.error(e),!1}})({baseURL:t,location:a});if(window.DEBUG_DEMO_MODE)return!1;try{window.history.replaceState&&window.history.replaceState(null,null,r)}catch(e){return n.error(e)}return r},on=(0,ie.A)("seo/microdata"),ln=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;e.baseURL&&sn({baseURL:e.baseURL}),e.pageURL&&e.canonicalURL&&(e=>{let{pageURL:t,canonicalURL:a}=e;const n=document.querySelector('[rel="canonical"]'),r=a.indexOf("?")>0?a.split("?")[0]:a;if(!n)return!1;const s=`${r}/${t}`;n.setAttribute("href",s)})({pageURL:e.pageURL,canonicalURL:e.canonicalURL}),e.pageTitle&&(t=e.pageTitle)&&!(!t.length>0)&&(window.document.title=t),e.alternateUrls&&(e=>{const t=document.querySelectorAll('head link[rel ="alternate"]');if(t.length>0&&t.forEach((e=>{e.remove()})),e&&e.length){const t=e.map((e=>{const{lang:t,url:a}=e,n=document.createElement("link");return n.setAttribute("rel","alternate"),n.setAttribute("hreflang",t),n.setAttribute("href",a),n}));return t.forEach((e=>{document.querySelector("head").appendChild(e)})),t}})(e.alternateUrls),e.microdata&&(e=>{let{microDataContent:t,log:a=on}=e;if(t)try{const e=JSON.parse(t);document.querySelectorAll('script[type="application/ld+json"]').forEach((a=>{const n=JSON.parse(a.innerText);(n["@type"]===e["@type"]||e[0]&&n["@type"]===e[0]["@type"])&&a.setAttribute("text",t)}))}catch(e){a.error(e)}})(e.microdata)},cn=e=>{let{updates:t,part:a}=e;window.asMicrodata&&window.asMicrodata.isUpdateSeoEnabled()?function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.asMicrodata.makeSeoRequest)({product:e})}(a):ln(t)},dn=(0,ie.A)("flagship/use-buyflow");let un="";const mn=t=>{let{product:a,purchaseOption:n,engravingPart:s,engravingParam:i,accessorySelection:o,bfil:l,buyflowParams:c,bootstrap:d,replacePrices:u}=t;const[m,p]=(0,e.useState)({}),g=a&&a.part,h=o?Object.keys(o).map((e=>`${e}=${o[e]}`)).join("-"):"",f=i?Object.keys(i).map((e=>`${e}=${i[e]}`)).join("-"):"";return(0,e.useEffect)((()=>{Ga()}),[]),(0,e.useEffect)((()=>{a&&d.url&&((e,t,a,n,r,s,i,o)=>{let l={product:n||t.part,bfil:i};if(t.carrierPolicyPart&&(l.cppart=t.carrierPolicyPart),t.carrierPolicyType&&(l.carrierPolicyType=t.carrierPolicyType),a&&(l.purchaseOption=a),r&&(l={...l,...r}),s){const e=Object.keys(s).filter((e=>-1===e.indexOf(".productToEngrave")&&-1===e.indexOf(".msg.")&&-1===e.indexOf(".f."))).reduce(((e,t)=>(e[t]=s[t],e)),{});l={...l,...e}}return o&&(l={...l,...o}),new window.Promise(((t,a)=>{const n=it.extendUrlQuery(e,l);un=n,(0,Be.hI)(n).then((e=>{n!==un?a(new Error("Outdated")):(un="",t(e))})).catch((e=>{a(e)}))}))})(d.url,a,n,s,i,o,l,c).then((e=>{const t=r().get(e,"body.response"),n=r().get(e,"body.metadata");t&&(p(((e,t)=>{const a=e.summarySection;let n=r().get(e,"bootstrap.buyflowMessages");const{finance:s,assetVariables:i}=r().get(e,"summarySection.summary",{});n=s&&n?{...n,showBFILink:!0,assetVariables:i}:{...n,showBFILink:!1};const{purchaseOptions:o,...l}=r().omit(r().get(e,"slotStepsData",{}),["engraving"]);return{summary:a,buyflowMessages:n,purchaseOptions:o,accessories:l,metadata:t}})(t,n)),cn({updates:t.summarySection,part:s||a.part})),Ga(a)})).catch((e=>{const t=r().get(e,"message")||e;"Outdated"===t?dn.warn(`fetchSummary: ${t}`):dn.error(`fetchSummary: ${t}`)}))}),[g,n,h,l,c,s,f]),(0,e.useEffect)((()=>{d.buyFlowPricesUrl&&void 0!==l&&((e,t)=>{const a=it.extendUrlQuery(e,{bfil:t});return(0,Be.hI)(a).catch((e=>dn.error("error",e)))})(d.buyFlowPricesUrl,l).then((e=>{const t=r().get(e,"body.content"),{prices:a,priceDisplayOrder:n}=t||{};(a||n)&&u&&u({prices:a,priceDisplayOrder:n})}))}),[l]),[m,function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const l=((e,t,a)=>{const n=Object.values(e);return t&&n.push(t),a&&n.unshift(a),n.length>0?n.join(" > ").toUpperCase():""})(a.dimensions,n),d=r().get(c,"tia",""),u=r().get(i,"trackingListId",null);u&&H.Ay.persist(e,{dlid:u}),t?(H.Ay.setBuyflowComplete(!0),ja(e),an(l,m,a,s,o,e,d,i)):(H.Ay.setBuyflowComplete(!1),(e=>{Ja.fireMicroEvent({part:e,feature:"Step 1",eVar:"eVar6",action:"final"})})(l));const p=H.Ay.getHiddenInputs({allowlist:Object.keys({...c,...o}),appendToDefaultList:!0});H.Ay.persist(e,p),H.Ay.setSubmitButtonValue(e),e.submit()}]};var pn=i(837),gn=i(3708);const hn=e=>{let{items:a,accessoryKey:n,basePart:s,title:i,disabled:o}=e;const[l,c]=(0,B.A)({});return t().createElement("div",{className:"rf-accessory-inline-cardgallery with-paddlenav",ref:l},c&&t().createElement(V.aT,{items:a,classes:{root:"rf-accessory-inline-gallery",gallery:"rf-accessory-inline-gallery-items"},renderItem:(e,a)=>{const s=r().get(e,"value.data.map",{});return t().createElement(V.t,{key:`${n}_key_${a}`,index:a,className:"rf-accessory-inline-cardgallery-item"},t().createElement("div",{className:te()("rf-accessory-inline-cardgallery-content",s.cssClassName)},t().createElement("div",(0,q.A)({className:te()("rf-accessory-inline-cardgallery-info",K.A.BODY)},(0,Y.OH)(s.headerCopy))),t().createElement("div",{className:"rf-accessory-inline-cardgallery-image"},t().createElement(Jt.Ay,{data:s.cardImage}))))},dotnavProps:{"aria-label":i,getButtonProps:()=>({disabled:o})},metrics:{feature:"Gallery",slot:`Step1 - ${s}`||"",part:"swipe"},paddlenavProps:{previousProps:{disabled:o},nextProps:{disabled:o}}}))},fn=window.asMetrics,En=e=>{fn.fireMicroEvent({part:e,feature:"Step 1 - product",eVar:"eVar6",action:"Change"})},{isMobileIos:vn,isIpad:yn}=s.Ez(),bn=a=>{let{dimension:n,expanded:r,setExpanded:s,headerText:i,buttonText:o,selectedText:l,children:c,sectionScroller:d}=a;const u=(0,e.useRef)(null),m=(0,e.useRef)(null);return t().createElement("div",{className:te()("rf-flagship-collapsable",{"rf-flagship-collapsable-disabled":n.disabled}),"data-analytics-section":n.key,ref:d.AssignRef(n.key)},t().createElement(G.A,{in:!r,className:"rf-flagship-collapsable-header",onEntered:()=>{d.scrollToNextSection(n.key),u.current&&setTimeout((()=>u.current.focus()),200)}},t().createElement("div",(0,q.A)({onClick:()=>{s(!0),En(n.key)},className:te()("rf-flagship-collapsable-header-text",K.A.LABEL),"aria-hidden":"true"},(0,Y.OH)(i))),t().createElement("button",{type:"button",onClick:()=>{s(!0),En(n.key)},className:"as-buttonlink rf-flagship-collapsable-header-button",ref:u,"data-autom":`change_${n.key}`,"data-trigger-id":`change-${n.key}`},o,t().createElement("span",(0,q.A)({className:"visuallyhidden"},(0,Y.OH)(`(${n.header} ${i} ${l})`))))),t().createElement(G.x,{in:r},t().createElement(G.A,{ref:m,in:r,className:te()("rf-flagship-collapsable-dimension",{"rf-flagship-collapsable-dimension-disabled":n.disabled}),tabIndex:n.disabled?-1:void 0,onEntered:()=>{if(m.current){const e=m.current.querySelector(".form-selector-input:checked, form-selector-input"),t=document.querySelector("html").classList.contains("as-keyboarduser");e&&t&&setTimeout((()=>e.focus()),vn||yn?1e3:200)}}},c)))},An=a=>{let{sectionContent:n,id:s,dimensionKey:i,disabled:o}=a;const l=(0,e.useId)(),c=s||l,{infoTitle:d,infoDescription:u,cssClassName:m}=n,p=r().get(n,"overlayLink")||{},{assets:g}=(0,U.useGlobalContext)(),h=r().get(g,"showMore","Show more"),f=`${c}_showmore`;return t().createElement($.A,null,t().createElement("div",{className:te()("rf-flagship-decisionsection","as-util-relatedlink",m),"data-trigger-click":`click [data-relatedlink='${c}_link']`,"data-autom":`${i}_decisionsection`},t().createElement("div",{className:te()("rf-flagship-decisionsection-details",K.A.CAPTION)},t().createElement("div",{className:"rf-flagship-decisionsection-info"},t().createElement("div",(0,q.A)({id:c,className:"rf-flagship-decisionsection-header"},(0,Y.OH)(d))),t().createElement("div",(0,q.A)({className:"rf-flagship-decisionsection-desc"},(0,Y.OH)(u))))),t().createElement("a",{href:p.url,role:"button","aria-label":p.text||"","aria-labelledby":`${f} ${c}`,"data-relatedlink":`${c}_link`,"data-ase-loader":"buyflow-info-overlay-loader","data-ase-loader-action":"load","data-display-name":r().get(p,"omnitureData.linkText")||"",className:"rf-flagship-decisionsection-button",tabIndex:o?-1:void 0,"aria-disabled":!!o||void 0,"aria-haspopup":"dialog"},t().createElement("i",{className:"icon icon-infocircle rf-flagship-decisionsection-button-icon"}),t().createElement("span",(0,q.A)({id:f,className:"visuallyhidden"},(0,Y.OH)(h))))))},Sn=e=>{const t=r().get(e,"dictionaries.productPrice",{}),a=r().sortBy(t,(e=>{const t=r().get(e,"currentPrice.raw_amount");return parseInt(t,10)}));return 1===r().uniq(r().values(r().mapValues(t,"currentPrice.amount"))).length?r().get(a,"[0].currentPrice.amount"):r().get(a,"[0].comparativeDisplayPrice")},wn=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=r().get(e,"price.full","");if(!e.price)return n;const s=t||e.price.useFromPrice?"full":"short",i=r().get(e,"price.pricesInOrder");return!i&&t&&a?r().get(e,"priceData.comparativeDisplayPrice",n):(r().forEach(i,((i,o)=>{o===s&&r().forEach(i,(s=>{const i=a&&t&&"fullPrice"===s.key?r().get(e,"priceData.comparativeDisplayPrice"):s.value;n=`${n} <span class="price-point price-point-${s.key}">${i}</span>`}))})),n)},Tn=e=>{let{dimension:a,option:n,handleDimensionChange:r}=e;return t().createElement(gn.gW,{key:n.value,name:a.key,value:n.value,checked:n.value===a.value,handleChange:e=>r(a.key,e),skipChangeSelection:!0,disabled:n.disabled,childRight:t().createElement("span",(0,Y.OH)(wn(n))),"data-autom":`${a.key}${n.value}`,withAriaLabeledBy:!0,"data-trigger-id":`product-selection-${n.value}`},t().createElement(gn._V,{text:n.text}))},On=a=>{let{dimension:n,onDimensionChange:s,sectionScroller:i,assets:o,collapse:l,variantGalleryItems:c}=a;const[d,u]=(0,e.useState)(!n.value),m=(e,t)=>{u(!1),s(e,t),l||i.scrollToNextSection(e)},p=n.options.find((e=>e.value===n.value)),{disabled:g,options:h}=n,f=1===h.length,E=r().get(o,"showOneOptionView",!1);if(f&&E)return t().createElement(Nn,{dimension:n,disabled:g});const v=r().get(p,"text"),y=t().createElement("h2",(0,q.A)({className:te()("rf-flagship-productselection-dimension-header",K.A.BODY)},(0,Y.OH)(n.header))),b=r().get(o,"changeText","Change"),A=r().get(o,"selectedText","Selected"),S="fullWidth"===r().get(o,`${n.key}`,"");return t().createElement(bn,{key:n.key,dimension:n,headerText:v,buttonText:b,selectedText:A,expanded:!l||d,setExpanded:u,sectionScroller:i},t().createElement("div",{className:te()({"rf-product-dimension-with-gallery row":c})},c&&t().createElement("div",{className:"column large-5 small-12"},t().createElement(hn,{items:c,disabled:n.disabled})),t().createElement("div",{className:te()({"column large-6 large-last small-offset-0 small-12":c})},t().createElement(gn.c6,{legend:y,childAfterLegend:t().createElement(t().Fragment,null,n.subHeader&&t().createElement(pn.A,{disabled:n.disabled},t().createElement("div",(0,q.A)({className:te()("rf-flagship-productselection-dimension-subheader",K.A.BODY_REDUCED)},(0,Y.OH)(n.subHeader)))),n.decisionSection?t().createElement(An,{sectionContent:n.decisionSection,dimensionKey:n.key,disabled:n.disabled}):null),disabled:n.disabled,withGutters:"dimensionScreensize"!==n.key&&!S,className:te()("rf-flagship-productselection-dimension",`rf-flagship-productselection-${n.key.toLowerCase()}`)},n.options.map((e=>{switch(n.key){case"dimensionScreensize":return t().createElement(Tn,{key:e.value,dimension:n,option:e,handleDimensionChange:m});case"dimensionColor":return t().createElement(gn.sY,{key:e.value,name:n.key,value:e.value,checked:e.value===n.value,handleChange:e=>m(n.key,e),showSwatch:!0,skipChangeSelection:!0,disabled:e.disabled,"data-autom":`${n.key}${e.value}`,"data-trigger-id":`product-selection-${e.value}`},t().createElement(gn.rp,{image:e.image}),t().createElement(gn.ED,{text:e.text,"aria-hidden":"true"}));default:return S?t().createElement(Tn,{key:e.value,dimension:n,option:e,handleDimensionChange:m}):t().createElement(gn.sY,{key:e.value,name:n.key,value:e.value,checked:e.value===n.value,handleChange:e=>m(n.key,e),threeLine:!0,skipChangeSelection:!0,disabled:e.disabled,"data-autom":`${n.key}${e.value}`,withAriaLabeledBy:!0,"data-trigger-id":`product-selection-${e.value}`},t().createElement(gn._V,{text:e.text}),t().createElement(gn.ED,{text:wn(e)}))}}))))),n.footer&&t().createElement(pn.A,{disabled:n.disabled},t().createElement("div",(0,q.A)({className:te()("rf-flagship-productselection-dimension-footer",K.A.BODY_REDUCED)},(0,Y.OH)(n.footer)))))},Nn=e=>{let{dimension:a,disabled:n}=e;const r=a.options[0],s=t().createElement("h2",(0,q.A)({className:"rf-flagship-productselection-dimension-header"},(0,Y.OH)(a.header)));return r?t().createElement("div",{className:te()("rf-flagship-collapsable rf-productselection-dimension-oneoption",{"rf-flagship-collapsable-disabled":n}),"data-analytics-option-group":a.key},s,a.subHeader&&t().createElement(pn.A,{disabled:n},t().createElement("div",(0,q.A)({className:"rf-productselection-dimension-subheader"},(0,Y.OH)(a.subHeader)))),t().createElement("div",(0,q.A)({className:"rf-productselection-dimensionvalue"},(0,Y.OH)(r.text))),t().createElement("div",(0,q.A)({className:"rf-productselection-dimensiondesc"},(0,Y.OH)(r.textDesc))),t().createElement("input",{type:"hidden",name:r.name,value:r.value}),a.footer&&t().createElement(pn.A,{disabled:n},t().createElement("div",(0,q.A)({className:"rf-productselection-dimension-footer"},(0,Y.OH)(a.footer))))):null},Cn=e=>{let{dimensions:a,onDimensionChange:n,sectionScroller:s,assets:i,collapse:o,variantGalleryItemsMatrix:l}=e;return t().createElement("div",{className:te()("rf-flagship-productselection",{"rf-productselection-withgallery":l})},a.map(((e,a)=>t().createElement(On,{key:e.key,dimension:e,onDimensionChange:n,sectionScroller:s,assets:i,collapse:o,variantGalleryItems:r().get(l,`[${a}]`)}))))},_n=e=>{let{data:a,videoRef:n,showVideo:s,onVideoEnded:i,transitionDuration:o}=e;const l=[],{alt:c,width:d,height:u}=a,m=r().get(a,"posterImage.srcSet.src"),p=r().get(a,"files.mp4.src");p&&l.push({src:p,type:ue});const g={autoPlay:!0,muted:!0,playsInline:!0,"aria-hidden":!0,title:c,poster:m,sources:l,width:d,height:u};return t().createElement(G.A,{in:s,timeout:o,className:"rf-flagship-video-wrapper"},t().createElement(de.A,(0,q.A)({ref:n,className:"rf-flagship-video"},g,{onEnded:i,onError:i,onStalled:i,onContextMenu:e=>e.preventDefault()})))},In=a=>{let{imageData:n,selection:s,selectedLastDimKey:i,...o}=a;const l=r().get(window,"pageLevelData.productSelectionMedia.video"),c=r().get(l,"files"),d=r().get(window,"pageLevelData.productSelectionMedia.hideVideoAfterPlay"),u=s&&Object.keys(s).length>0,m=r().get(window,"pageLevelData.productSelectionMedia.transitionDuration",700),{ref:p}=(0,de.R)(),[g,h]=(0,e.useState)(!r().isEmpty(c)&&!u);return(0,e.useEffect)((()=>{u&&g&&h(!1)}),[u]),t().createElement("div",(0,q.A)({className:"rf-flagship-media"},o),t().createElement("div",{className:"rf-flagship-image-wrapper"},t().createElement(Jt.Ay,{data:n,alt:n.alt?n.alt:"",className:te()("rf-flagship-main-image",{[`rf-flagship-main-image-${i}`]:!!i,"rf-flagship-main-image-configured":u,"rf-flagship-main-image-hidden":g})})),c&&t().createElement(_n,{data:l,videoRef:p,showVideo:g,onVideoEnded:()=>{d&&h(!1)},transitionDuration:m}))},Dn=Object.freeze({INLINE_TILE:"AppleCareTileViewSlot",INLINE_TILE_EVOLUTION:"AppleCareTileViewEvolutionSlot",APPLE_CARE_SUMMARY_MULTIPART_SLOT:"AppleCareSummaryMultiPartSlot",APPLE_CARE_SUMMARY_SINGLEPART_SLOT:"AppleCareSummarySinglePartSlot",SIMPLE_ACCESSORY_TILEVIEW_SLOT:"SimpleAccessoryFullWidthTileViewSlot",INLINE_ACCESSORY_SLOT:"InlineAccessorySlot",INLINE_ACCESSORY_SLOT_EVOLUTION:"InlineAccessorySlotEvolution",INLINE_FULLWIDTH_TILE:"AppleCareFullWidthTileViewSlot"}),Ln={[Dn.INLINE_TILE]:"./inline-tile",[Dn.INLINE_TILE_EVOLUTION]:"./inline-tile-evolution",[Dn.APPLE_CARE_SUMMARY_MULTIPART_SLOT]:"./applecare-summary-multipart-slot",[Dn.APPLE_CARE_SUMMARY_SINGLEPART_SLOT]:"./applecare-summary-singlepart-slot",[Dn.SIMPLE_ACCESSORY_TILEVIEW_SLOT]:"./simple-accessory-tileview-slot",[Dn.INLINE_ACCESSORY_SLOT]:"./inline-accessory-slot",[Dn.INLINE_ACCESSORY_SLOT_EVOLUTION]:"./inline-accessory-slot-evolution",[Dn.INLINE_FULLWIDTH_TILE]:"./inline-tile-fullwidth"};function kn(e){let{adapter:a,Component:n,dataToParse:s,loadingFallback:i,onChange:o=r().noop,preselection:l,state:c,updates:d,...u}=e;const{clearSelectionAndPart:m=r().noop,handlePartChange:p=r().noop,handleStateChange:g=r().noop,handleSelectionChange:h=r().noop,handleUpdates:f,initialState:E,meta:v,sections:y,slotId:b,slotStatus:A,updatesForSlot:S,showAccessoryByDefault:w=!1}=t().useMemo((()=>a({dataToParse:s,onChange:o,preselection:l,state:c,updates:d})),[a,s,o,l,c,d]);return t().useEffect((()=>{o(E)}),[]),t().useEffect((()=>{f()}),[d]),t().createElement(t().Suspense,{fallback:i},t().createElement(n,(0,q.A)({clearSlotSelection:m,meta:v,onPartChange:p,onSelectionChange:h,onStateChange:g,sections:y,slotId:b,state:c,slotDataToParse:s,slotStatus:A,updatesForSlot:S,showAccessoryByDefault:w},u)))}const xn=(0,ie.A)("accessory/slot");function Pn(e){let{dataToParse:a,loadingFallback:n,log:s,onChange:o,preselection:l,state:c,templateName:d,updates:u,...m}=e;if(!r().isPlainObject(c)||!r().isFunction(o))throw new Error("Accessory Slot: Required state and change handler not provided.");const[p,g]=t().useState(!1),h=t().useRef(null),f=t().useRef(null);return t().useEffect((()=>{!async function(){try{const[e,a]=await function(e){const a=t().lazy((()=>i(1)(`${Ln[e]}/component`))),n=i(1825)(`${Ln[e]}/adapter`);return Promise.all([a,n])}(d),n=a=>t().createElement(e,a);h.current=n,f.current=a.default,g(!0)}catch(e){s.error(e)}}()}),[s,d]),p?t().createElement(kn,(0,q.A)({adapter:f.current,Component:h.current,dataToParse:a,loadingFallback:n,onChange:o,preselection:l,state:c,updates:u},m)):n}Pn.defaultProps={loadingFallback:t().Fragment,log:xn,preselection:{},updates:{}};const Rn=e=>{let{dataKey:a,metadata:n,sectionScroller:s}=e;const i=r().get(window,`pageLevelData.${a}`);if(!i)return null;const o=r().get(n,"accessoriesHeaderState","disabled"),l="disabled"===o,c=r().get(i,"decisionSupportTile.items.0.value",{}),d=s?{ref:s.AssignRef(`accessories_decision_section_${a}`)}:{};return t().createElement("div",{className:te()("rf-flagship-accdecision",{"rf-flagship-accdecision-disabled":l,"rf-flagship-accdecision-hidden":"hidden"===o})},t().createElement("h2",(0,q.A)({},d,{className:te()("rf-flagship-accdecision-header",K.A.BODY)},(0,Y.OH)(i.header))),t().createElement(An,{sectionContent:c,dimensionKey:a,disabled:l}))},Mn=e=>{let{updates:a,preselection:n,slotKey:s,slotData:i,onFormFieldChange:o,fulfillment:l,sectionScroller:c}=e;const[d,u]=t().useState({}),m=c?{ref:c.AssignRef(`accessories_${s}`)}:{};return t().createElement("div",m,t().createElement(Pn,{dataToParse:i,loadingFallback:t().createElement("div",null),onChange:e=>{const t=r().get(a,`${s}.state`)||r().get(i,"state");u(e),"hidden"!==t&&o({slotKey:s,selection:e.formFields});r().some(e.sections,(e=>e.completed))&&c&&window.setTimeout((()=>{c.scrollToNextSection(`accessories_${s}`,!0)}),400)},preselection:n,state:d,templateName:i.templateName,updates:a,fulfillment:l}))},Fn=e=>{let{updates:a={},metadata:n={},handleSelectionChange:s,preselection:i={},fulfillment:o,sectionScroller:l}=e;return r().get(window,"pageLevelData.inlineAccessoryData",[]).map((e=>e.header?t().createElement(Rn,{sectionScroller:l,metadata:n,key:e.key,dataKey:e.key}):t().createElement(Mn,{key:e.key,updates:a,slotKey:e.key,slotData:window.pageLevelData[e.key],onFormFieldChange:s,preselection:i,fulfillment:o,sectionScroller:l})))};var Hn=i(2019);const Un=Object.freeze({BUYFLOW_INSTALLMENT:"bfi",APPLE_IPHONE_PAYMENTS:"ipi",CARRIER_INSTALLMENT_PLANS:"cp",IUP_PROGRAM:"ipp",PAY_IN_FULL:"fullPrice",MONTHLY_INSTALLMENTS:"monthlyPrice"}),$n=window.asMetrics,Bn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;const n=r().get(window,"asMetrics.isBFEMetricsEnabled",!1);$n&&("iup"===t&&n?$n.buyflow.onIUpExistingMember(a):$n.fireMicroEvent({feature:` Step 1 - purchase options | ${e}`,part:t,eVar:"eVar6",action:a}))},Vn=a=>{let{value:n,handleChange:s,bootstrap:i,skipSingleOptionGroup:o,disabled:l,cppart:c}=a;const{header:d,options:u,footer:m,overlayLinkFragment:p,groupPurchaseOptions:g,productCarrierOverlayKey:h,purchaseOptionGroups:f}=i,E=u.filter((e=>r().get(e,"moreOptions.options"))),[v,y]=(0,e.useState)(!1),[b,A]=(0,e.useState)(!1),[S,w]=(0,e.useState)(null);let T;n&&(T=n!==Un.PAY_IN_FULL?Un.MONTHLY_INSTALLMENTS:Un.PAY_IN_FULL);const O=t().createElement("h2",(0,q.A)({className:"rf-purchase-options-header"},(0,Y.OH)(d))),N=e=>{E.find((t=>t.purchaseOptionType===e))?(s(e,!0),w(null)):s(e),Bn(c,"",e)},C=(e,t)=>{const a=r().get(t,"types",[]),n=r().get(t,"price");!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];$n&&e&&$n.fireMicroEvent({feature:"Step 1 - purchase options",part:e,eVar:"eVar6",action:t?"selected":""})}(-1!==a.indexOf(Un.PAY_IN_FULL)?"pay in full":"pay monthly"),-1!==a.indexOf(Un.PAY_IN_FULL)?(s(e,!1,n),y(!0),A(!1),Bn(c,"",e)):(s(e,!0,n),y(!1),A(!0))},_=e=>!(1!==e.filter((e=>e.purchaseOptionType!==Un.PAY_IN_FULL)).length||!o),I=(e,a)=>{const i=e.filter((e=>v?e.purchaseOptionType===a:e.purchaseOptionType!==a));return t().createElement("div",{className:"rf-purchase-options-section"},i.map((e=>{const a=r().get(e,"moreOptions.options"),i=r().get(e,"moreOptions.moreOptionsFooter"),o=e.purchaseOptionType===n;return t().createElement(t().Fragment,{key:e.purchaseOptionType},e.sectionHeader&&t().createElement("div",(0,q.A)({className:"rf-purchase-options-section-header"},(0,Y.OH)(e.sectionHeader))),t().createElement(gn.gW,{name:"purchase_option",value:e.purchaseOptionType,checked:o,handleChange:N,disabled:l,childRight:t().createElement("span",(0,Y.OH)(e.price)),childTop:t().createElement(Hn.A,(0,q.A)({noScrim:!0,reduced:!0,inline:!0,className:"rf-purchase-options-violator"},(0,Y.OH)(e.violator))),"data-autom":`purchaseOption${e.purchaseOptionType}`,listChild:e.list?t().createElement(gn.DI,{items:e.list,className:"rf-purchase-options-description"}):e.description&&t().createElement("div",(0,q.A)({className:"rf-purchase-options-description"},(0,Y.OH)(e.description))),classes:{input:"rf-purchase-options-selector",label:"rf-purchase-options-label"},className:te()({"rf-purchase-options-carrierpromotion":e.carrierPromotionEnabled}),tag:"div",threeLine:!0,skipChangeSelection:!0,withAriaLabeledBy:!0,isStackedLayout:e.isStackedLayout},t().createElement("div",{className:"rf-purchase-options-title"},e.image&&t().createElement("span",(0,q.A)({className:"rf-purchase-options-image"},(0,Y.OH)(e.image))),t().createElement(gn._V,{text:e.title}))),a&&t().createElement(G.x,{in:o},t().createElement(gn.c6,{className:"rf-purchase-options-inner-options"},a.map(((n,r)=>t().createElement(gn.sY,{key:n.title,name:"purchase_option_more",value:r,checked:r===parseInt(S,10),handleChange:t=>((e,t,a)=>{w(e);const n=a[e],r=`${t} > ${n.title}`;Bn(c,"",r),n&&(n.link?window.location.href=n.link:s(t))})(t,e.purchaseOptionType,a),skipChangeSelection:!0,itemsPerRowLarge:1,itemsPerRowSmall:1},t().createElement("span",{className:"rf-purchase-options-inner-option-text"},n.title)))),i&&t().createElement("div",(0,q.A)({className:"rf-purchase-options-message"},(0,Y.OH)(i))))),e.sectionFooter&&t().createElement("div",(0,q.A)({className:"rf-purchase-options-section-footer"},(0,Y.OH)(e.sectionFooter))))})),p&&!v&&t().createElement("div",(0,q.A)({className:"rf-purchase-options-compare-link"},(0,Y.OH)(p))))};return(0,e.useEffect)((()=>{(!g||g&&o)&&(y(!1),A(!1)),!_(u)&&T&&g&&(T!==Un.PAY_IN_FULL?(A(!0),y(!1)):(A(!1),y(!0)))}),[g,o,h,T]),(0,e.useEffect)((()=>{E.find((e=>e.purchaseOptionType===n))&&w(0)}),[]),t().createElement("div",{className:"rf-purchase-options"},g&&!_(u)?t().createElement(gn.c6,{legend:O,withGutters:!0,disabled:l},r().get(f,"items",[]).map((e=>{const a=t().createElement("span",(0,Y.OH)(e.value.title));return t().createElement(gn.sY,{key:e.index,name:"purchase_option_group",value:r().get(e,"value.types",[Un.MONTHLY_INSTALLMENTS]),checked:r().get(e,"value.types.0",Un.MONTHLY_INSTALLMENTS)===T,handleChange:t=>{C(t,e.value)},"data-autom":`purchaseOptionGroup${e.index}`,classes:{label:"rf-purchase-option-group-label"}},a,e.value.violator&&t().createElement(Hn.A,(0,q.A)({noScrim:!0,reduced:!0,inline:!0},(0,Y.OH)(e.value.violator))))}))):t().createElement(gn.c6,{legend:O,tag:"div",disabled:l},!v&&!b&&I(u)),t().createElement(gn.c6,{disabled:l},(v||b)&&I(u,Un.PAY_IN_FULL)),m)},Yn=e=>{const t=r().get(e,"purchaseOptionsSlot.buyFlowSlotStep",{}),{productCarrierOverlayKey:a,changePurchaseOptionLabel:n,hasCollapsableItem:s,groupKey:i,purchaseOptionsStepData:{header:o,footer:l,stepDataTiles:c,overlayLinkFragment:d,groupPurchaseOptions:u,purchaseOptionGroups:m}}=t;return{header:o,footer:l,options:c.items.map((e=>e.value)),overlayLinkFragment:d,productCarrierOverlayKey:a,changePurchaseOptionLabel:n,hasCollapsableItem:s,groupKey:i,groupPurchaseOptions:u,purchaseOptionGroups:m}};Object.freeze({HIDDEN:"hidden",DISABLED:"disabled",COMPLETE:"complete",ENABLED:"enabled"});const qn=e=>{let{data:a,purchaseOption:n,onPurchaseOptionChange:r}=e;return a&&("enabled"===a.state||"complete"===a.state)?t().createElement(Vn,{value:n,handleChange:r,bootstrap:Yn(a.configData)}):null};var jn=i(5925);const Gn=e=>{let{favoriteConfig:a={},part:n="",disabled:r=!1,options:s={},carrierPolicyPart:i="",parentPartNumber:o,className:l="",handleFavoriteAction:c,classes:d={},isFavorited:u,isFirstFavorite:m,errorMessage:p,tooltipPosition:g}=e;const{viewport:h}=(0,U.useGlobalContext)(),f="small"===h,E=u(n,s,i),[v,y]=t().useState(!1),[b,A]=t().useState(!0),S=()=>p||(E?a.removeFavoritesLabel:a.addFavoritesLabel);t().useEffect((()=>{m&&E&&(y(!0),(()=>{const e=setTimeout((()=>{y(!1),A(!1)}),8e3)})())}),[m,E]);const w=()=>t().createElement("span",(0,q.A)({className:te()("rc-favorite-tooltiptext",d.tooltiptext,{})},(0,Y.OH)(S()))),T=()=>t().createElement("span",(0,q.A)({className:te()("rc-favorite-tooltiptext","rc-favorite-first",d.tooltiptext,{})},(0,Y.OH)(a.toolTipOverlayContentEscaped)));return(0,Me.A)("pagehide",(()=>{y(!1)})),t().createElement("div",{className:te()("rc-favorite",l,d.root),"data-part-number":o||n.substring(0,5),"data-category":a.category},t().createElement(jn.A,{content:E&&m&&b?t().createElement(T,null):t().createElement(w,null),className:"rc-favorite-tooltip",centered:!0,visible:v,handleChange:y,position:g||(f?"top_end":"top"),"aria-hidden":"true"},t().createElement("button",(0,q.A)({type:"button",className:te()("rc-favorite","as-svgicon-container"),disabled:r,"aria-label":S(),"data-autom":E?"favorites-filled":"favorites","data-partnumber":n,onClick:()=>c(E,o||n.substring(0,5),n,s,i)},(0,Y.OH)(E?'<svg viewBox="0 0 25 35" class="as-svgicon as-svgicon-heartfill as-svgicon-base as-svgicon-heartfillbase" role="img" aria-hidden="true" width="35px" height="35px"><path fill="none" d="M0 0h25v35H0z"/><path d="M12.5 29.263a1.2 1.2 0 0 1-.85-.351L1.967 19.2a6.531 6.531 0 0 1 .46-9.617 6.708 6.708 0 0 1 8.943.647l1.13 1.134 1.13-1.134a6.706 6.706 0 0 1 8.943-.647 6.531 6.531 0 0 1 .46 9.617l-9.683 9.711a1.194 1.194 0 0 1-.85.352Z"/></svg>':'<svg viewBox="0 0 35 35" class="as-svgicon as-svgicon-heart as-svgicon-base as-svgicon-heartbase" role="img" aria-hidden="true" width="35px" height="35px"><path fill="none" d="M0 1.213h35v35H0z"/><path d="M17.5 29.263a1.194 1.194 0 0 1-.85-.352L6.967 19.2a6.531 6.531 0 0 1 .46-9.617 6.708 6.708 0 0 1 8.943.647l1.13 1.133 1.13-1.133a6.706 6.706 0 0 1 8.943-.647 6.531 6.531 0 0 1 .46 9.617l-9.683 9.711a1.192 1.192 0 0 1-.85.352Zm-6.06-20a5.154 5.154 0 0 0-3.31 1.167 5.352 5.352 0 0 0-1.948 3.913 5.424 5.424 0 0 0 1.564 4.081l9.684 9.711.53.388-.39-.388 9.684-9.711a5.424 5.424 0 0 0 1.564-4.081 5.352 5.352 0 0 0-1.948-3.913 5.6 5.6 0 0 0-7.461.577l-1.7 1.7a.3.3 0 0 1-.425 0l-1.7-1.7a5.89 5.89 0 0 0-4.144-1.741Z"/></svg>'),{onMouseOver:()=>A(!1),onFocus:()=>{A(!1)}}))))},Wn=(e,a)=>{const[n,r]=t().useState((()=>{const t=(0,ie.A)("use-local-storage/setStoredValue");try{const t=localStorage.getItem(e);return t?JSON.parse(t):a}catch(e){return t.error(e),a}}));return[n,t=>{const a=(0,ie.A)("use-local-storage/setValue");try{const a=t instanceof Function?t(n):t;r(a),localStorage.setItem(e,JSON.stringify(a))}catch(e){a.error(e)}},()=>{localStorage.removeItem(e),r(a)}]};var zn=i(4114),Kn=i(184);const Qn={addTooltipSessionStorageKey:"fl_sessiontooltip",baseProductStorageKey:"fl_products_",productStorageKey:"",trackingLoadKey:"ft_tracknotsignedadd",addTooltipStorageKey:"ft_tooltip",addTooltipUserStorageKey:"",parentPartNumber:"fl_parentPart",productCategory:"fl_productCategory"},Jn="as_cn",Zn="Favorites",Xn=(e,t,a,n)=>{const{sendUserInteraction:r,util:s}=window.asMetrics,{OmnitureCollection:i,OmnitureProduct:o,OmnitureEvent:l}=s.omnitureCollection,c=new i(new o({category:n,sku:a})),d=new i(new l(t));r({name:Zn,element:e,beacon:{products:c,events:d}})},er=t=>{let{config:a}=t;if(r().isEmpty(a)||!a.fetchFavoritesURL)return{};const[n,s]=Wn(Qn.baseProductStorageKey+a.storageKey,null);let i,o;const[l,c]=(0,e.useState)(!1),[d,u]=(0,e.useState)(""),m=()=>{"true"===sessionStorage.getItem(Qn.trackingLoadKey)&&(c(!0),(()=>{const{sendUserInteraction:e,util:t}=window.asMetrics,{OmnitureCollection:a,OmnitureProduct:n,OmnitureEvent:r}=t.omnitureCollection,s=sessionStorage.getItem(Qn.parentPartNumber),i=sessionStorage.getItem(Qn.productCategory);if(s&&i){const t=new a(new n({category:i,sku:s})),o=new a(new r("event10"));e({name:Zn,beacon:{products:t,events:o}})}})(),sessionStorage.setItem(Qn.trackingLoadKey,!1))};(0,e.useEffect)((()=>{n&&!sessionStorage.getItem(Qn.trackingLoadKey)&&null!==sessionStorage.getItem(Qn.trackingLoadKey)||(()=>{const e=(0,ie.A)("favorite/useFavorite/fetchFavorites");(0,Be.hI)(a.fetchFavoritesURL).then((e=>{i=r().get(e,"body.content.favorites",[]),m(),s({[zn.J(Jn)]:i})})).catch((t=>{e.error(t)}))})()}),[]);return{addRemoveFavorite:(e,t,n,l,c)=>{const d=(0,ie.A)("favorite/useFavorite/addRemoveFavorite");let m,p=t;p||(p=a.configBasePart),m=0!==Object.keys(l).length?(e=>{const t=Object.keys(e).reduce(((t,a)=>(t[`option.${a}`]=e[a],t)),{});return new URLSearchParams(t).toString()})(l):"";const g=c?`&cppart=${c}`:"";o=e?`${a.removeFromFavoritesURL}&product=${n}${g}&${m}`:`${a.addToFavoritesURL}&product=${n}${g}&${m}`;const h=o.replace("&amp;","&");return(0,Be.hI)(h,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"},cache:"no-cache",timeout:2e4}).then((o=>{const l=r().get(o,"body.content.success"),c=r().get(o,"head",{}),d=parseInt(r().get(c,"status",""),10);if(i=r().get(o,"body.content.favorites",[]),302===d&&((e,t,n,r)=>{Object.values(Qn).map((e=>(e===Qn.trackingLoadKey&&sessionStorage.setItem(e,!0),e===Qn.addTooltipSessionStorageKey&&sessionStorage.setItem(e,JSON.stringify({value:n})),e===Qn.parentPartNumber&&sessionStorage.setItem(e,t),e===Qn.productCategory&&sessionStorage.setItem(e,a.category),e))),localStorage.removeItem(Qn.baseProductStorageKey+a.storageKey),Kn.A.doRedirect(e.data.url),Xn("","event13",r,a.category)})(c,t,n,p),200===d)if(l)s({[zn.J(Jn)]:i}),Xn("",e?"event17":"event10,event13",p,a.category),u("");else{const e=r().get(o,"body.content.error");u(e),(()=>{const{sendUserInteraction:e}=window.asMetrics;e({name:`${Zn}|unsuccessful`,beacon:{eVar5:'D=pageName+"|favorites|reached maximum"'}})})()}})).catch((e=>{d.error(e)}))},hasFavorite:(e,t,a)=>{let s=!1;if(n){const i=r().get(n,`${zn.J(Jn)}`,{});if(Object.entries(i).length>0){if(e&&0===Object.keys(t).length&&""===a)return i.forEach((t=>{t.part===e&&(s=!0)})),s;if(e&&0!==Object.keys(t).length)return i.forEach((a=>{if(a.options){r().isEqual(t,a.options)&&a.part===e&&(s=!0)}else a.part===e&&(s=!0)})),s;if(e&&0===Object.keys(t).length&&""!==a)return i.forEach((t=>{t.part===e&&t.iPhone.carrierPolicyPart===a&&(s=!0)})),s}}return s},isFirstFavoriteAdded:l,errorMessage:d}};var tr=i(7427),ar=i(4668),nr=i(7466),rr=i(9066),sr=i(9932);const ir=a=>{let{isShown:n=!1,assets:s={},config:i={},savedLists:o=[],errorLabel:l=null,maxCustomListErrorLabel:c=null,a11y:d={},onErrorReset:u=(()=>{}),onConfirm:m=(()=>{}),onCancel:p=(()=>{})}=a;const g=(0,e.useId)(),[h,f]=(0,e.useState)(!1),[E,v]=(0,e.useState)(""),[y,b]=(0,e.useState)([]),[A,S]=(0,e.useState)(""),[w,T]=(0,e.useState)(!0),[O,N]=(0,e.useState)(!1),{customListNameMaxLength:C,savedByYouPageURL:_}=i,I=(0,e.useRef)(),D=(0,Ft.A)({initialValues:{savedList:""}}),{values:L,setValues:k,handleChange:x}=D,P=()=>{u(),T(!0),f(!0)},R=r().get(L,"savedList",""),M="newlist"===R,F=()=>{const e=r().find(y,(e=>e.listId===R));m({isNew:M,name:M?A:e?.listName,listId:M?"":R}),u()},H=()=>{p(),u()};(0,e.useEffect)((()=>{I.current&&l&&M&&I.current.focus()}),[l,M]);const U=e=>{let{SelectorLabel:a}=e;return t().createElement(t().Fragment,null,t().createElement(a,{classes:{root:"rf-addtolist-selector-label"}},t().createElement("div",(0,q.A)({className:"rf-addtolist-selector-image"},(0,Y.OH)('<svg viewBox="0 0 35 35" class="as-svgicon as-svgicon-pluscirclefill as-svgicon-base as-svgicon-pluscirclefillbase" role="img" aria-hidden="true" width="35px" height="35px"><path fill="none" d="M0 0h35v35H0z"/><path d="M17.5 5A12.5 12.5 0 1 0 30 17.5 12.5 12.5 0 0 0 17.5 5Zm6 13H18v5.5a.5.5 0 0 1-1 0V18h-5.5a.5.5 0 0 1 0-1H17v-5.5a.5.5 0 0 1 1 0V17h5.5a.5.5 0 0 1 0 1Z"/></svg>'))),t().createElement("div",{className:"rf-addtolist-selector-container"},t().createElement("span",(0,q.A)({className:"rf-addtolist-selector-title"},(0,Y.OH)(r().get(s,"createNewListLabel","")))))),t().createElement($.A,null,t().createElement(G.x,{in:h,onExited:()=>{S("")}},t().createElement("div",null,t().createElement("div",{className:"rf-addtolist-createnew-container"},t().createElement(Mt.A,{ref:I,classes:{root:te()("rf-addtolist-createnew-textbox-wrapper",{"is-error":O}),input:"rf-addtolist-createnew-textbox",error:"rf-addtolist-createnew-textbox-error"},id:g,name:"newListName","aria-invalid":O,label:r().get(s,"listNamePlaceholder",""),value:A,autoComplete:"off",maxLength:C,required:!0,resetA11y:r().get(window,"GLOBAL_ASSETS.reset",""),onReset:()=>{S(""),u(),I.current&&I.current.focus()},onChange:e=>{const t=e.target.value;S(t),w&&t&&T(!1),t||T(!0),O&&N(!1)}})),t().createElement("div",{className:"rf-addtolist-createnew-button-container"},t().createElement("div",{className:"rf-addtolist-confirmbutton"},t().createElement(nr.A,{onClick:F,disabled:w,"data-autom":"confirm","aria-describedby":c?"maxCustomListError":null},t().createElement("span",(0,Y.OH)(r().get(s,"confirmLabel",""))))),t().createElement("div",{className:te()("rf-addtolist-cancelbutton",K.A.BODY)},t().createElement("button",{type:"button",onClick:H,"data-autom":"cancel"},t().createElement("span",(0,Y.OH)(r().get(s,"cancelLabel",""))))))))))},B=e=>{x(e),f(!1),w&&T(!1)};return(0,e.useEffect)((()=>{T(!!(l||h&&!A)),N(!(!M||!l))}),[l]),(0,e.useEffect)((()=>{f(!1),k({savedList:E})}),[n,E,k,f]),(0,e.useEffect)((()=>{let e=[];e=c?[...o]:[{listId:"newlist"},...o],v(r().get(o,"0.listId","")),b(e)}),[o,k,c]),n?t().createElement("div",{className:te()("rf-addtolist-container",K.A.BODY)},t().createElement("h2",{className:te()("rf-addtolist-header ",K.A.HEADLINE_REDUCED)},t().createElement("span",(0,q.A)({id:r().get(d,"addToListHeaderID")},(0,Y.OH)(r().get(s,"defaultOverlayHeader",""))))),t().createElement("p",{className:te()("rf-addtolist-subheader",K.A.BODY)},t().createElement("span",(0,q.A)({id:"rf-addtolist-selectors-group-label"},(0,Y.OH)(r().get(s,"defaultOverlaySubHeader",""))))),l&&t().createElement(ar.A,{error:!0,className:"rf-addtolist-errormessage"},t().createElement("span",(0,q.A)({className:"rf-addtolist-error-icon"},(0,Y.OH)('<svg viewBox="0 0 20 25" class="as-svgicon as-svgicon-exclamationmarkcircle as-svgicon-reduced as-svgicon-exclamationmarkcirclereduced" role="img" aria-hidden="true" width="25px" height="25px"><path fill="none" d="M0 0h20v25H0z"/><path d="M10 4.1a8.4 8.4 0 1 1-8.4 8.4A8.409 8.409 0 0 1 10 4.1M10 3a9.5 9.5 0 1 0 9.5 9.5A9.5 9.5 0 0 0 10 3Z"/><path d="M9.092 16.411a.9.9 0 0 1 .908-.879.879.879 0 1 1 0 1.758.907.907 0 0 1-.908-.879Zm.3-2.773-.105-5.225A.674.674 0 0 1 10 7.71a.691.691 0 0 1 .713.7l-.113 5.228a.561.561 0 0 1-.6.635.568.568 0 0 1-.605-.635Z"/></svg>'))),t().createElement("span",{id:`${g}_error`},l)),t().createElement("fieldset",{"aria-labelledby":"rf-addtolist-selectors-group-label"},t().createElement(sr.A,{className:"rf-addtolist-selectors"},y.map((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{listName:a,listId:n,image:r,itemsCount:s}=e,i="newlist"===n,o=n===E?"all-saved-by-you":null;return t().createElement(rr.Ay,{classes:{root:te()("rf-addtolist-selector-item",{"rf-addtolist-selector-item-create-new":i}),label:"rf-addtolist-selector-label",input:"rf-addtolist-selector-input"},name:"savedList",id:n,value:n,key:n,checked:R===n,onChange:i?x:B,onClick:i?P:u,render:i?U:null,withAriaLabeledBy:!0,"data-autom":i?"create-new-list":o},!i&&((e,a,n)=>t().createElement(t().Fragment,null,t().createElement("div",{className:"rf-addtolist-selector-imagecontainer"},t().createElement("div",{className:"rf-addtolist-selector-image"},n&&t().createElement(Jt.Ay,{className:"rf-addtolist-selector-image-element",data:n,"aria-hidden":"true"}),!n&&t().createElement("span",(0,Y.OH)('<svg viewBox="0 0 56 56" class="as-svgicon as-svgicon-applelogo as-svgicon-elevated as-svgicon-applelogoelevated" role="img" aria-hidden="true" width="56px" height="56px"><path fill="none" d="M0 0h56v56H0z"/><path d="M41.207 18.248a7.851 7.851 0 0 0-3.751 6.6 7.64 7.64 0 0 0 4.644 7.011 18.257 18.257 0 0 1-2.381 4.919c-1.482 2.134-3.032 4.268-5.391 4.268s-2.965-1.37-5.683-1.37c-2.65 0-3.594 1.415-5.75 1.415s-3.661-1.977-5.391-4.4a21.279 21.279 0 0 1-3.616-11.478c0-6.738 4.38-10.31 8.692-10.31 2.291 0 4.2 1.5 5.638 1.5 1.37 0 3.5-1.595 6.109-1.595a8.172 8.172 0 0 1 6.88 3.44ZM28.4 14.43a2.581 2.581 0 0 1-.472-.045 3.083 3.083 0 0 1-.067-.629 7.531 7.531 0 0 1 1.909-4.694 7.76 7.76 0 0 1 5.1-2.628 3.329 3.329 0 0 1 .067.7 7.745 7.745 0 0 1-1.837 4.825 6.728 6.728 0 0 1-4.7 2.471Z"/></svg>')))),t().createElement("div",{className:"rf-addtolist-selector-container"},t().createElement("div",(0,q.A)({className:"rf-addtolist-selector-title"},(0,Y.OH)(e))),t().createElement("div",(0,q.A)({className:te()("rf-addtolist-selector-subtitle",K.A.CAPTION)},(0,Y.OH)(a))))))(a,s,r))})))),!h&&t().createElement("div",{className:"rf-addtolist-button-container"},t().createElement("div",{className:"rf-addtolist-confirmbutton"},t().createElement(nr.A,{onClick:F,disabled:w,"data-autom":"confirm","aria-describedby":c?"maxCustomListError":null},t().createElement("span",(0,Y.OH)(r().get(s,"confirmLabel",""))))),t().createElement("div",{className:te()("rf-addtolist-cancelbutton",K.A.BODY)},t().createElement("button",{type:"button",onClick:H,"data-autom":"cancel"},t().createElement("span",(0,Y.OH)(r().get(s,"cancelLabel","")))))),c&&t().createElement("div",{className:"rf-addtolist-maxcustomlists"},t().createElement("p",(0,q.A)({id:"maxCustomListError",className:"rf-addtolist-maxcustomlists-message"},(0,Y.OH)(c))),t().createElement("p",{className:"rf-addtolist-maxcustomlists-link"},t().createElement("a",{href:_,"data-autom":"maxcustomlists"},r().get(s,"manageListsLabel",""))))):null},{OmnitureCollection:or=(()=>({add:()=>{}})),OmnitureProduct:lr=(()=>{}),OmnitureEvent:cr=(()=>{})}=r().get(window,"asMetrics.util.omnitureCollection",{}),dr=(e,t)=>{const a=new lr({category:e,sku:t});return new or(a)},ur=e=>e.substring(0,5),mr=Object.freeze({TINY:"tiny",BASE:"base",REDUCED:"reduced",ELEVATED:"elevated"}),pr=e=>{let{headerTag:a="h2",partNumber:n,parentPartNumber:s,carrierPolicyPart:i="",options:o={},addOns:l={},additionalData:c={},uid:d="",assets:u={},config:m={},disabled:p=!1,overrideDisabledStyles:g=!1,savedItemAssets:h={},shouldShowOverlay:f={},savedLists:E=null,errorLabel:v=null,maxCustomListErrorLabel:y=null,maxSavedItemsErrorLabel:b=null,a11yText:A="",savedItemId:S="",iconSize:w=mr.TINY,tooltipPosition:T,getIsItemSaved:O=(()=>{}),handleShowOverlay:N=(()=>{}),handleCloseOverlay:C=(()=>{}),handleAddToList:_=(()=>{}),handleRemoveFromList:I=(()=>{}),handleResetError:D=(()=>{}),handlePageHide:L=(()=>{})}=e;const{viewport:k}=(0,U.useGlobalContext)(),x="small"===k,{savedByYouPageURL:P,category:R,simplifiedSaves:M}=m,F=S||n,H={addToListHeaderID:"addToListHeader"},$=t().useId(),B=r().get(f,F,!1),[V,j]=t().useState(!1),[G,W]=t().useState(B),{reducedButtonIcon:z,tinyButtonIcon:Q,baseButtonIcon:J,contentDescription:Z,contentHeader:X,saveForLaterLabel:ee,toolTipLabel:ae}=V?r().get(h,"saved",{}):r().get(h,"default",{}),ne=r().get(u,"manageAllSavedItemsLabel",""),re=o?Object.keys(o).map((e=>`${e}=${o[e]}`)).join("-"):"",se=l?Object.keys(l).map((e=>`${e}=${l[e]}`)).join("-"):"";t().useEffect((()=>{if(n){const e=O(n,i,o,l);j(!!e)}else j(!1)}),[n,i,re,se,O]),t().useEffect((()=>{W(!0)}),[B]);const[ie,oe]=(0,tr.oM)({resetDelay:4e3});t().useEffect((()=>{oe(v)}),[v]);const le=()=>{const e={partNumber:n,parentPartNumber:s,carrierPolicyPart:i,options:o,addOns:l};if(V)I(e).then((()=>{j(!1)}));else{const t=s||ur(n);if(((e,t)=>{const a=dr(e,t),n=new or;n.add(new cr("event13")),window.asMetrics.sendUserInteraction({name:"Saved items",beacon:{prop3:`add to list | ${t}`,events:n,products:a}})})(R,t),M){_({},e,F).then((e=>{r().get(e,"body.content.success")&&j(!0)}))}else N(e,t,F)}};return(0,Me.A)("pagehide",L),t().createElement("div",{id:`${d}_${F}`,className:te()("rf-saveditem-container",{"rf-saveditem-container-disabled":p&&!g})},t().createElement(tr.Ay,{message:ie}),M?t().createElement("div",null,t().createElement("button",{type:"button",className:te()("rf-saveditem-button as-buttonlink",K.A.BODY_REDUCED),"data-autom":"save-for-later",disabled:!!p&&"disabled","aria-label":`${ee} ${A}`,onClick:le,id:$},t().createElement("span",(0,Y.OH)(z)),t().createElement("span",(0,q.A)({className:te()("rf-saveditem-button-label-body",K.A.BODY)},(0,Y.OH)(ee))))):t().createElement("div",null,w===mr.TINY?t().createElement("div",null,t().createElement("div",{className:"rf-saveditem-content"},t().createElement(a,{className:te()("rf-saveditem-content-header",K.A.BODY_REDUCED)},t().createElement("span",(0,Y.OH)(X))),t().createElement("div",(0,q.A)({className:te()("rf-saveditem-content-description",K.A.BODY_REDUCED)},(0,Y.OH)(Z)))),t().createElement("button",{type:"button",className:te()("rf-saveditem-button as-buttonlink",K.A.BODY_REDUCED),"data-autom":"save-for-later",disabled:!!p&&"disabled","aria-label":`${ee} ${A}`,onClick:le,id:$},t().createElement("span",(0,Y.OH)(Q)),t().createElement("span",(0,Y.OH)(ee)))):t().createElement(jn.A,{content:t().createElement("span",(0,Y.OH)(ae)),className:"rf-saveditem-tooltip",centered:!0,position:T||(x?"top_end":"top"),"aria-hidden":"true"},t().createElement("button",(0,q.A)({type:"button",className:te()("rf-saveditem-button as-buttonlink",K.A.BODY_REDUCED),disabled:!!p&&"disabled","aria-label":`${ae} ${A}`,onClick:le},(0,Y.OH)(J),{id:$})))),t().createElement(dt.A,{visible:B,onClose:()=>C(F),fixedWidth:!0,ariaLabel:H.addToListHeaderID,onExited:()=>{document.getElementById($).focus(),W(!1)}},!b&&E&&t().createElement(ir,{isShown:G,assets:{...u,header:r().get(u,"defaultHeader",""),subHeader:r().get(u,"defaultDescription","")},config:m,savedLists:E,errorLabel:v,maxCustomListErrorLabel:y,onConfirm:e=>(e=>{_(e,{partNumber:n,parentPartNumber:s,carrierPolicyPart:i,options:o,addOns:l,additionalData:c}).then((e=>{r().get(e,"body.content.success")&&j(!0)}))})(e),onCancel:C,onErrorReset:D,a11y:H}),b&&t().createElement("div",{className:"rf-saveditem-error-container"},t().createElement("h2",{className:te()("rf-saveditem-error-header",K.A.HEADLINE_REDUCED)},t().createElement("span",(0,q.A)({id:H.addToListHeaderID},(0,Y.OH)(r().get(u,"unableToSaveItemHeader",""))))),t().createElement("p",{className:te()("rf-saveditem-error-subheader",K.A.BODY)},t().createElement("span",(0,Y.OH)(b))),t().createElement("div",{className:"rf-saveditem-error-confirmbutton"},t().createElement("a",{className:"form-button",alt:ne,href:P},t().createElement("span",(0,Y.OH)(ne)))),t().createElement("div",{className:te()("rf-saveditem-error-cancelbutton",K.A.BODY)},t().createElement("button",{type:"button",onClick:C},t().createElement("span",(0,Y.OH)(r().get(u,"cancelLabel",""))))))))},gr='<svg width="21" height="21" class="as-svgicon as-svgicon-bookmarkfill as-svgicon-tiny as-svgicon-bookmarkfilltiny" role="img" aria-hidden="true"><path fill="none" d="M0 0h21v21H0z"/><path d="M12.8 3.25H8.2A2.2 2.2 0 0 0 6 5.45v11.588a.768.768 0 0 0 .166.522.573.573 0 0 0 .455.19.644.644 0 0 0 .38-.128 5.008 5.008 0 0 0 .524-.467l2.916-2.885a.084.084 0 0 1 .118 0l2.916 2.886a6.364 6.364 0 0 0 .52.463.628.628 0 0 0 .384.131.573.573 0 0 0 .456-.19.768.768 0 0 0 .165-.522V5.45a2.2 2.2 0 0 0-2.2-2.2Z"/></svg>',hr={linear:e=>e,"ease-in":e=>e**2,"ease-out":e=>e*(2-e),"ease-in-out":e=>e<.5?2*e**2:(4-2*e)*e-1,"ease-in-cubic":e=>e**3,"ease-out-cubic":e=>(e-1)**3+1},fr=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new window.Promise((n=>{const{duration:r=400,easing:s="linear",abortAfterTimeout:i=!0}=a,o=hr[s]||hr.linear,l=window.scrollY,c=Math.min(Math.max(0,t),e.scrollHeight-window.innerHeight);let d,u=!1;const m=t=>{d||(d=t);const a=o((t-d)/r),s=Math.abs(l-c),i=Math.sign(c-l),p=i*a*s,g=(i>0?Math.min:Math.max)(l+p,c);e.scrollTop=g;(i>0?g>=c:g<=c)||u?n("done"):requestAnimationFrame(m)};l!==c?(requestAnimationFrame(m),i&&window.setTimeout((()=>{u=!0}),r)):n("done")}))},Er={baseProductStorageKey:"fl_products_",productStorageKey:"",partNumber:"fl_part",parentPartNumber:"fl_parentPart",carrierPolicyPart:"fl_carrierPolicyPart",options:"fl_options",addOns:"fl_addOns",productCategory:"fl_productCategory",trackingLoadKey:"ft_tracknotsignedadd",trackFromSavedByYouPageKey:"dt-list",savedItemButtonId:"saved_item_id"},vr="as_cn",yr=(e,t,a,n,s)=>{let i={};if(e.length>0){const o=n?Object.keys(n).length:0,l=s?Object.keys(s).length:0;t&&0===o&&!a&&0===l?i=r().find(e,(e=>e.part===t&&!e.addOns)):t&&0===o&&!a&&0!==l?i=r().find(e,(e=>r().isEqual(s,e.addOns)&&e.part===t)):t&&0===o&&a?i=r().find(e,(e=>e.part===t&&e.iPhone.carrierPolicyPart===a)):t&&0!==o&&(i=r().find(e,(e=>{if(!e.options)return e.part===t;const a=Object.keys(n).every((t=>e.options.hasOwnProperty(t)&&e.options[t]===n[t]));if(0!==l){const n=r().isEqual(s,e.addOns);return a&&n&&e.part===t}return 0===l?a&&!e.addOns&&e.part===t:a&&e.part===t})))}return i},br=t=>{let{assets:a={},config:n={},notification:s=null}=t;const{category:i,addToSavedListURL:o="",fetchSavedItemsURL:l,fetchSavedListsURL:c="",removeSavedItemURL:d="",savedByYouPageURL:u="",storageKey:m,simplifiedSaves:p}=n||{},g=(0,e.useId)(),[h,f]=(0,e.useState)({}),[E,v]=(0,e.useState)(!1),[y]=(0,e.useState)({default:{baseButtonIcon:'<svg width="35" height="35" class="as-svgicon as-svgicon-bookmark as-svgicon-base as-svgicon-bookmarkbase" role="img" aria-hidden="true"><path fill="none" d="M0 0h35v35H0z"/><path d="M21.952 6.433a2.157 2.157 0 0 1 1.567.481A2.228 2.228 0 0 1 24 8.516v19.866a.709.709 0 0 1-.018.178.7.7 0 0 1-.058-.013 8.985 8.985 0 0 1-.757-.674l-4.866-4.901a1.111 1.111 0 0 0-1.602 0l-4.857 4.891a7.25 7.25 0 0 1-.754.676.145.145 0 0 1-.053.028h-.015a.681.681 0 0 1-.02-.185V8.516a2.228 2.228 0 0 1 .48-1.602 2.158 2.158 0 0 1 1.568-.48h8.904m0-1h-8.904a3.077 3.077 0 0 0-2.278.776A3.144 3.144 0 0 0 10 8.516v19.866a1.276 1.276 0 0 0 .276.868.956.956 0 0 0 .76.317 1.073 1.073 0 0 0 .632-.213 8.377 8.377 0 0 0 .874-.776l4.866-4.9a.115.115 0 0 1 .184 0l4.866 4.9a10.454 10.454 0 0 0 .868.77 1.048 1.048 0 0 0 .639.219.956.956 0 0 0 .76-.317 1.276 1.276 0 0 0 .275-.868V8.516a3.144 3.144 0 0 0-.77-2.306 3.077 3.077 0 0 0-2.278-.776Z"/></svg>',tinyButtonIcon:'<svg width="21" height="21" class="as-svgicon as-svgicon-bookmark as-svgicon-tiny as-svgicon-bookmarktiny" role="img" aria-hidden="true"><path fill="none" d="M0 0h21v21H0z"/><path d="M12.8 4.25a1.202 1.202 0 0 1 1.2 1.2v10.818l-2.738-2.71a1.085 1.085 0 0 0-1.524 0L7 16.269V5.45a1.202 1.202 0 0 1 1.2-1.2h4.6m0-1H8.2A2.2 2.2 0 0 0 6 5.45v11.588a.768.768 0 0 0 .166.522.573.573 0 0 0 .455.19.644.644 0 0 0 .38-.128 5.008 5.008 0 0 0 .524-.467l2.916-2.885a.084.084 0 0 1 .118 0l2.916 2.886a6.364 6.364 0 0 0 .52.463.628.628 0 0 0 .384.131.573.573 0 0 0 .456-.19.768.768 0 0 0 .165-.522V5.45a2.2 2.2 0 0 0-2.2-2.2Z"/></svg>',reducedButtonIcon:'<svg width="25" height="25" class="as-svgicon as-svgicon-bookmark as-svgicon-reduced as-svgicon-bookmarkreduced" role="img" aria-hidden="true"><path fill="none" d="M0 0h25v25H0z"/><path d="M15.5 4.625a1.502 1.502 0 0 1 1.5 1.5v13.964a11.184 11.184 0 0 1-.16-.152l-3.565-3.534a1.103 1.103 0 0 0-1.551.002l-3.56 3.53c-.06.059-.115.111-.164.157V6.125a1.502 1.502 0 0 1 1.5-1.5h6m0-1h-6a2.5 2.5 0 0 0-2.5 2.5v14.379a.94.94 0 0 0 .203.638.699.699 0 0 0 .556.233.785.785 0 0 0 .464-.157 6.173 6.173 0 0 0 .641-.57l3.564-3.533a.103.103 0 0 1 .144 0l3.564 3.532a7.93 7.93 0 0 0 .636.567.77.77 0 0 0 .469.161.699.699 0 0 0 .556-.233.94.94 0 0 0 .203-.638V6.125a2.5 2.5 0 0 0-2.5-2.5Z"/></svg>',contentHeader:r().get(a,"defaultHeader",""),contentDescription:r().get(a,"defaultDescription",""),toolTipLabel:r().get(a,"toolTipSaveLabel",""),saveForLaterLabel:r().get(a,"unsavedStatusButtonText","")},saved:{baseButtonIcon:'<svg width="35" height="35" class="as-svgicon as-svgicon-bookmarkfill as-svgicon-base as-svgicon-bookmarkfillbase" role="img" aria-hidden="true"><path fill="none" d="M0 0h35v35H0z"/><path d="M21.952 5.433h-8.904a3.077 3.077 0 0 0-2.278.777A3.144 3.144 0 0 0 10 8.516v19.866a1.276 1.276 0 0 0 .276.868.956.956 0 0 0 .76.317 1.073 1.073 0 0 0 .632-.213 8.377 8.377 0 0 0 .874-.776l4.866-4.9a.115.115 0 0 1 .184 0l4.866 4.9a10.454 10.454 0 0 0 .868.77 1.048 1.048 0 0 0 .639.219.956.956 0 0 0 .76-.317 1.276 1.276 0 0 0 .275-.868V8.516a3.144 3.144 0 0 0-.77-2.306 3.077 3.077 0 0 0-2.278-.776Z"/></svg>',tinyButtonIcon:gr,reducedButtonIcon:'<svg width="25" height="25" class="as-svgicon as-svgicon-bookmarkfill as-svgicon-reduced as-svgicon-bookmarkfillreduced" role="img" aria-hidden="true"><path fill="none" d="M0 0h25v25H0z"/><path d="M15.5 3.625h-6a2.5 2.5 0 0 0-2.5 2.5v14.379a.94.94 0 0 0 .203.638.699.699 0 0 0 .556.233.785.785 0 0 0 .464-.157 6.173 6.173 0 0 0 .641-.57l3.564-3.533a.103.103 0 0 1 .144 0l3.564 3.532a7.93 7.93 0 0 0 .636.567.77.77 0 0 0 .469.161.699.699 0 0 0 .556-.233.94.94 0 0 0 .203-.638V6.125a2.5 2.5 0 0 0-2.5-2.5Z"/></svg>',contentHeader:r().get(a,"savedHeader",""),contentDescription:r().get(a,"savedDescription",""),toolTipLabel:r().get(a,"toolTipRemoveLabel",""),saveForLaterLabel:p?r().get(a,"savedStatusButtonText",""):r().get(a,"removeButtonText","")}}),[b,A]=(0,e.useState)(null),[S,w]=(0,e.useState)(),[T,O]=(0,e.useState)({}),[N,C]=(0,e.useState)(null),[_,I]=(0,e.useState)(null),[D,L]=(0,e.useState)(null),[k,x]=Wn(Er.baseProductStorageKey+m,null),P=(0,e.useRef)(!1),R=(0,e.useRef)(!1),M=(0,e.useCallback)((function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=null;if(k){const i=r().get(k,`${zn.J(vr)}`,[]);s=yr(i,e,t,a,n)}return!r().isEmpty(s)}),[k]),F=()=>{C(null),L(null),I(null)},H=(e,t,a)=>{const n=e.replace("&amp;","&");return(0,Be.hI)(n,{method:"GET",headers:{"X-Requested-With":"XMLHttpRequest"},cache:"no-cache",timeout:2e4}).then((e=>{const n=r().get(e,"head",{});if(302===parseInt(r().get(n,"status",""),10)){if(!1===R.current){((e,t)=>{const{partNumber:a,parentPartNumber:n,carrierPolicyPart:r,options:s,addOns:o}=e||{};Object.values(Er).forEach((e=>{e===Er.trackingLoadKey&&sessionStorage.setItem(e,!0),e===Er.partNumber&&sessionStorage.setItem(e,a),e===Er.parentPartNumber&&sessionStorage.setItem(e,n),e===Er.carrierPolicyPart&&r&&sessionStorage.setItem(e,r),e===Er.options&&s&&sessionStorage.setItem(e,JSON.stringify(s)),e===Er.addOns&&o&&sessionStorage.setItem(e,JSON.stringify(o)),e===Er.productCategory&&sessionStorage.setItem(e,i),e===Er.savedItemButtonId&&t&&sessionStorage.setItem(e,t)}))})(t,a);(e=>{localStorage.removeItem(Er.baseProductStorageKey+m),f({}),O(!1),setTimeout((()=>{Kn._.doRedirect(e)}),0)})(r().get(n,"data.url",""))}else R.current=!1;return null}return e}))},U=(e,t,a)=>{const n=(0,ie.A)("saved-item/use-saved-item/useSavedItem/handleShowOverlay");return H(c,e,a).then((e=>{if(e){const n=r().get(e,"body.content"),s=r().get(n,"success"),o=r().get(n,"maxSavedItemsErrorLabel");if(F(),s){const e=r().get(n,"savedLists",[]),s=r().get(e,"0.listId",null);w(s),A(e),I(r().get(n,"maxCustomListsErrorLabel")),O({[a]:!0}),((e,t)=>{const a=dr(e,t),n=new or;n.add(new cr("event13")),window.asMetrics.sendUserInteraction({name:"Saved items",beacon:{prop3:`save to list | ${t}`,events:n,products:a}})})(i,t)}else!s&&o&&(L(o),O({[a]:!0}))}})).catch((e=>{n.error(e)}))},$=(0,e.useCallback)(((e,t,a,n)=>{if(!k)return{};const s=r().get(k,`${zn.J(vr)}`,[]),i=yr(s,e,t,a,n),o=r().get(i,"favoriteId",""),l=r().get(h,`${e}_${o}`,{}),c=sessionStorage.getItem(Er.trackFromSavedByYouPageKey),d=c?JSON.parse(c):{};return{isItemSaved:!r().isEmpty(i),...i,...l,trackingListId:d.listId}}),[k]);return(0,e.useEffect)((()=>{const e=sessionStorage.getItem(Er.trackingLoadKey);"true"===e&&(R.current=!0),(!k||r().isEmpty(k[zn.J(vr)])||"true"===e||p)&&l&&(()=>{const e=(0,ie.A)("saved-item/use-saved-item/useSavedItem/fetchSavedItems");H(l).then((e=>{const t=r().get(e,"body.content.favorites",[]);v(r().get(e,"body.content.success",!1)),x({[zn.J(vr)]:t})})).catch((t=>{e.error(t)}))})()}),[]),(0,e.useEffect)((()=>{if(k){if("true"===sessionStorage.getItem(Er.trackingLoadKey)){const e=sessionStorage.getItem(Er.partNumber),t=sessionStorage.getItem(Er.parentPartNumber),a=sessionStorage.getItem(Er.carrierPolicyPart),n=sessionStorage.getItem(Er.options),r=sessionStorage.getItem(Er.savedItemButtonId),s=n?JSON.parse(n):{},i=sessionStorage.getItem(Er.addOns),o=i?JSON.parse(i):{},l=t||ur(e),c={partNumber:e,parentPartNumber:t,carrierPolicyPart:a,options:s,addOns:o};Object.values(Er).forEach((e=>{e!==Er.partNumber&&e!==Er.parentPartNumber&&e!==Er.trackingLoadKey&&e!==Er.productCategory&&e!==Er.carrierPolicyPart&&e!==Er.options&&e!==Er.addOns&&e!==Er.savedItemButtonId||sessionStorage.removeItem(e)}));M(e,a,s,o)||U(c,l,r),P.current=!0}}}),[k]),{uid:g,savedItemAssets:y,localStorageVal:k,shouldShowOverlay:T,savedLists:b,errorLabel:N,maxCustomListErrorLabel:_,maxSavedItemsErrorLabel:D,isFetchSavedItems:E,handleAddToList:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const l=(0,ie.A)("saved-item/use-saved-item/useSavedItem/handleAddToList"),{partNumber:c,parentPartNumber:d,carrierPolicyPart:m="",options:p={},addOns:g={},additionalData:h={}}=t,{listId:E,name:v,isNew:y}=e,b=!(A=p)||r().isEmpty(A)?null:Object.keys(A).reduce(((e,t)=>(e[`option.${t}`]=A[t],e)),{});var A;const w=(e=>r().isEmpty(e)?null:Object.keys(e).reduce(((t,a)=>(t[`ao.${a}`]=e[a],t)),{}))(g),T={product:c,...b&&{...b},...w&&{...w},...!r().isEmpty(h)&&{...h},...m&&{cppart:m},...!y&&E&&{_li:E},...v&&{_ln:v}},N=d||ur(c),_=it.extendUrlQuery(o,T),I=H(_,{partNumber:c,parentPartNumber:d,carrierPolicyPart:m,options:p,addOns:g});return I.then((e=>{const t=r().get(e,"body.content"),o=r().get(t,"success"),l=r().get(t,"maxSavedItemsErrorLabel");if(o){F(),O(!1);const e=r().get(t,"favorites",[]),n=yr(e,c,m,p,g),o=r().get(n,"favoriteId",""),l=r().get(t,"successLabel",null),d=r().get(t,"newListId",null)||r().get(t,"listId",null),{pathname:h,...b}=it.parseUrl(u),A=`\n                        <a\n                            class='rf-saveditem-link more'\n                            href='${it.makeUrl({...b,pathname:`${h}/${d}`})}'\n                            data-analytics-title='see list'\n                            data-analytics-region='ribbon'\n                            data-evar1='D=pageName+" | ribbon | see list"'\n                            data-analytics-list-id='${d}'\n                        >\n                            ${r().get(a,"viewListLabel","")}\n                        </a>\n                    `;if(s&&l){const e=`\n                            <div class='rf-saveditem-notification-content'>\n                                <span>${gr}</span>\n                                <span class='rf-saveditem-notification-message' data-autom='saveditem-notification-message'>${l}${A}</span>\n                            </div>\n                        `;s.add(e,{persist:!0,attrs:{closeButtonAXText:r().get(window,"GLOBAL_ASSETS.close",""),onCloseButtonClick:()=>{const e=document.getElementsByTagName("h1");e&&1===e.length&&(e[0].setAttribute("tabindex","-1"),setTimeout((()=>{e[0].focus()}),100))}}})}f({[`${c}_${o}`]:{isNew:y,listId:d,name:v}}),x({[zn.J(vr)]:e}),y?((e,t,a)=>{const n=dr(e,t),r=new or;r.add(new cr("event10")),window.asMetrics.sendUserInteraction({name:"Saved items",beacon:{prop3:`save to new list | ${t}`,evar59:`list:${a}`,events:r,products:n}})})(i,N,d):E===S?(e=>{const t=new or,a=r().get(window,"asMetrics.takeaway.onProductSaved",r().noop);t.add(new cr("event10")),a({sku:e})})(N):((e,t,a)=>{const n=dr(e,t),r=new or;r.add(new cr("event10")),window.asMetrics.sendUserInteraction({name:"Saved items",beacon:{prop3:`save to existing list | ${t}`,evar59:`list:${a}`,events:r,products:n}})})(i,N,d)}else!o&&l?(L(l),O({[n]:!0})):C(r().get(t,"errorLabel"))})).catch((e=>{l.error(e)})),I},handleCloseOverlay:e=>{O({[e]:!1}),C(null),!0===P.current&&setTimeout((()=>{const t=document.getElementById(`${g}_${e}`);if(t){const e=(e=>{const t=document.documentElement.offsetTop||0,a=document.querySelector(".localnav-wrapper.sticky-enabled")||document.querySelector(".as-standardnav.css-sticky"),n=a?a.offsetHeight:0;return e.offsetTop+t-n})(t);fr(document.documentElement,e,{duration:900,easing:"ease-in-out"}),P.current=!1}}),100)},handleRemoveFromList:e=>{const t=(0,ie.A)("saved-item/use-saved-item/useSavedItem/handleRemoveFromList"),{partNumber:a,parentPartNumber:n,carrierPolicyPart:o="",options:l=[],addOns:c={}}=e,u=$(a,o,l,c),m=r().get(u,"favoriteId",""),p=n||ur(a),g={product:a,_fi:m},E=it.extendUrlQuery(d,g),v=H(E,e);return v.then((e=>{const t=r().get(e,"body.content"),n=r().get(t,"success");if(F(),n){const e=r().get(t,"favorites",[]),n=r().get(t,"successLabel",null);s&&n&&s.add(n),((e,t)=>{const a=dr(e,t),n=new or;n.add(new cr("event17")),window.asMetrics.sendUserInteraction({name:"Saved items",beacon:{prop3:`remove from list | ${t}`,events:n,products:a}})})(i,p),f(r().omit(h,`${a}_${m}`)),x({[zn.J(vr)]:e})}else C(r().get(t,"errorLabel"))})).catch((e=>{t.error(e)})),v},handleResetError:()=>{C(null),L(null)},handleShowOverlay:U,handlePageHide:()=>{sessionStorage.removeItem(Er.trackFromSavedByYouPageKey),localStorage.removeItem(Er.baseProductStorageKey+m)},getSavedItemData:$,getIsItemSaved:M}},Ar=e=>Object.keys(e).map((t=>e[t])).join(","),Sr=t=>{let{part:a=null,parts:n=null,storeId:s=null,options:i,bootstrap:o={},isBuyable:l,handleChange:c=(()=>{})}=t;const[d,u]=(0,e.useState)(n?{}:l),{buyabilityMessageUrl:m,buyabilityMessageParams:p={}}=o,g=i?Ar(i):"",h=n?n.join(","):"";return(0,e.useEffect)((()=>{if(a&&u(l),!1===l&&m&&(a||h)){const e=(e=>{let{buyabilityMessageParams:t,part:a,parts:n,storeId:r,options:s}=e;const{partNumbers:i="parts",store:o="store"}=t,l=a?{[`${i}.0`]:a}:((e,t)=>e?e.reduce(((e,a,n)=>(e[`${t}.${n}`]=a,e)),{}):{})(n,i);return s&&(l["option.0"]=Ar(s)),r&&(l[o]=r),l})({buyabilityMessageParams:p,part:a,parts:n,storeId:s,options:i});((e,t)=>{const a=it.extendUrlQuery(e,t);return(0,Be.hI)(a)})(m,e).then((e=>{const t=r().get(e,"body.content.buyabilityMessage"),s=((e,t,a)=>{let n,s;return a&&a.order&&(e?(n=!1,a.order.some((t=>(n=r().get(a,`${t}[${e}].isBuyable`,!1),n)))):(n={},s=!1,t.forEach((e=>{a.order.some((t=>(s=r().get(a,`${t}[${e}].isBuyable`,!1),s))),n[e]=s})))),n})(a,n,t);u(s),c(s)}))}}),[a,h,s,l,m,g]),d},wr=t().createContext(),Tr=(wr.Consumer,Object.freeze({DISABLED_COUNTRY:1,NOT_SAFARI:2,OLD_DEVICE:3,OLD_SAFARI:4,DENIED:5,UNSUPPORTED:6,SUPPORTED:7,COMPLETED:8,SUPPLEMENTARY_SUPPORTED:9})),Or=(Object.freeze({UNSUPPORTED:1,SUPPORTED:2,COMPLETED:3,SUPPLEMENTARY_SUPPORTED:4,API_NIL:5,NIL:6}),Object.freeze({INSTALLMENT:"_installments",BANNER:"_banner",OVERLAYHEADER:"_overlayHeader",OVERLAYFOOTER:"_overlayFooter",NOACI:"_no_aci"})),Nr=Object.freeze({INLINE:0,BANNER:1,OVERLAYHEADER:2,OVERLAYFOOTER:3}),Cr=Object.freeze({UPDATE:"update",OPEN_OVERLAY:"open_overlay",CLOSE_OVERLAY:"close_overlay",APPLIED:"ac_apply",UPDATE_CONFIG:"update_config"}),_r=Object.freeze({NO_CARD:"no_card",WITH_CARD:"with_card"}),Ir=(e,t)=>{switch(t.type){case Cr.UPDATE:return{...e,...t.payload};case Cr.OPEN_OVERLAY:return{...e,overlayVisible:!0,isCompleted:!1,overlayTriggerSel:t.payload.triggerSel,showOverlayContentForBanner:t.payload.isBanner,overrideShowOverlay:t.payload.overrideShowOverlay,assetVariables:{...t.payload.assetVariables},metricsInfo:t.payload.metricsInfo};case Cr.CLOSE_OVERLAY:return{...e,overlayVisible:!1};case Cr.APPLIED:return{...e,isCompleted:!0,hasApplied:!0};case Cr.UPDATE_CONFIG:return{...e,...t.payload};default:return{...e}}},Dr=e=>{document.body.classList.toggle("as-buyflowmessages-applycompleted",e)},Lr=e=>{const t=qa.Jt(e)||"";return 0===t.indexOf("~")?t.slice(1):t},kr=()=>{const e=window.sessionStorage;e&&e.removeItem("acs")},xr=(e,t,a,n)=>{const s=r().get(e,"appleCardStatusUrl"),i=Lr("as_cn");s&&i&&(0,Be.hI)(s).then((e=>{const{body:t={}}=e;if(1===t.acs){Object.assign(n,{appleCardState:Tr.COMPLETED});const e=!0;a({type:Cr.UPDATE,payload:{hasNativeState:e}})}Dr(Boolean(t.acs)),kr(),(e=>{const t=window.sessionStorage;if(t){const a=Lr("as_cn");if(a){const n={as_cn_value:a,state:e};t.setItem("acs",JSON.stringify(n))}}})(t.acs)})).catch((e=>{window.console.log("error fetching card status...",e)}))},Pr=(e,t,a,n)=>{if((e=>!e||[Tr.DISABLED_COUNTRY,Tr.NOT_SAFARI,Tr.OLD_DEVICE,Tr.OLD_SAFARI,Tr.DENIED,Tr.UNSUPPORTED].includes(e))(n.appleCardState)){const t=(()=>{const e=window.sessionStorage;let t=null;if(e){const a=Lr("as_cn");let n=e.getItem("acs");n=n&&JSON.parse(n),n&&n.as_cn_value===a?t=n.state:kr()}return t})();if([0,1].includes(t)){if(1===t){Object.assign(n,{appleCardState:Tr.COMPLETED});const e=!0;a({type:Cr.UPDATE,payload:{hasNativeState:e}})}}else xr(e,0,a,n);Dr(Boolean(t))}else{const e=!0;a({type:Cr.UPDATE,payload:{hasNativeState:e}})}},Rr=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=arguments.length>5&&void 0!==arguments[5]&&arguments[5]?"web apply | ":"";switch(e){case Tr.DISABLED_COUNTRY:return{key:"disabledcountry",overlay:!1,showExisting:!0,evarGroupText:`${i}denied | pre:wrong country`};case Tr.NOT_SAFARI:return{key:"notonsafari",overlay:!1,showExisting:!0,evarGroupText:`${i}denied | pre:not safari`};case Tr.OLD_DEVICE:return{key:"devicenotcapable",overlay:!1,showExisting:!0,evarGroupText:`${i}denied | pre:unsupported device`};case Tr.OLD_SAFARI:return{key:"osunsupported",overlay:a,showExisting:!0,evarGroupText:`${i}denied | pre:osunsupported`};case Tr.DENIED:{const e=r().get(s,"apiStates.applePay","nil");return{key:"denied",overlay:!1,showExisting:!0,evarGroupText:i+(s.apiStates&&"nil"===s.apiStates.appleCard?`denied | api:[${e}, nil]`:"denied | pre:nil")}}case Tr.UNSUPPORTED:return{key:"unsupported",overlay:!1,showExisting:!0,evarGroupText:`${i}denied | api:unsupported`};case Tr.SUPPORTED:return{key:"supported",overlay:!0,evarGroupText:(t?"":i)+t&&a?"supported_installments":"supported"};case Tr.COMPLETED:return{key:"completed",overlay:a&&n,evarGroupText:t&&a?"completed_installments":"completed"};case Tr.SUPPLEMENTARY_SUPPORTED:return{key:"supplementarysupported",overlay:a&&n,evarGroupText:t&&a?"supplementarysupported_installments":"supplementarysupported"};default:return null}},Mr=e=>{let{status:t,asset:a,isInstallmentSupported:n,messageType:s=Nr.INLINE,isBFIEnabled:i,showBFILink:o,showOverlayContentForBanner:l,isACIXEnabled:c=!1,assetVariables:d={},templateId:u,isBag:m}=e;const{key:p}=Rr(t,i,o),g=(e=>{switch(e){case Tr.DISABLED_COUNTRY:case Tr.NOT_SAFARI:case Tr.OLD_DEVICE:case Tr.OLD_SAFARI:case Tr.DENIED:case Tr.UNSUPPORTED:case Tr.SUPPORTED:return _r.NO_CARD;case Tr.COMPLETED:case Tr.SUPPLEMENTARY_SUPPORTED:return _r.WITH_CARD;default:return null}})(t);let h=p;const f=[Tr.COMPLETED,Tr.SUPPORTED,Tr.SUPPLEMENTARY_SUPPORTED];if(i&&(n&&-1!==f.indexOf(t)&&(h=`${p}${Or.INSTALLMENT}`),m||o||s!==Nr.INLINE||(c||-1!==f.indexOf(t))&&(h=`${p}${Or.NOACI}`)),s===Nr.BANNER&&(h+=Or.BANNER),s===Nr.OVERLAYHEADER||s===Nr.OVERLAYFOOTER){const e=s===Nr.OVERLAYHEADER,t=e?`${h}${Or.OVERLAYHEADER}`:`${h}${Or.OVERLAYFOOTER}`,n=e?"overlayHeader":"overlayFooter",r=e?`overlayHeader${Or.NOACI}`:`overlayFooter${Or.NOACI}`;h=i&&(o||l||m)?a&&a[t]&&i?t:a&&a[n]?n:"":!i||o||l?n:a&&a[r]?r:""}s===Nr.INLINE&&(a&&a[`${h}_${u}`]?h=`${h}_${u}`:a&&a[`${g}_${u}`]?h=`${g}_${u}`:a&&a[g]&&(h=g));const E=r().get(a,h,"");return r().isEmpty(d)?E:it.GP(E,{...d})},Fr="cid%3Dapy-220-100002",Hr="cid%3Dapy-220-100004",Ur={desktop:{buyflowDefaultValue:"cid%3Dapy-220-100013",defaultValue:"cid%3Dapy-220-100014"},handheld:{buyflowDefaultValue:"cid%3Dapy-220-100016",defaultValue:"cid%3Dapy-220-100017"}},$r=e=>e?Fr:Hr,Br=e=>{const{isHandheldPhone:t}=s.Ez(),a=t?"handheld":"desktop";return e?r().get(Ur,`${a}.buyflowDefaultValue`):r().get(Ur,`${a}.defaultValue`)},Vr={bagLearnMoreLink:{hier1:"aos:bag",prop3:"modal open|ribbon|learn more about acmi",evar6:'D=pageName+"|ribbon|learn more about acmi|open modal"'},bagLearnMoreWebApply:{evar6:"aos:bag|learn more about acmi|apply for apple card"},bagSummaryLink:{evar6:'D=pageName+"|summary|get 3% daily cash|open modal"'},bagSummaryWebApply:{evar6:'D=pageName+"|modal|info - get 3% daily cash|apply for apple card"'}},Yr=e=>{try{window.asMetrics&&window.asMetrics.sendUserInteraction({name:"metrics",data:e})}catch(e){window.console.log(e)}},qr=e=>{try{window.asMetrics&&!r().isEmpty(e)&&window.asMetrics.fireMicroEvent({eVar:"eVar6",page:window.s.pageName,...e})}catch(e){window.console.log(e)}},jr=function(){qr({feature:`${arguments.length>0&&void 0!==arguments[0]?arguments[0]:"apple card modal"} - ${arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"web apply":"native apply"}`,action:"apply now"})},Gr=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=window.acStoreApplePaySetup.RELAY_EVENT_ID,r=a?Br(t):$r(t);window.asMetrics&&window.asMetrics.relay&&window.asMetrics.relay.sendBeacon({key:n,element:e,callback:()=>{},defaultCampaign:r})},Wr=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e,n=arguments.length>3?arguments[3]:void 0;const s=r().get(e,"messages.additionalData.namedAssets",{}),{isBFIEnabled:i,isACIXEnabled:o}=s,l=Boolean(e.acmiEnabled);let c={},d="";const u={},m=window.asMetrics&&window.asMetrics.relay,p={config:{merchantIdentifier:t.merchantIdentifier||"",signature:t.signature||"",signedFields:t.signedFields||null}};m&&m.getOne&&(p.config.referrerIdentifier=m.getOne(window.acStoreApplePaySetup.RELAY_EVENT_ID));const g=p.config.referrerIdentifier||Br(t.fireWithBuyflowReferrer);let h={};g&&(h=it.parseQueryString(decodeURIComponent(g)));const f=r().get(e,"appleCardApplyUrl");if(u.appleCardApplyUrl=f?it.extendUrlQuery(f,h):"",p.config.referrerIdentifier||(p.config.referrerIdentifier=$r(t.fireWithBuyflowReferrer)),window.acStoreApplePaySetup&&window.acStoreApplePaySetup.getState)try{window.acStoreApplePaySetup.getState(p).then((m=>{if(m&&(c=Rr(m.appleCardState,m.supportsInstallments,i,t.showBFILink,{apiStates:m.apiStates},e.webApplyEnabled),u.supportsInstallments=t.buyflowInstallmentsOverrideEnabled||m.supportsInstallments),u.objStatusMessage=m,!m||!s[c.key]&&c.showExisting)u.showDefaultFinancing=!0;else{u.showDefaultFinancing=!1;const e=t.defaultFinancingSelector||".as-productdecision-selectionarea";if(e){const t=document.querySelector(e);t&&(t.classList+=" as-buyflow-messages-hidedefaultfinancing")}d=s?Mr({status:m.appleCardState,assets:s,isInstallmentsSupported:t.supportsInstallments,messageType:Nr.INLINE,isBFIEnabled:i,showBFILink:t.showBFILink,isACIXEnabled:o,templateId:t.templateId}):d,u.linkText=d}u.isSupplementaryLink=(e=>e===Tr.SUPPLEMENTARY_SUPPORTED)(m.appleCardState),u.canNativeApply=(e=>e===Tr.SUPPORTED)(m.appleCardState,t.showBFILink);const p=(o?l:i)&&c.key?Mr({status:m.appleCardState,asset:s,isInstallmentsSupported:t.supportsInstallments,messageType:Nr.BANNER,isBFIEnabled:i,isACIXEnabled:o}):null;if(u.bannerMessage=p,document.body.classList.toggle("rf-acmibanner-enabled",Boolean(p)),n){Pr(e,0,a,m);const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{supportsInstallments:t,appleCardState:a}=arguments.length>1?arguments[1]:void 0,n=0;if(0===e.length){const e=[Tr.COMPLETED,Tr.SUPPORTED,Tr.SUPPLEMENTARY_SUPPORTED];t?n=1:-1!==e.indexOf(a)&&(n=2)}else{const s=t?1:0,i=r().find(e,(e=>{const{state:t=[],inst:n=[]}=e;return-1!==t.indexOf(a)&&-1!==n.indexOf(s)}));n=i.key||0}return n}(t.aciConfigMap||[],m);n({messagingState:m.appleCardState,...c,linkText:d,isSupplementaryLink:t.isSupplementaryLink,supportsInstallments:t.supportsInstallments,hasApplied:t.hasApplied,acmiLevel:s,bannerMessage:p})}a({type:Cr.UPDATE,payload:{...u}}),window.acmState={...u},c&&c.evarGroupText&&(e=>{window.asMetrics&&window.asMetrics.appleCard&&window.asMetrics.appleCard({name:"Step 1",status:e})})(c.evarGroupText)}))}catch(e){window.console.log(e)}},zr=function(e,t){let{isBanner:a=!1,evarParam:n="",triggerSel:r,assetVariables:s={},metricsInfo:i="apple card",metricsKey:o,overrideShowOverlay:l=!1,part:c=""}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t({type:Cr.OPEN_OVERLAY,payload:{isBanner:a,triggerSel:r,assetVariables:s,metricsInfo:i,overrideShowOverlay:l}}),o?(e=>{Yr(Vr[e])})(o):(e=>{let{evarParam:t,metricsInfo:a,part:n}=e;qr({slot:t,feature:a||"apple card",part:n,action:"open modal"})})({evarParam:n,metricsInfo:i,part:c})},Kr=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=!0,{fireWithBuyflowReferrer:r,appleCardApplyUrl:s,metricsInfo:i}=e,{metricsKey:o}=a;(s||o)&&(t.preventDefault&&t.preventDefault(),o?(e=>{let t;const a=window.asMetrics&&window.asMetrics.relay;a&&a.getOne&&(t=a.getOne(window.acStoreApplePaySetup.RELAY_EVENT_ID));const n=t||Br();Yr({...Vr[e],evar17:n,events:"event287"})})(o):(jr(i,n),Gr(t,r,n)),kr(),s&&(window.location.href=s))},Qr=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};window.acStoreApplePaySetup&&window.acStoreApplePaySetup.setup&&(window.acStoreApplePaySetup.setup(e.objStatusMessage),t({type:Cr.APPLIED}),jr(e.metricsInfo),Gr(a,e.fireWithBuyflowReferrer))},Jr=(e,t,a,n)=>{a({type:Cr.CLOSE_OVERLAY}),Wr(e,t,a,n),qr({feature:"apple card modal",action:"thank you"})},Zr=t=>{let{bootstrap:a,onCompleted:n=(e=>e),additionalState:s={}}=t;const{merchantIdentifier:i="",signature:o="",signedFields:l=null}=a,[c,d]=(0,e.useReducer)(Ir,{merchantIdentifier:i,signature:o,signedFields:l,overlayVisible:!1,onCompleted:n,...s});(0,e.useEffect)((()=>{Wr(a,c,d,n)}),[]);return{state:c,handleOpenOverlay:e=>zr(c,d,e),handleCloseOverlay:()=>((e,t,a,n)=>{a({type:Cr.CLOSE_OVERLAY}),t.isCompleted&&Wr(e,t,a,n)})(a,c,d,n),handleApplyClick:e=>Qr(c,d,e),handleWebApplyClick:(e,t)=>Kr(c,e,t),handleInlineApplyClick:e=>((e,t,a)=>{e.canNativeApply?Qr(e,t,a):Kr(e,a)})(c,d,e),handleContinueClick:()=>Jr(a,c,d,n),handleConfigUpdate:e=>((e,t,a,n,s)=>{const i=r().has(n,"showBFILink"),o=r().get(t,"objStatusMessage.appleCardState"),l={merchantIdentifier:n.merchantIdentifier||t.merchantIdentifier,signature:n.signature||t.signature,signedFields:n.signedFields||t.signedFields,showBFILink:i?n.showBFILink:t.showBFILink,shouldHideLinks:r().has(n,"shouldHideLinks")?n.shouldHideLinks:t.shouldHideLinks};if(a({type:Cr.UPDATE_CONFIG,payload:{...l}}),o&&s&&i){const a=r().get(e,"messages.additionalData.namedAssets",{}),i=Rr(o,t.supportsInstallments,a.isBFIEnabled,t.showBFILink);s({linkText:Mr({status:o,asset:a,isInstallmentsSupported:t.supportsInstallments,messageType:Nr.INLINE,isBFIEnabled:a.isBFIEnabled,showBFILink:n.showBFILink,isACIXEnabled:a.isACIXEnabled,assetVariables:t.assetVariables,templateId:t.templateId}),...i,isConfigUpdated:!0})}})(a,c,d,e,n),handleSupplementarySetup:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.preventDefault&&t.preventDefault(),window.acStoreApplePaySetup&&window.acStoreApplePaySetup.setup&&(window.acStoreApplePaySetup.setup(e.objStatusMessage),Gr(t,e.fireWithBuyflowReferrer))}(c,e)}},Xr=e=>{let{bootstrap:a,state:n,webApplyButtonProps:s,onClose:i=(e=>e),handleApplyClick:o=(e=>e),handleWebApplyClick:l=(e=>e),handleContinueClick:c=(e=>e),dataAutomForOverlay:d}=e;const u=r().get(a,"messages.additionalData.namedAssets",{}),{isBFIEnabled:m,isACIXEnabled:p}=u,g=n&&n.objStatusMessage?n.objStatusMessage:{},h=!m||!n.supportsInstallments||n.overrideShowBFILink||!n.showBFILink&&!n.showOverlayContentForBanner,{appleCardApplyUrl:f,isBag:E}=a,v=!n.overrideShowBFILink&&n.showBFILink,y=n.isCompleted&&m&&u.appliedOverlayHeader?u.appliedOverlayHeader:Mr({status:g.appleCardState,asset:u,isInstallmentSupported:n.supportsInstallments,messageType:Nr.OVERLAYHEADER,isBFIEnabled:m,showBFILink:v,showOverlayContentForBanner:n.showOverlayContentForBanner,assetVariables:n.assetVariables,isACIXEnabled:p,isBag:E}),b=n.isCompleted&&m&&u.appliedOverlayFooter?u.appliedOverlayFooter:Mr({status:g.appleCardState,asset:u,isInstallmentSupported:n.supportsInstallments,messageType:Nr.OVERLAYFOOTER,isBFIEnabled:m,showBFILink:v,showOverlayContentForBanner:n.showOverlayContentForBanner,assetVariables:n.assetVariables,isACIXEnabled:p,isBag:E});return t().createElement("div",null,t().createElement(dt.A,{visible:n.overlayVisible,isFullscreen:n.isHandheldPhone,className:"rf-acmessages-overlay",onClose:()=>i(),contentAttrs:{className:"rf-acmessages-overlay-content","data-autom":d},ariaLabel:"buyflowmessages-overlay-header"},t().createElement("div",(0,q.A)({className:te()("rf-acmessages-overlayheader",{"rf-acmessages-noproductprice":r().isEmpty(n.assetVariables)||n.showOverlayContentForBanner})},(0,Y.OH)(y))),n.canNativeApply&&!n.isCompleted&&h?t().createElement("button",{onClick:e=>o(e),className:"form-button",type:"button"},u.apply):"",n.hasNativeState||n.isCompleted||!f?"":t().createElement("a",{href:f,onClick:e=>l(e),className:"rf-acmessages-web-apply form-button","data-autom":"Apply Now","aria-label":r().get(u,"applyAllyText")},u.apply),!n.hasNativeState&&s&&t().createElement(nr.A,(0,q.A)({},s,{onClick:e=>{l(e,{metricsKey:"bagSummaryWebApply"}),s.onClick()}}),s.label),n.hasNativeState&&n.isCompleted?t().createElement("button",{onClick:c,className:"form-button",type:"button"},u.continue):"",t().createElement("div",(0,q.A)({className:"rf-acmessages-overlayfooter"},(0,Y.OH)(b)))))},es=e=>{let{bootstrap:a,state:n,overlayAttrs:s}=e;const i=r().get(a,"messages.additionalData.namedAssets")||{},{isBFIEnabled:o}=i,l=n&&n.objStatusMessage?n.objStatusMessage:{},c=Rr(l.appleCardState,n.supportsInstallments,o,n.showBFILink);if(!c)return"";const d=c.overlay||n.showOverlayContentForBanner||n.overrideShowOverlay;return t().createElement(t().Fragment,null,o||d?t().createElement(Xr,s):null)},ts=e=>{let{bootstrap:a,state:n,handleOpenOverlay:s,handleSupplementarySetup:i,assetVariables:o={},templateId:l,isDisabled:c}=e;const d=r().get(a,"messages.additionalData.namedAssets")||{},{isBFIEnabled:u,isACIXEnabled:m}=d,p=n&&n.objStatusMessage?n.objStatusMessage:{},g=Rr(p.appleCardState,n.supportsInstallments,u,n.showBFILink);if(!g)return"";const{isBag:h,webApplyEnabled:f,bagWebApplyStates:E}=a,v=f&&E&&-1!==E.indexOf(p.appleCardState),y=Mr({status:p.appleCardState,asset:d,isInstallmentsSupported:n.supportsInstallments,messageType:Nr.INLINE,isBFIEnabled:u,isACIXEnabled:m,showBFILink:n.showBFILink,assetVariables:o,templateId:l,isBag:h}),b=e=>{if(e.target&&e.target.matches('[data-buyflow-messages-overlay = "button"]')){const t=e.target,a=t.getAttribute("data-buyflow-messages-metrics-info"),n=t.closest("[data-messages-part]"),r=n?n.getAttribute("data-messages-part"):"";e.preventDefault(),s({assetVariables:o,evarParam:r?"":"summary",metricsInfo:a,overrideShowOverlay:!0,part:r?`select mac - ${r}`:""})}},A={onClick:b},S=n.isSupplementaryLink&&i?{onClick:i}:{onClick:b},w=h?"bagSummaryLink":"";return t().createElement(t().Fragment,null,u&&n.showBFILink&&!n.shouldHideLinks?t().createElement("div",(0,q.A)({className:"rf-acmessages-defaultlink"},A,(0,Y.OH)(y))):null,!u||n.showBFILink||n.shouldHideLinks?null:t().createElement("div",null,v||g.overlay&&!n.isSupplementaryLink?t().createElement("button",{className:"as-buttonlink",onClick:()=>s({metricsKey:w}),type:"button"},t().createElement("span",(0,Y.OH)(y))):t().createElement(pn.A,{disabled:c},t().createElement("div",(0,q.A)({className:"rf-acmessages-defaultlink"},S,(0,Y.OH)(y))))),u||n.shouldHideLinks?null:t().createElement("div",(0,q.A)({className:"rf-acmessages-defaultlink"},S,(0,Y.OH)(y))))},as=e=>{let{bootstrap:a,state:n,handleOpenOverlay:r,handleCloseOverlay:s,handleApplyClick:i,handleWebApplyClick:o,handleContinueClick:l,handleSupplementarySetup:c,assetVariables:d={},templateId:u,webApplyButtonProps:m,dataAutom:p,dataAutomForOverlay:g,isDisabled:h}=e;const f={state:n,bootstrap:a,webApplyButtonProps:m,onClose:s,handleApplyClick:i,handleWebApplyClick:o,handleContinueClick:l,dataAutomForOverlay:g};return t().createElement("div",{"data-autom":p},t().createElement(ts,{bootstrap:a,state:n,handleOpenOverlay:r,handleSupplementarySetup:c,assetVariables:d,templateId:u,isDisabled:h}),t().createElement(es,{state:n,bootstrap:a,overlayAttrs:f}))},ns=(t,a)=>{(0,e.useEffect)((()=>{const e=e=>{if(e.target.matches('[data-buyflow-messages-overlay="ribbon"]')){const a=e.target;e.preventDefault();const n="data-analytics-region",r=a.closest(`[${n}]`),s=r?r.getAttribute(n):"ribbon";t({isBanner:!0,evarParam:s,metricsInfo:a.getAttribute("data-buyflow-messages-metrics-info")})}else e.target.matches("[data-buyflow-messages-apply]")&&(e.preventDefault&&e.preventDefault(),a(e))},n=t=>{t.keyCode!==l.HP.Return&&t.keyCode!==l.HP.Space||e(t)};return document.addEventListener("click",e),document.addEventListener("keydown",n),()=>{document.removeEventListener("click",e),document.removeEventListener("keydown",n)}}),[])},rs=a=>{let{bootstrap:n={},showDefaultFinancing:s=!1,shouldHideLinks:i=!1,fireWithBuyflowReferrer:o=!1,onCompleted:l=(e=>e),acConfig:c=null,aciConfigMap:d=[],children:u,webApplyButtonProps:m,dataAutom:p,dataAutomForOverlay:g,isDisabled:h=!1}=a;const{buyflowMessagesEnabled:f}=n,{assetVariables:E,templateId:v}=c||{},{state:y,handleOpenOverlay:b,handleCloseOverlay:A,handleApplyClick:S,handleWebApplyClick:w,handleInlineApplyClick:T,handleContinueClick:O,handleConfigUpdate:N,handleSupplementarySetup:C}=Zr({bootstrap:n,onCompleted:l,additionalState:{showDefaultFinancing:s,shouldHideLinks:i,fireWithBuyflowReferrer:o,assetVariables:E,aciConfigMap:d,hasNativeState:!1,templateId:v}}),_=r().get(y,"showDefaultFinancing")||!f;return ns(b,T),(0,e.useEffect)((()=>{c&&N&&N(c)}),[c]),t().createElement("div",{id:"buyflow-message-container",className:"rf-ac-messages"},y&&f?t().createElement(as,{bootstrap:n,state:y,handleOpenOverlay:b,handleCloseOverlay:A,handleApplyClick:S,handleWebApplyClick:w,handleContinueClick:O,handleSupplementarySetup:C,assetVariables:E,templateId:v,webApplyButtonProps:m,dataAutom:p,isDisabled:h,dataAutomForOverlay:g}):"",_&&t().createElement("div",{"data-autom":p,className:"rf-acmessages-defaultmessage"},u))},ss=t().createContext(),is=(ss.Consumer,e=>{let{state:a,handleRemoveClick:n,closeConfirmOverlay:r,...s}=e;return t().createElement("div",null,t().createElement(dt.A,(0,q.A)({visible:a.removeOverlayVisible,className:"rf-tradeupremove-overlay",onClose:r,ariaLabel:"tradeupInfoOverlayHeading"},s),t().createElement("h2",{id:"tradeupInfoOverlayHeading",className:"rf-tradeupremove-header typography-headline-reduced"},t().createElement("span",(0,Y.OH)(a.overlayHeader))),t().createElement("div",{className:"rf-tradeupremove-confirm-action"},t().createElement("button",{className:"button button-super rf-tradeupremove-confirm-button",onClick:n,type:"button","data-autom":"tradeInRemoveYes"},t().createElement("span",(0,Y.OH)(a.overlayRemoveButton))),t().createElement("button",{className:"as-buttonlink rf-tradeupremove-cancel-button",onClick:r,type:"button","data-autom":"tradeInRemoveNo"},t().createElement("span",(0,Y.OH)(a.overlayCancelButton))))))}),os=Object.freeze({INIT:1,OPEN_TRADEUP_OVERLAY:2,CLOSE_TRADEUP_OVERLAY:3,ADD_TRADEUP:4,REMOVE_TRADEUP:5,UPDATE_TRADEUP:6,OPEN_CONFIRM_REMOVE_OVERLAY:7,CLOSE_CONFIRM_REMOVE_OVERLAY:8,RENDER_TRADEUP_OVERLAY:9,UPDATE_TRADEUP_SUMMARY_ASSETS:10}),ls=(e,t)=>{switch(t.type){case os.INIT:return((e,t)=>{let{data:a}=t;return{initial:{header:r().get(a,"tradein-buyflow-initial-header",""),summaryHeader:r().get(a,"tradein-buyflow-initial-summary-header",""),modelName:r().get(a,"tradein-buyflow-initial-summary-model-name",""),icon:r().get(a,"tradein-buyflow-initial-icon",""),message:r().get(a,"tradein-buyflow-initial-message",""),summaryMessage:r().get(a,"tradein-buyflow-initial-summary-message",""),subsidyMessage:r().get(a,"subsidyMessage",""),buttonText:r().get(a,"tradein-buyflow-initial-button",""),yesTradeIn:r().get(a,"tradein-buyflow-initial-yes-tradein",""),noTradeIn:r().get(a,"tradein-buyflow-initial-no-tradein",""),learnMore:r().get(a,"tradein-initial-button-learnmore","")},selected:{header:r().get(a,"tradein-buyflow-selected-header",""),summaryHeader:r().get(a,"tradein-buyflow-selected-summary-header",""),modelName:r().get(a,"tradein-buyflow-selected-summary-model-name",""),icon:r().get(a,"tradein-buyflow-selected-icon",""),message:r().get(a,"tradein-buyflow-selected-message",""),summaryMessage:r().get(a,"tradein-buyflow-selected-summary-message",""),subsidyMessage:r().get(a,"subsidyMessage"),buttonText:r().get(a,"tradein-buyflow-selected-button",""),amount:r().get(a,"tradein-buyflow-selected-amount",""),price:r().get(a,"tradein-buyflow-selected-price","")},removed:{header:r().get(a,"tradein-buyflow-removed-header",""),message:r().get(a,"tradein-buyflow-removed-message",""),buttonText:r().get(a,"tradein-buyflow-removed-button","")},inEligibleButtonText:r().get(a,"tradein-buyflow-ineligible-button",""),inEligibleMsg:r().get(a,"tradein-buyflow-ineligible-message",""),giveBackLogo:r().get(a,"tradein-applegiveback"),defaultSelection:r().get(a,"defaultSelection"),overlayCancelButton:r().get(a,"tradein-buyflow-overlay-cancel"),overlayRemoveButton:r().get(a,"tradein-buyflow-overlay-remove"),buyflowKeys:[],buyFlowParameters:{},isAdded:!1,isRemoved:!1,isTradeUpInfoOverlayShown:!1,isDisabled:!1,isHidden:!1,isIUPFlow:!1,tradeupOverlayVisible:!1,tradeupOverlayRendered:!1,removeOverlayVisible:!1}})(0,t.payload);case os.RENDER_TRADEUP_OVERLAY:return{...e,tradeupOverlayRendered:!0};case os.OPEN_TRADEUP_OVERLAY:return{...e,tradeupOverlayVisible:!0};case os.CLOSE_TRADEUP_OVERLAY:return{...e,tradeupOverlayVisible:!1};case os.ADD_TRADEUP:return((e,t)=>{let{assets:a,flexTradeInSummaryAssets:n,buyFlowParameters:s,selectedTradeupOption:i,summaryParameters:o}=t;return{...e,selected:{...e.selected,header:r().get(a,"tradein-buyflow-selected-header"),summaryHeader:r().get(a,"tradein-buyflow-selected-summary-header",""),modelName:r().get(a,"tradein-buyflow-selected-summary-model-name",""),icon:r().get(a,"tradein-buyflow-selected-icon",""),message:r().get(a,"tradein-buyflow-selected-message",""),summaryMessage:r().get(a,"tradein-buyflow-selected-summary-message",""),subsidyMessage:r().get(a,"subsidyMessage",""),amount:r().get(a,"tradein-buyflow-selected-amount",""),price:r().get(a,"tradein-buyflow-selected-price",""),summaryInlineHeader:r().get(a,"tradein-buyflow-inline-result",""),summaryOverRefund:r().get(a,"tradein-buyflow-inline-overrefund"),loanData:n,financingMessage:r().get(a,"tradein-buyflow-selected-description-message")},overlayHeader:r().get(a,"tradein-buyflow-confirm-removal",""),buyflowKeys:r().keys(s),buyFlowParameters:s,isAdded:!0,selectedTradeupOption:i,summaryParameters:o}})(e,t.payload);case os.REMOVE_TRADEUP:return(e=>({...e,selected:r().omit(e.selected,["amount","price","header"]),isAdded:!1,buyflowKeys:[],buyFlowParameters:{},removeOverlayVisible:!1,selectedTradeupOption:null}))(e);case os.UPDATE_TRADEUP:return{...e,...t.payload};case os.OPEN_CONFIRM_REMOVE_OVERLAY:return{...e,removeOverlayVisible:!0};case os.CLOSE_CONFIRM_REMOVE_OVERLAY:return{...e,removeOverlayVisible:!1};case os.UPDATE_TRADEUP_SUMMARY_ASSETS:return((e,t)=>{let{assets:a,flexTradeInSummaryAssets:n}=t;return{...e,selected:{...e.selected,summaryOverRefund:r().get(a,"tradein-buyflow-inline-overrefund"),modelName:r().get(a,"tradein-buyflow-selected-summary-model-name",""),summaryHeader:r().get(a,"tradein-buyflow-selected-summary-header",""),summaryMessage:r().get(a,"tradein-buyflow-selected-summary-message",""),amount:r().get(a,"tradein-buyflow-selected-amount",""),loanData:n}}})(e,t.payload);default:return{...e}}};var cs=i(2353);const ds=e=>{let t={};if(e&&"string"==typeof e)try{t=JSON.parse(r().unescape(e))}catch(e){t={}}return t},us=e=>{const t=r().isString(e)||r().isBoolean(e)||r().isNumber(e);if(t)return e;if(!t&&r().isEmpty(e))return"";try{return JSON.stringify(e)}catch(e){return""}},ms=r().get(window,"asBuyFlow.storageConfig.genericPath",""),ps=`${r().get(window,"apple.buyFlowPath")||r().get(window,"location.pathname")}/generic`,gs=new H.uy({session:!0,expires:window.apple.buyFlowExpiry||36e5,expiryInMs:!0,hash:!0},{path:ms||ps,step:"generic"}),hs=e=>{window.asMetrics&&!r().isEmpty(e)&&window.asMetrics.fireMicroEvent({eVar:"eVar6",page:window.s.pageName,...e})},fs=()=>{hs({feature:"trade-in link",action:"Get Started"})},Es=()=>{hs({feature:"trade-in link",action:"Remove"})},vs=()=>{hs({feature:"trade-in confirmation overlay",action:"Remove"})},ys=()=>{hs({feature:"trade-in confirmation overlay",action:"Cancel"})},bs=()=>{r().get(window,"asMetrics.isBFEMetricsEnabled",!1)||hs({feature:"trade-in link",action:"no trade-in"})},As=(0,ie.A)("react-tradeup/use-tradeup"),Ss=function(a,n,s){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0;const[c,d]=(0,e.useReducer)(ls,{}),u=t().useRef({}),m=t().useRef(0),p=t().useRef(null),g=i?i.join("-"):"",h=o?JSON.stringify(o):"",f=(e,t)=>{const{tradeInSummaryUrl:n}=a,s=r().get(e,"tia"),l=parseInt(s,10);(i.length>0||h)&&n&&!Number.isNaN(l)&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0;const i={},{tia:o,tt:l,pid:c}=a||{},{tsid:u,pls:m}=s||{};if(n){const e=r().get(n,"options",{});i.product=n.part,Object.keys(e).forEach((t=>{i[`option.${t}`]=e[t]}))}else t.forEach(((e,t)=>{i[`parts.${t}`]=e}));null!=o&&(i.tia=o),l&&(i.tt=l),c&&(i.pid=c),u&&m&&(i.tsid=u,i.pls=m);const p=it.extendUrlQuery(e,i);(0,Be.hI)(p,{timeout:2e4}).then((e=>{const t=r().get(e,"body.assets",{}),a=e?.body?.summary??null;d({type:os.UPDATE_TRADEUP_SUMMARY_ASSETS,payload:{assets:t,flexTradeInSummaryAssets:a}});const n=ds(gs.get("tradeupBanner"));n.assets={...n.assets,...t},a&&(n.flexTradeInSummaryAssets={...n.flexTradeInSummaryAssets,...a}),gs.set("tradeupBanner",us(n))})).catch((e=>{As.error(e)}))}(n,i,e,o,t)};(0,e.useImperativeHandle)(l,(()=>({reset:()=>{d({type:os.REMOVE_TRADEUP}),gs.remove("tradeupBanner")}})),[]),(0,e.useEffect)((()=>{const e=ds(gs.get("tradeupBanner")),{isAdded:t,isRemoved:n,isHidden:s,isIUPFlow:i,isDisabled:o,buyFlowParameters:l,assets:c,flexTradeInSummaryAssets:u,selectedTradeupOption:m,summaryParameters:p}=e;d({type:os.INIT,payload:{data:{defaultSelection:a.defaultSelection,...r().get(a,"additionalContent.additionalData",{}),...r().get(a,"dynamicAssets",{})}}}),r().isEmpty(e)||(t&&l&&c&&d({type:os.ADD_TRADEUP,payload:{buyFlowParameters:l,assets:c,flexTradeInSummaryAssets:u,selectedTradeupOption:m,summaryParameters:p}}),d({type:os.UPDATE_TRADEUP,payload:{isRemoved:n,isHidden:s,isIUPFlow:i,isDisabled:o,selectedTradeupOption:m}}))}),[]),(0,e.useEffect)((()=>{if(g||h){const{buyFlowParameters:e,summaryParameters:t}=c;f(e,t)}}),[g,h]);const E=(0,e.useMemo)((()=>{const e=r().get(c,"defaultSelection");return e?{name:r().keys(e)[0],value:e[r().keys(e)[0]]}:{}}),[c.defaultSelection]);return{state:c,dispatch:d,assignRef:e=>t=>{u.current[e]=t},openOverlay:e=>{c.tradeupOverlayRendered?d({type:os.OPEN_TRADEUP_OVERLAY}):(d({type:os.RENDER_TRADEUP_OVERLAY}),setTimeout((()=>d({type:os.OPEN_TRADEUP_OVERLAY})),300)),e&&(m.current=e),fs()},closeOverlay:()=>d({type:os.CLOSE_TRADEUP_OVERLAY}),openConfirmOverlay:e=>{d({type:os.OPEN_CONFIRM_REMOVE_OVERLAY}),Es(),e&&(m.current=e)},closeConfirmOverlay:()=>{d({type:os.CLOSE_CONFIRM_REMOVE_OVERLAY}),ys(),p.current&&p.current.focus()},handleTradeUpComplete:(e,t)=>{let{externalParams:s,tradeInTypeData:i}=e;if(s)if(t===cs.G7.CONFIRM){const{assets:e,category:t}=s,a={igt:!0},r={buyFlowParameters:a,assets:e,isAdded:!0,selectedTradeupOption:cs.kU.TRADE_IN};d({type:os.ADD_TRADEUP,payload:{buyFlowParameters:a,assets:e,selectedTradeupOption:cs.kU.TRADE_IN}}),gs.set("tradeupBanner",us(r)),n({buyFlowParameters:a,category:t,tradeInData:{tradeInTypeData:i}})}else{const{buyFlowParameters:e,assets:t,flexTradeInSummaryAssets:o,category:l,summaryParameters:u}=s,m=r().get(a,"tradeInPricesUrlParams.tradeInAmount","tia"),p=e?.tia??t?.["tradein-buyflow-selected-amount"],g=parseInt(p,10),h=Number.isNaN(g)?e:{...e,[m]:`${p}`},E={buyFlowParameters:h,assets:t,flexTradeInSummaryAssets:o,isAdded:!0,isRemoved:c.isRemoved,isHidden:c.isHidden,isIUPFlow:c.isIUPFlow,isDisabled:c.isDisabled,selectedTradeupOption:cs.kU.TRADE_IN,summaryParameters:u};d({type:os.ADD_TRADEUP,payload:{buyFlowParameters:h,assets:t,flexTradeInSummaryAssets:o,selectedTradeupOption:cs.kU.TRADE_IN,summaryParameters:u}}),gs.set("tradeupBanner",us(E)),n({buyFlowParameters:h,category:l,tradeInData:{tradeInTypeData:i}}),f(h,u)}},handleRemoveClick:()=>{const e=r().get(a,"tradeInPricesUrlParams.tradeInAmount","tia"),t=[...c.buyflowKeys,e];d({type:os.REMOVE_TRADEUP}),gs.remove("tradeupBanner"),n({isRemoved:!0,buyflowKeys:t}),vs()},handleNoTradeInClick:()=>{const e={igt:!0},t={buyFlowParameters:e,isAdded:!0,selectedTradeupOption:cs.kU.NO_TRADE_IN};d({type:os.ADD_TRADEUP,payload:{buyFlowParameters:e,selectedTradeupOption:cs.kU.NO_TRADE_IN}}),gs.set("tradeupBanner",us(t)),n({buyFlowParameters:e,tradeInData:{noTradeIn:!0},buyflowKeys:[]}),bs()},handleTradeInEligible:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d({type:os.UPDATE_TRADEUP,payload:e})},defaultValue:E,overlayProps:{disableFocusOut:!0,onExited:()=>{const e=r().get(u,`current[${m.current}]`);if(e){const t=e.querySelector(".rf-tradeupbanner-focus-add"),a=e.querySelector(".rf-tradeupbanner-focus-remove"),n=e.querySelector(".rf-tradeupbanner-tileoption-input");a&&c.isAdded?a.focus():t?t.focus():n&&c.selectedTradeupOption!==cs.kU.NO_TRADE_IN?n.focus():s.current&&s.current.focus()}}},removeButtonRef:p}},ws=e=>{let{bootstrap:a}=e;const n=a?.title,r=a?.split?.title,s=a?.split?.ledger,i=a?.split?.loanBalanceLedger;return t().createElement("div",null,r&&t().createElement("div",(0,q.A)({className:"rf-tradeup-tileview-loan-header"},(0,Y.OH)(r))),n&&t().createElement("div",(0,q.A)({className:"rf-tradeup-tileview-loan-header"},(0,Y.OH)(n))),i&&t().createElement("div",(0,q.A)({className:"rf-tradeup-tileview-loan-ledger typography-caption"},(0,Y.OH)(i))),s&&s.map((e=>t().createElement("div",(0,q.A)({key:e,className:"rf-tradeup-tileview-loan-ledger typography-caption"},(0,Y.OH)(e))))))},Ts=e=>{let{headerTag:a="h2",state:n}=e;const r=n?.selected?.loanData,s=te()("rf-tradeupbanner-header",xt.A.BODY,{"rf-tradeupbanner-compact":n.isAdded&&n.selected.subsidyMessage});return t().createElement(a,{className:s,"data-autom":"tradeupBannerHeader"},!r&&t().createElement(t().Fragment,null,n.isAdded?t().createElement("span",(0,Y.OH)(n.selected.header)):"",n.isRemoved?t().createElement("span",(0,Y.OH)(n.removed.header)):"",n.isAdded||n.isRemoved?"":t().createElement("span",(0,Y.OH)(n.initial.header))),r&&n.isAdded?t().createElement(ws,{bootstrap:r}):null)},Os=e=>{let{state:a,openOverlay:n,openConfirmOverlay:r,isParentDisabled:s,part:i,a11yText:o}=e;const l=te()("as-buttonlink rf-tradeupbanner-button",{"rf-tradeupbanner-buttondisabled":a.isDisabled||s,"rf-tradeupbanner-focus-remove link-inline":a.isAdded,"rf-tradeupbanner-focus-add icon icon-after icon-pluscircle":!a.isAdded}),c=!a.tradeInEligible&&a.hasEligibleError,d=c?a.inEligibleButtonText:a.initial.buttonText;return t().createElement(t().Fragment,null,a.isAdded?t().createElement("span",(0,Y.OH)(a.selected.icon)):t().createElement("span",(0,Y.OH)(a.initial.icon)),t().createElement("div",{className:"rf-tradeupbanner-message typography-body-reduced","data-autom":"tradeupBannerMessage"},t().createElement("h3",{className:"rf-tradeupbanner-logo-message typography-body-reduced"},t().createElement("span",(0,Y.OH)(a.giveBackLogo))),a.selected?.financingMessage?t().createElement("div",{className:"rf-tradeupbanner-message-desc"},a.isAdded?t().createElement("span",(0,Y.OH)(a.selected?.financingMessage??"")):null,a.isRemoved?t().createElement("span",(0,Y.OH)(a.removed?.message??"")):"",a.isAdded||a.isRemoved||a.hasEligibleError?"":t().createElement("span",(0,Y.OH)(a.initial?.message??"")),c?t().createElement("span",(0,Y.OH)(a.inEligibleMsg)):""):t().createElement("div",{className:"rf-tradeupbanner-message-desc"},a.isAdded?t().createElement("span",(0,Y.OH)(a.selected.message)):"",a.isRemoved?t().createElement("span",(0,Y.OH)(a.removed.message)):"",a.isAdded||a.isRemoved||a.hasEligibleError?"":t().createElement("span",(0,Y.OH)(a.initial.message)),c?t().createElement("span",(0,Y.OH)(a.inEligibleMsg)):"")),!a.isAdded&&a.initial.learnMore&&t().createElement("div",(0,q.A)({className:"rf-tradeupbanner-learnmore typography-body-reduced"},(0,Y.OH)(a.initial.learnMore))),t().createElement("div",{className:"rf-tradeupbanner-action typography-body-reduced"},a.isAdded&&t().createElement("button",{className:l,onClick:()=>r(i),type:"button",disabled:s,"aria-disabled":s,"data-autom":"tradeupSelectedButton"+(i?`_${i}`:""),"data-trigger-id":"tradeup-added"},t().createElement("span",(0,Y.OH)(a.selected.buttonText)),o&&t().createElement("span",(0,q.A)({className:"a11y"},(0,Y.OH)(o)))),a.isRemoved&&t().createElement("button",{className:l,onClick:()=>n(i),type:"button","data-autom":"tradeupRemoveButton"+(i?`_${i}`:""),"data-trigger-id":"tradeup-removed"},t().createElement("span",(0,Y.OH)(a.removed.buttonText)),o&&t().createElement("span",(0,q.A)({className:"a11y"},(0,Y.OH)(o)))),!a.isAdded&&!a.isRemoved&&t().createElement("button",{className:l,onClick:()=>n(i),type:"button","data-autom":"tradeupStartButton"+(i?`_${i}`:""),disabled:a.isDisabled||s,"aria-disabled":a.isDisabled||s,"data-trigger-id":"tradeup-start"},t().createElement("span",(0,Y.OH)(d)),o&&t().createElement("span",(0,q.A)({className:"a11y"},(0,Y.OH)(o))))))},Ns=e=>{let{headerTag:a,state:n,disabled:r,assignRef:s,openOverlay:i,openConfirmOverlay:o}=e;return t().createElement(t().Fragment,null,t().createElement("div",{className:"rf-tradeupbanner-logo-top"},n.giveBackLogo),t().createElement(Ts,{state:n,headerTag:a}),n.isAdded&&n.selected.subsidyMessage&&t().createElement("div",(0,q.A)({className:"rf-tradeupbanner-subsidymessage"},(0,Y.OH)(n.selected.subsidyMessage))),t().createElement("div",{className:"rf-tradeupbanner-message-row",ref:s(0)},t().createElement(Os,{state:n,openOverlay:i,openConfirmOverlay:o,isParentDisabled:r})))},Cs=e=>{let{bootstrap:a}=e;const n=a?.title,r=a?.split?.title,s=a?.split?.ledger,i=a?.split?.loanBalanceLedger;return t().createElement("div",null,r&&t().createElement("div",(0,q.A)({className:"rf-tradeup-tileview-loan-header"},(0,Y.OH)(r))),n&&t().createElement("div",(0,q.A)({className:"rf-tradeup-tileview-loan-header"},(0,Y.OH)(n))),i&&t().createElement("div",(0,q.A)({className:"rf-tradeup-tileview-loan-ledger typography-caption"},(0,Y.OH)(i))),s&&s.map((e=>t().createElement("div",(0,q.A)({key:e,className:"rf-tradeup-tileview-loan-ledger typography-caption"},(0,Y.OH)(e))))))},_s=e=>{let{state:a,openConfirmOverlay:n,removeButtonRef:r,disabled:s}=e;const i=a?.selected,o=i?.financingMessage,l=i?.header??i?.summaryInlineHeader,c=i?.modelName,d=i?.summaryOverRefund||i?.summaryMessage,u=i?.buttonText,m=i?.loanData;return t().createElement("div",{className:"rf-tradeup-tileview-quote"},t().createElement("div",{className:"row"},t().createElement("div",{className:"rf-tradeup-tileview-quote-header columnn large-9 small-9"},t().createElement("span",{className:te()("icon icon-after icon-checksolid rf-tradeup-tileview-quote-icon",xt.A.INTRO)}),m&&t().createElement(Cs,{bootstrap:m}),!m&&t().createElement("div",null,t().createElement("div",{className:te()("rf-tradeup-tileview-quote-label",xt.A.BODY),"data-autom":"tradeuptileview-quote-label"},l&&t().createElement("span",(0,Y.OH)(l))),c&&t().createElement("div",(0,q.A)({className:te()("rf-tradeup-tileview-quote-name",xt.A.BODY)},(0,Y.OH)(c))),d&&t().createElement("div",(0,q.A)({className:te()("rf-tradeup-tileview-quote-desc",xt.A.CAPTION)},(0,Y.OH)(d))),o&&t().createElement("div",(0,q.A)({className:"rf-tradeup-tileview-quote-desc typography-caption"},(0,Y.OH)(o))))),t().createElement("div",{className:te()("rf-tradeup-tileview-action columnn large-3 small-3",xt.A.BODY_REDUCED)},t().createElement("button",{type:"button","data-autom":"tradeuptileview-Remove-link",className:"as-buttonlink rf-tradeupbanner-button rf-tradeupbanner-focus-remove",onClick:()=>n(0),ref:r,disabled:s},t().createElement("span",(0,Y.OH)(u))))))},Is=e=>{let{state:a,disabled:n,assignRef:s,openOverlay:i,openConfirmOverlay:o,handleNoTradeInClick:l,removeButtonRef:c}=e;const d=t().useId(),u=r().get(a,"initial.summaryMessage",""),m=r().get(a,"initial.yesTradeIn",""),p=r().get(a,"initial.noTradeIn",""),g=a.isAdded&&a.selectedTradeupOption!==cs.kU.NO_TRADE_IN,h=!a.isAdded||a.selectedTradeupOption===cs.kU.NO_TRADE_IN;return t().createElement("div",{className:"rf-tradeup-tileview",ref:s(0)},g&&t().createElement(_s,{state:a,openConfirmOverlay:o,removeButtonRef:c,disabled:n}),h&&t().createElement(G.A,{in:!g},t().createElement(gn.c6,{"aria-labelledby":"tradeupbanner",className:"rf-tradeupbanner-tileoptions",tag:"div"},t().createElement(gn.gW,{key:"addTradeUp",name:"tradeup-option",value:"addTradeUp",checked:a.selectedTradeupOption===cs.kU.TRADE_IN,handleChange:()=>i(),"aria-haspopup":"dialog","aria-describedby":d,"data-autom":"choose-tradeIn",classes:{input:"rf-tradeupbanner-tileoption-input"},disabled:n,skipChangeSelection:!0,"aria-label":m,render:e=>{let{SelectorLabel:a}=e;return t().createElement(a,null,t().createElement("span",{className:"row"},t().createElement("span",{className:"rf-tradeupbanner-tileoption-left-col form-selector-left-col column large-12 small-12"},t().createElement(gn._V,{text:m}),t().createElement("span",(0,q.A)({id:d,className:"row form-label-small rf-tradeupbanner-tileoption-desc"},(0,Y.OH)(u))))))}}),t().createElement(gn.gW,{key:"noTradeUp",name:"tradeup-option",value:"noTradeUp",checked:a.selectedTradeupOption===cs.kU.NO_TRADE_IN,handleChange:()=>l(),"data-autom":"noTradeUp",classes:{input:"rf-tradeupbanner-tileoption-input-notradein"},disabled:n,skipChangeSelection:!0,render:e=>{let{SelectorLabel:a}=e;return t().createElement(a,null,t().createElement("span",{className:"row"},t().createElement("span",{className:te()("form-selector-left-col","column","large-12")},t().createElement(gn._V,{text:p}))))}}))))},Ds=t().lazy((()=>Promise.all([i.e(6141),i.e(9379)]).then(i.bind(i,7259)))),Ls=e=>{let{view:a,...n}=e;switch(a){case cs.Pp.TILE:return t().createElement(Is,n);case cs.Pp.LINK:default:return t().createElement(Ns,n)}},ks=a=>{let{view:n="link",bootstrap:r={},headerTag:s,disabled:i=!1,onTradeUpComplete:o=(e=>e),headerRef:l,partNumbers:c=[],kitProduct:d,imperativeHandleRef:u}=a;const{state:m,assignRef:p,openOverlay:g,closeOverlay:h,openConfirmOverlay:f,closeConfirmOverlay:E,handleTradeUpComplete:v,handleRemoveClick:y,handleNoTradeInClick:b,handleTradeInEligible:A,defaultValue:S,overlayProps:w,removeButtonRef:T}=Ss(r,o,l,c,d,u);return m.initial?t().createElement("div",{className:"rf-tradeupbanner"},t().createElement("section",{className:"rf-tradeupbanner-content"},t().createElement(Ls,{bootstrap:r,view:n,state:m,headerTag:s,disabled:i,assignRef:p,openOverlay:g,openConfirmOverlay:f,handleNoTradeInClick:b,removeButtonRef:T}),t().createElement(is,(0,q.A)({state:m,handleRemoveClick:y,closeConfirmOverlay:E},w)),t().createElement(e.Suspense,{fallback:null},m.tradeupOverlayRendered?t().createElement(Ds,(0,q.A)({visible:m.tradeupOverlayVisible,onClose:h,bootstrap:r,onTradeUpComplete:v,categorySelection:S,onTradeInEligible:A,onTradeInNoClick:b,view:n},w)):null))):null};var xs=i(2423),Ps=i(9187);const Rs=e=>{let{updates:a,preselection:n,slotKey:s,slotData:i,onFormFieldChange:o,fulfillment:l,sectionScroller:c}=e;const[d,u]=t().useState({}),m=c?{ref:c.AssignRef(`accessories_${s}`)}:{};return t().createElement("div",m,t().createElement(Pn,{dataToParse:i,loadingFallback:t().createElement("div",null),onChange:e=>{const t=r().get(a,`${s}.state`)||r().get(i,"state");u(e),"hidden"!==t&&o({slotKey:s,selection:e.formFields});r().some(e.sections,(e=>e.completed))&&c&&window.setTimeout((()=>{c.scrollToNextSection(`accessories_${s}`)}),400)},preselection:n,state:d,templateName:i.templateName,updates:a,fulfillment:l}))},Ms=e=>{let{updates:a={},handleSelectionChange:n,preselection:r={},accessorySlotKeyList:s,fulfillment:i,sectionScroller:o}=e;return s?t().createElement("div",{className:"rf-accessories-wrapper"},s.map((e=>t().createElement(Rs,{key:e,updates:a,slotKey:e,slotData:window.pageLevelData[e],onFormFieldChange:n,preselection:r,fulfillment:i,sectionScroller:o})))):null};var Fs=i(3043);const Hs=e=>{let{data:a,disabled:n}=e;const{header:r,title:s,description:i,learnMoreText:o}=a;return t().createElement("div",{className:"rf-flagship-complimentary-section"},r&&t().createElement("h2",(0,q.A)({className:K.A.BODY_TIGHT},(0,Y.OH)(r))),s&&i&&t().createElement("div",{className:"rf-flagship-complimentary-details"},t().createElement("span",(0,q.A)({"aria-hidden":"true",className:"as-svgicon-container rf-flagship-complimentary-icon"},(0,Y.OH)(Fs))),r?t().createElement("h3",(0,q.A)({className:te()("rf-flagship-complimentary-title",K.A.BODY_REDUCED)},(0,Y.OH)(s))):t().createElement("h2",(0,q.A)({className:te()("rf-flagship-complimentary-title",K.A.BODY_REDUCED)},(0,Y.OH)(s))),t().createElement("div",(0,q.A)({className:te()("rf-flagship-complimentary-description",K.A.BODY_REDUCED)},(0,Y.OH)(i)))),o&&t().createElement(pn.A,{disabled:n},t().createElement("div",(0,q.A)({className:te()("rf-flagship-complimentary-learmore",K.A.BODY_REDUCED)},(0,Y.OH)(o)))))},Us=e=>{let{isBuyable:a,formString:n,children:r}=e;return n&&a?t().createElement("div",(0,q.A)({className:"rc-summary-button"},(0,Y.OH)(n))):t().createElement("div",{className:"rc-summary-button"},t().createElement("button",{className:"button button-block",type:"button",disabled:!0,"data-autom":"continueButton"},r))},$s=e=>{let{error:a}=e;return t().createElement("div",{className:"rc-summary-error"},a&&a.header&&t().createElement("div",(0,q.A)({className:te()("rc-summary-errorheading",K.A.TOUT)},(0,Y.OH)(a.header))),a&&a.message&&t().createElement("div",(0,q.A)({className:te()("rc-summary-errordesc",K.A.BODY_REDUCED)},(0,Y.OH)(a.message))))},Bs=e=>{let{warning:a}=e;return t().createElement("div",{className:"rc-summary-warning"},a&&a.message&&t().createElement("div",(0,q.A)({className:te()("rc-summary-warningdesc",K.A.BODY_REDUCED)},(0,Y.OH)(a.message))))},Vs=t().lazy((()=>i.e(4800).then(i.bind(i,729)))),Ys=t().lazy((()=>Promise.all([i.e(6141),i.e(499)]).then(i.bind(i,8662)))),qs=t().lazy((()=>Promise.all([i.e(1121),i.e(1255),i.e(9574)]).then(i.bind(i,4632)))),js=t().lazy((()=>Promise.all([i.e(1121),i.e(2525),i.e(5271)]).then(i.bind(i,5104)))),Gs=a=>{let{response:n,part:s,handlePartChange:i,isEngraved:o=!1,productLocatorFamily:l,buyabilityStore:c,setBuyabilityStore:d,coldStartButton:u,coldStartPrice:m,favoritesEnabled:p,acmConfig:g={},handleACMComplete:h=(e=>e),onTradeUpComplete:f=(e=>e),handleBuyFlowButtonClick:E=(()=>{}),handleAccessorySelectionChange:v=(()=>{}),defaultAccessories:y,accessorySlotKeyList:b=[],inlineAccessorySlotKeyList:A,fulfillment:S,notification:w,showPriceDisclaimer:T=!1,onShopByAvailabilitySelection:O=(()=>{})}=a;const N=n.summary,C=r().get(N,"summary.disabled"),_=void 0===N||C,I=r().get(N,"summary.isBuyable"),D=r().get(N,"summary.productShortTitle"),L=r().get(N,"summary.price"),k=r().get(N,"summary.buyNowButton"),x=r().get(N,"summary.favorites",{}),P=r().get(N,"summary.financing",""),R=r().get(N,"summary.acmiFinancePresent",!1),M=r().get(N,"summary.netPrice",""),F=r().get(N,"summary.acmiAssets",{}),H=r().get(N,"summary.summaryWarning"),U=r().get(N,"summary.summaryError"),B=r().get(N,"summary.promoSavings"),V=r().get(n,"metadata.accessoriesHeaderState"),j=r().get(N,"summary.accessoriesDescription"),G=r().get(N,"summary.purchaseOptionDescription"),W=r().get(N,"summary.priceData"),z=r().get(N,"summary.staticAssets",{}),Q=r().get(N,"summary.templateId"),J=r().get(N,"summary.priceDisplayFormat"),Z=window.BUYFLOW_MESSAGES_BOOTSTRAP,X=window.ACI_CONFIG_MAP,ee=r().get(window,"pageLevelData.complimentarySection"),ae=r().get(N,"summary.priceDisclaimer"),ne=r().get(N,"summary.segmentSavingsIncludedMessage"),re=r().get(W,"installmentFeesText"),se=r().get(N,"summary.downPaymentRateValue"),{addRemoveFavorite:ie,hasFavorite:oe,isFirstFavoriteAdded:le,errorMessage:ce}=er({config:window.favoritesConfig||{}}),{getSavedItemData:de=(()=>{}),...ue}=br({assets:r().get(window,"savedItemConfig.assets",{}),config:r().get(window,"savedItemConfig.config",{}),notification:w}),me=(0,e.useRef)(s);t().useEffect((()=>{!me.current&&s&&(me.current=s)}),[s]);const pe=(0,e.useRef)(null),ge=Sr({bootstrap:window.pageLevelData.buyabilityBootstrap||{},part:s,storeId:c,isBuyable:I}),he=r().get(S,"deliveryMessage.geoLocated")||r().get(S,"deliveryMessage.dudeCookieSet"),fe=r().get(window,"fulfillmentBootstrap.localityLookupUrl"),{chatFeature:Ee,showChatUnderSummary:ve}=r().get(window,"pageLevelData.chat"),ye=()=>Ee&&ve?t().createElement("div",(0,q.A)({className:te()("rf-flagship-chatcontent",K.A.BODY_REDUCED)},(0,Y.OH)(Ee))):null,be=r().get(window,"pageLevelData.productSelectionFooter.productRequirementText"),Ae=L||m,Se={...g,templateId:Q},we=r().get(window,"pageLevelData.compatibility.compatibility"),Te=Z&&t().createElement($.A,null,t().createElement(rs,{bootstrap:Z,onCompleted:h,acConfig:Se,aciConfigMap:X,fireWithBuyflowReferrer:!0,dataAutom:"financeLink",dataAutomForOverlay:"acmessages-overlay-popup-content"},t().createElement("div",(0,Y.OH)(P)))),Oe={templateId:Q,data:{...W,accessoryDescription:j,isACMIFinance:R,poDescription:G},defaultPrice:Ae,defaultNetPrice:M,defaultPromoSavings:B,defaultFinancing:P,assets:{...F,...z,monthlyPriceAccessoryDisclaimer:ae,downPayment:se,installmentFeesText:re},financeMessage:Te,segmentSavingsIncludedMessage:ne},{productLocatorEnabled:Ne,littleApuEnabled:Ce=!1}=r().get(window,"fulfillmentBootstrap",{});return t().createElement(t().Fragment,null,t().createElement("div",{className:"rf-flagship-summary"},t().createElement("div",{className:te()("rc-summary",{"rc-summary-not-buyable":!I,"rc-summary-disabled":_,"rc-summary-showacmilink":R})},U&&t().createElement($s,{error:U}),H&&t().createElement(Bs,{warning:H}),t().createElement("div",{className:"rc-summary-price-box"},"inline"===J?t().createElement(Ps.h,Oe):t().createElement(Ps.A,Oe),T&&z.addOnsPriceDisclaimer&&t().createElement("div",(0,q.A)({className:"rc-summary-price-disclaimer"},(0,Y.OH)(z.addOnsPriceDisclaimer)))),t().createElement("div",{className:"rf-third-party-below-price","data-below-price":""}),t().createElement($.A,null,t().createElement(Ms,{updates:n.accessories,handleSelectionChange:v,preselection:y,disabled:_,accessorySlotKeyList:b})),t().createElement($.A,null,ee&&t().createElement(Hs,{data:ee,disabled:_})),window.TRADEUP_BOOTSTRAP&&t().createElement($.A,null,t().createElement("div",{className:"rc-summary-tradeup"},t().createElement(ks,{bootstrap:window.TRADEUP_BOOTSTRAP,onTradeUpComplete:f,disabled:_}))),we&&t().createElement("div",(0,q.A)({className:"rc-flagship-compatibility"},(0,Y.OH)(we))),t().createElement(xs.A,{in:!_},window.fulfillmentBootstrap&&s&&t().createElement("div",{className:"rc-summary-quotes-box row"},D&&"enabled"===V?t().createElement("div",(0,q.A)({className:te()("rc-summary-quotes-header",K.A.BODY)},(0,Y.OH)(D))):null,t().createElement(la.X,{part:s,bootstrap:window.fulfillmentBootstrap,fulfillment:S,hideSearch:o&&Ne,classes:{root:"column large-12"}}),window.PRODUCT_AVAILABILITY_BOOTSTRAP&&fe&&s&&he&&t().createElement($.A,null,t().createElement(Ya,{part:s,fulfillment:S,bootstrap:{...window.PRODUCT_AVAILABILITY_BOOTSTRAP,localityLookupUrl:fe},onSelection:(e,t)=>{const a=r().get(e,"returnPartNumber",r().get(e,"partNumber")),n=o?r().get(e,"partNumber"):a,l=r().get(e,"updatedMessage");O&&O(),s!==n?(l&&setTimeout((()=>w.add(l)),10),t&&S.handleStoreSelection?(S.handleStoreSelection({part:n,store:t}),d(t),i(a)):i(a)):t&&(S.handleStoreSelection({store:t}),d(t)),setTimeout((()=>window.scroll({top:0,left:0})),250)}})),t().createElement($.A,null,t().createElement(t().Suspense,{fallback:null},t().createElement(Ys,{fulfillment:S}))),Ne&&!Ce&&t().createElement($.A,null,t().createElement(t().Suspense,{fallback:null},t().createElement(js,{bootstrap:{...window.fulfillmentBootstrap,family:l},fulfillment:S}))),!Ne&&!Ce&&t().createElement($.A,null,t().createElement(t().Suspense,{fallback:null},t().createElement(qs,{bootstrap:window.fulfillmentBootstrap,fulfillment:S})))),t().createElement($.A,null,t().createElement(t().Suspense,{fallback:null},!r().isEmpty(A)&&t().createElement(Vs,{updates:n.accessories,accessorySlotKeyList:A,fulfillment:S})))),t().createElement("div",{className:"rc-summary-button-box",ref:pe,onClick:e=>{const t=de(x.partNumber)||{};if(t.didPartNumberChange=s!==me.current,e.target.matches('.rc-summary-button button[type="submit"], .rc-summary-button button[type="submit"] *')&&(e.stopPropagation(),e.preventDefault(),pe.current)){const e=pe.current.querySelector("form");E(e,(e=>{const t=e?e.querySelector('button[type="submit"]'):null;return!!t&&"proceed"!==t.getAttribute("name")})(e),t)}}},p&&window.favoritesConfig&&t().createElement($.A,null,t().createElement("div",{className:"rc-summary-button-after"},t().createElement("div",{className:"rc-summary-favorite-wrapper"},t().createElement(Gn,{part:x.partNumber,favoriteConfig:window.favoritesConfig,handleFavoriteAction:ie,isFavorited:oe,isFirstFavorite:le,disabled:_,errorMessage:ce})))),t().createElement(Us,{isBuyable:I||!I&&ge,formString:k},u)),p&&window.savedItemConfig&&t().createElement("div",{className:"rc-summary-save-wrapper"},t().createElement($.A,null,t().createElement(pr,(0,q.A)({disabled:_,overrideDisabledStyles:!0,assets:r().get(window,"savedItemConfig.assets",{}),config:r().get(window,"savedItemConfig.config",{}),partNumber:x.partNumber,parentPartNumber:x.parentPartNumber},ue)))))),be?t().createElement("div",(0,q.A)({className:"rf-flagship-productselection-footer"},(0,Y.OH)(be))):null,t().createElement($.A,null,t().createElement(ye,null)))};var Ws=i(5487);const zs=()=>"rtl"===document.documentElement.getAttribute("dir"),Ks=e=>zs()?-1*e:e,Qs=()=>{const e=document.documentElement.clientWidth/window.innerWidth;return e<1?1:e},Js=e=>e.map((e=>e.clientWidth)),Zs=(e,t)=>e.map((e=>Math.round(e*t))),Xs=(e,t)=>e.map(((a,n)=>{const r=e.slice(0,n).reduce(((e,t)=>e+t),0);return Math.round(r*t)})),ei=(e,t,a,n)=>{const r=e.length-1,s=a-n;return e.map(((e,a)=>{const i=(n-e)/2,o=Math.min(t[a]-i);return 0===a?o<0?0:o:a===r&&o>s?s:o}))},ti=e=>{const t=e.getBoundingClientRect();let a=0;for(;e;)a+=Math.max(e.offsetLeft-e.scrollLeft+e.clientLeft,0),e=e.offsetParent;return{x:a,y:Math.max(t.top)}},ai=(e,t,a,n)=>{if(a<=n)return 0;const r=e+n/2,s=Math.floor(r/t-n/2),i=a-n;return s<0?0:s>i?i:s},ni=(e,t,a,n,s)=>{const i=Ks(e),o=i+s,l=t.length-1,c=r().findLastIndex(t,(e=>e<i)),d=r().findIndex(t,((e,t)=>e+a[t]>o));let u=c<=0?0:c,m=d<0||d>l?l:d;return u===m&&(u=u>0?u-1:u,m=m>l?l:m+1),i-100<=n[0]&&(u=null),i+100>=n[l]&&(m=null),{previous:u,next:m}},ri=(e,t,a)=>{const n=()=>performance.now?performance.now():(new Date).getTime(),r=Ks(e.scrollLeft),s=t-r,i=n()+a,o=function(){const l=i-n(),c=1-l/a,d=Math.floor(r+s*c);l<=0?e.scrollLeft=Ks(t):(e.scrollLeft=Ks(d),window.requestAnimationFrame(o))};window.requestAnimationFrame(o)},si=Qs,ii=()=>Qs()>1,oi=()=>{const e=!!window.matchMedia&&window.matchMedia("(prefers-reduced-motion)");return!!e&&e.matches},li=(e,t,a)=>t<a&&"scroll"===getComputedStyle(e)["overflow-x"],ci=zs,di=Ks,ui=window.asMetrics||{fireMicroEvent:e=>e},mi=()=>ui.fireMicroEvent({eVar:"eVar6",slot:"Step 1",feature:"Zoomable Gallery",action:"open"}),pi=()=>ui.fireMicroEvent({eVar:"eVar6",slot:"Step 1",feature:"Zoomable Gallery",action:"close"}),gi=()=>ui.fireMicroEvent({eVar:"eVar6",slot:"Step 1",feature:"Zoomable Gallery",action:"slide left"}),hi=()=>ui.fireMicroEvent({eVar:"eVar6",slot:"Step 1",feature:"Zoomable Gallery",action:"slide right"}),fi=()=>ui.fireMicroEvent({eVar:"eVar6",slot:"Step 1",feature:"Zoomable Gallery",action:"video pause"}),Ei=()=>ui.fireMicroEvent({eVar:"eVar6",slot:"Step 1",feature:"Zoomable Gallery",action:"video play"}),vi={mediaBatchLoadInterval:200,tilesSelector:".as-zoomable-gallery-item",fullscreenImageClass:"as-zoomable-gallery-image",fullscreenImageLoadedClass:"as-zoomable-gallery-imageloaded",videoLoadedClass:"as-zoomable-gallery-videoloaded",videoPausedClass:"as-zoomable-videopaused",videoBtnClass:"as-zoomable-videobtn",videoBtnSelector:".as-zoomable-videobtn",playVideoText:'Play<span class="a11y"> Video</span>\n        <span class="icon icon-after icon-playcircle"></span>',pauseVideoText:'Pause<span class="a11y"> Video</span>\n        <span class="icon icon-after icon-pausecircle"></span>'};let yi,bi,Ai;const Si=r().once((e=>{let t=e+1,a=e-1;const n=bi.length-1,r=()=>{t>n||(wi(t),t++,setTimeout(r,Ai.mediaBatchLoadInterval))},s=()=>{a<0||(wi(a),a--,setTimeout(s,Ai.mediaBatchLoadInterval))};wi(e),setTimeout((()=>{r(),s()}),Ai.mediaBatchLoadInterval)})),wi=e=>{const t=bi[e],a=yi(e),n=r().get(Ai,`media.${e}.image`),s=r().get(Ai,`media.${e}.video`);Ti(n,t,a,Ai),Oi(s,t,n)},Ti=(e,t,a,n)=>{const r=_i(e);if(e&&r&&!e.isLoaded){e.isLoaded=!0;const s=new Image;s.onload=()=>{s.classList.add(n.fullscreenImageClass),s.setAttribute("alt",e.alt),s.setAttribute("id",a),t.classList.add(n.fullscreenImageLoadedClass),t.appendChild(s)},s.src=r}},Oi=(e,t,a)=>{const n=_i(a),r=s.Ez(),i=(!r.iosVersion||r.iosVersion>=10)&&!oi();if(e&&e.src&&!e.isLoaded){e.isLoaded=!0;const a=document.createElement("video");a.setAttribute("muted",!0),a.setAttribute("loop",!0),a.setAttribute("playsinline",!0),n&&a.setAttribute("poster",n),i&&a.setAttribute("autoplay",!0);const r=document.createElement("button");r.setAttribute("class",Ai.videoBtnClass),r.innerHTML=i?Ai.pauseVideoText:Ai.playVideoText,r.addEventListener("click",Ii),i?(a.addEventListener("loadeddata",(()=>{e.isPlaying=!0,t.appendChild(r),t.classList.add(Ai.videoLoadedClass)})),a.setAttribute("src",e.src),t.appendChild(a)):(a.setAttribute("src",e.src),e.isPlaying=!1,t.classList.add(Ai.videoLoadedClass),t.appendChild(r),t.appendChild(a))}},Ni=(e,t,a)=>{e.isPlaying=!0,t.classList.remove(Ai.videoPausedClass),t.play(),a.innerHTML=Ai.pauseVideoText,Ei()},Ci=(e,t,a)=>{e.isPlaying=!1,t.classList.add(Ai.videoPausedClass),setTimeout((()=>t.pause()),100),a.innerHTML=Ai.playVideoText,fi()},_i=e=>{const t=r().get(e,"srcSet.scaleParams2",null),a=r().get(e,"srcSet.src",null);return e?t?((e,t)=>{const a=e.indexOf("?");return a>0?e.slice(0,a+1)+t:e})(a,t):a:null},Ii=e=>{const t=e.target.closest(Ai.tilesSelector),a=t.querySelector(Ai.videoBtnSelector),n=t.querySelector("video"),s=bi.indexOf(t),i=r().get(Ai,`media.${s}.video`);n&&i&&(i.isPlaying?Ci(i,n,a):Ni(i,n,a))},Di={init:e=>{yi=e.getItemId,bi=e.tiles,Ai=Object.assign({},e.options,vi)},startLoadingMedia:Si,loadMediaForTile:wi,loadImage:Ti,loadVideo:Oi,playVideo:Ni,pauseVideo:Ci,getRetinaSrc:_i,onPauseVideoClick:Ii},Li=s.Ez(),ki={mainSelector:".as-zoomable",inlineContainerSelector:".as-zoomable-inlinecontainer",inlineControlSelector:".as-zoomable-inlinecontrols",inlineControlTilesSelector:".as-zoomable-inlinecontrols > li",inlineControlBtnsSelector:".as-zoomable-inlinecontrols button",contentSelector:".as-zoomable-content",gallerySelector:".as-zoomable-gallery",tilesSelector:".as-zoomable-gallery-item",closeBtnSelector:".as-zoomable-close",nextBtnSelector:".as-zoomable-next",previousBtnSelector:".as-zoomable-previous",isReadyClass:"as-zoomable-isready",isZommedClass:"as-zoomable-iszommed",isZommingClass:"as-zoomable-iszomming",isPageZoomedClass:"as-zoomable-ispagezommed",scrollFixClass:"as-zoomable-scrollfix",zoomOutScrollDistance:20,pageZoomScrollDistance:200,zoomTransitionDuration:300,slideTransitionDuration:350},xi={galleryId:null,wasPageZoomed:!1,isPageZoomed:!1,isGalleryZoomed:!1,doEnableDialogA11y:!Li.isHandheldPhone,config:{},layout:{}};let Pi,Ri;const Mi=()=>{Ri.body=document.body,Ri.main=document.querySelector(Pi.config.mainSelector),Ri.inlineContainer=Ri.main.querySelector(Pi.config.inlineContainerSelector),Ri.content=Ri.main.querySelector(Pi.config.contentSelector),Ri.inlineControl=Ri.main.querySelector(Pi.config.inlineControlSelector),Ri.inlineControlTiles=[...Ri.main.querySelectorAll(Pi.config.inlineControlTilesSelector)],Ri.inlineControlBtns=[...Ri.main.querySelectorAll(Pi.config.inlineControlBtnsSelector)],Ri.gallery=Ri.main.querySelector(Pi.config.gallerySelector),Ri.tiles=[...Ri.main.querySelectorAll(Pi.config.tilesSelector)],Ri.closeBtn=Ri.main.querySelector(Pi.config.closeBtnSelector),Ri.nextBtn=Ri.main.querySelector(Pi.config.nextBtnSelector),Ri.previousBtn=Ri.main.querySelector(Pi.config.previousBtnSelector)},Fi=()=>{Ri.inlineControlBtns.forEach((e=>e.addEventListener("click",Xi))),Ri.closeBtn.addEventListener("click",io),Ri.nextBtn.addEventListener("click",oo),Ri.previousBtn.addEventListener("click",lo),Ri.content.addEventListener("scroll",r().throttle(to,100,{trailing:!0,leading:!0})),window.addEventListener("resize",ao),window.addEventListener("orientationchange",no),window.addEventListener("scroll",r().throttle(eo,100,{trailing:!0,leading:!0})),Ri.body.addEventListener("keyup",ro),Ri.body.addEventListener("keydown",so)},Hi=()=>{if(Pi.doEnableDialogA11y){const e=Ji();Ri.gallery.setAttribute("id",e),Ri.content.setAttribute("aria-labelledby",e),Ri.content.setAttribute("role","group"),Ri.content.setAttribute("tabindex",-1)}Ri.content.setAttribute("aria-hidden",!0),Ri.tiles.forEach(((e,t)=>{e.setAttribute("id",Zi(t))}))},Ui=e=>{Di.init({getItemId:Zi,tiles:Ri.tiles,options:e})},$i=()=>{const e=Ri.content.clientHeight,t=Ri.content.clientWidth,a=Js(Ri.tiles);Pi.layout={containerHeight:e,containerWidth:t,thumbTilesWidths:a}},Bi=()=>{const e=Js(Ri.tiles),t=e.reduce(((e,t)=>e+t),0);Ri.inlineContainer.style.width=t+"px",Ri.gallery.style.width=t+"px",Ri.tiles.forEach(((a,n)=>{const r=e[n]/t*100,s=Ri.inlineControlTiles[n];a.style.width=r+"%",s&&(s.style.width=r+"%")})),Ri.main.classList.add(Pi.config.isReadyClass)},Vi=e=>{Pi.isGalleryZoomed=!0,Pi.wasPageZoomed=Qi(),(()=>{const e=Pi.layout.containerWidth,t=si(),a=window.innerHeight*t,n=window.innerWidth*t,r=li(Ri.main,n,e),s=a/Pi.layout.containerHeight,i=Math.floor(e*s),o=ti(Ri.content),l=Zs(Pi.layout.thumbTilesWidths,s),c=Xs(Pi.layout.thumbTilesWidths,s),d=ei(l,c,i,n);Pi.layout=Object.assign({},Pi.layout,{winHeight:a,winWidth:n,scaleFactor:s,galleryWidth:i,isInlineScrollable:r,containerOffsetLeft:o.x,containerOffsetTop:o.y,bodyScrollTop:window.pageYOffset||0,fullScreenTilesWidths:l,fullScreenTilesOffsets:c,slidesOffsets:d})})();const t=Pi.layout.slidesOffsets[e],a=Ri.main.scrollLeft;a>0&&Pi.layout.isInlineScrollable&&ji(Ri.main,0,-1*a),Pi.isTransitioning=!0,Ri.body.classList.add(Pi.config.isZommingClass),Ri.body.classList.add(Pi.config.isZommedClass),Ri.content.style.height=Pi.layout.winHeight+"px",Ri.content.style.width=Pi.layout.winWidth+"px",Ri.content.style.top=-1*Pi.layout.containerOffsetTop+"px",Ri.content.style.insetInlineStart=-1*Pi.layout.containerOffsetLeft+"px",Ri.gallery.style.width=Pi.layout.galleryWidth+"px",Ri.gallery.style.insetInlineStart=-1*t+"px",setTimeout(Yi.bind(null,e,t),Pi.config.zoomTransitionDuration)},Yi=(e,t)=>{Pi.isTransitioning=!1,Ri.body.classList.remove(Pi.config.isZommingClass),setTimeout((()=>{ji(Ri.content,t,0)}),100),Di.startLoadingMedia(e),Ki(),Ri.content.removeAttribute("aria-hidden"),Pi.doEnableDialogA11y?Ri.content.focus():Ri.closeBtn.focus()},qi=(e,t)=>{Pi.isTransitioning=!1,Ri.body.classList.remove(Pi.config.isZommingClass),Ri.content.setAttribute("aria-hidden",!0),setTimeout((()=>{Pi.layout.isInlineScrollable&&ji(Ri.main,e,0),Pi.originalInlineControlEl&&!t&&Pi.originalInlineControlEl.focus()}),10)},ji=(e,t,a)=>{Ri.body.classList.add(Pi.config.scrollFixClass),Ri.gallery.style.insetInlineStart=a+"px",e.scrollLeft=di(t),Ri.body.classList.remove(Pi.config.scrollFixClass)},Gi=e=>{Pi.isGalleryZoomed&&((e=>{Pi.isGalleryZoomed=!1;const t=Ri.content.scrollLeft;ji(Ri.content,0,di(-1*t));const a=ai(t,Pi.layout.scaleFactor,Pi.layout.containerWidth,Pi.layout.winWidth);Pi.isTransitioning=!0,Ri.body.classList.add(Pi.config.isZommingClass),Ri.body.classList.remove(Pi.config.isZommedClass),Ri.content.style.height=Pi.layout.containerHeight+"px",Ri.content.style.width=Pi.layout.containerWidth+"px",Ri.content.style.top=0,Ri.content.style.insetInlineStart=0,Ri.gallery.style.width=Pi.layout.containerWidth+"px",Ri.gallery.style.insetInlineStart=Pi.layout.isInlineScrollable?-1*a+"px":0,setTimeout(qi.bind(null,a,e),Pi.config.zoomTransitionDuration)})(e),pi())},Wi=()=>{const e=ni(Ri.content.scrollLeft,Pi.layout.fullScreenTilesOffsets,Pi.layout.fullScreenTilesWidths,Pi.layout.slidesOffsets,Pi.layout.winWidth);if(null!==e.previous){const t=Pi.layout.slidesOffsets[e.previous],a=oi()?0:Pi.config.slideTransitionDuration;ri(Ri.content,t,a),gi()}},zi=()=>{const e=ni(Ri.content.scrollLeft,Pi.layout.fullScreenTilesOffsets,Pi.layout.fullScreenTilesWidths,Pi.layout.slidesOffsets,Pi.layout.winWidth);if(null!==e.next){const t=Pi.layout.slidesOffsets[e.next],a=oi()?0:Pi.config.slideTransitionDuration;ri(Ri.content,t,a),hi()}},Ki=()=>{const e=ni(Ri.content.scrollLeft,Pi.layout.fullScreenTilesOffsets,Pi.layout.fullScreenTilesWidths,Pi.layout.slidesOffsets,Pi.layout.winWidth);null===e.previous?(Ri.previousBtn===document.activeElement&&Ri.nextBtn.focus(),Ri.previousBtn.setAttribute("disabled",!0),Ri.previousBtn.removeAttribute("aria-describedby")):(Ri.previousBtn.removeAttribute("disabled"),Ri.previousBtn.setAttribute("aria-describedby",Zi(e.previous))),null===e.next?(Ri.nextBtn===document.activeElement&&Ri.previousBtn.focus(),Ri.nextBtn.setAttribute("disabled",!0),Ri.nextBtn.removeAttribute("aria-describedby")):(Ri.nextBtn.removeAttribute("disabled"),Ri.nextBtn.setAttribute("aria-describedby",Zi(e.next)))},Qi=()=>{const e=ii();if(e&&!Pi.wasPageZoomed){const e=Ri.content.scrollLeft;e&&ji(Ri.content,0,-1*e),Ri.body.classList.add(Pi.config.isPageZoomedClass)}else Ri.body.classList.remove(Pi.config.isPageZoomedClass);return e},Ji=()=>`as-zoomable-gallery-${Pi.galleryId}`,Zi=e=>`${Ji()}-item-${e}`,Xi=e=>{if(Pi.isTransitioning)return;Pi.originalInlineControlEl=e.target;const t=Ri.inlineControlBtns.indexOf(e.target);Pi.isGalleryZoomed||(Vi(t),mi())},eo=()=>{if(Pi.isGalleryZoomed&&!Pi.isTransitioning){Pi.isPageZoomed=Qi();const e=si(),t=window.pageYOffset||0,a=Pi.layout.bodyScrollTop-t;let n=!1;n=Pi.wasPageZoomed||Pi.isPageZoomed?a>Pi.config.zoomOutScrollDistance*e||a<-1*Pi.config.pageZoomScrollDistance*e:Math.abs(a)>Pi.config.zoomOutScrollDistance,n&&Gi(!0)}},to=()=>{Pi.isGalleryZoomed&&Ki()},ao=()=>{Li.isHandheldPhone||Pi.isGalleryZoomed&&(Pi.isPageZoomed=Qi(),Pi.isPageZoomed||Gi())},no=()=>{Gi()},ro=e=>{if(Pi.isGalleryZoomed)switch(e.keyCode){case l.HP.Esc:case l.HP.ArrowUp:case l.HP.ArrowDown:Gi();break;case l.HP.ArrowLeft:ci()?zi():Wi();break;case l.HP.ArrowRight:ci()?Wi():zi()}},so=e=>{if(Pi.isGalleryZoomed&&(e.keyCode===l.HP.ArrowLeft||e.keyCode===l.HP.ArrowRight))return e.preventDefault(),!1},io=()=>{Gi()},oo=()=>{Pi.isGalleryZoomed&&zi()},lo=()=>{Pi.isGalleryZoomed&&Wi()},co=(e,t)=>{if(e.length>0){const n=e.map((e=>({image:e.fullscreen}))),r=`\n            ${t.play} <span class="a11y">${t.video}</span>\n            <span class="icon icon-after icon-playcircle"></span>\n        `,s=`\n            ${t.pause} <span class="a11y">${t.video}</span>\n            <span class="icon icon-after icon-pausecircle"></span>\n        `;a={media:n,playVideoText:r,pauseVideoText:s},Ri={},Pi=Object.assign({},xi),Pi.galleryId=Math.ceil(100*Math.random()),Pi.config=Object.assign({},ki,a),Mi(),Fi(),Bi(),$i(),Ui(a),Hi()}var a},uo=a=>{let{bootstrap:n,className:r,dir:s,...i}=a;const{assets:o}=(0,U.useGlobalContext)(),l=t().useMemo((()=>"rtl"===s||"rtl"===document?.documentElement?.getAttribute("dir")),[s]),c=Object.keys(n.sections).sort().map(((e,t)=>{const{thumbnail:a,fullscreen:r,type:s}=n.sections[e];return{id:t,thumbnail:a,fullscreen:r,type:s}}));return(0,e.useEffect)((()=>co(c,o)),[]),c.length>0?t().createElement("div",(0,q.A)({className:te()("as-zoomable",r),"data-analytics-section":"buyflow-gallery","data-autom":"buyflow-gallery"},i),t().createElement("div",{className:"as-zoomable-inlinecontainer"},t().createElement("ul",{className:"as-zoomable-inlinecontrols","aria-label":"Gallery"},c.map(((e,a)=>t().createElement("li",{key:e.id},t().createElement("button",{type:"button","aria-labelledby":`as-zoomable-gallery-button-${e.id} as-zoomable-gallery-thumbnail-${e.id}`},t().createElement("span",{id:`as-zoomable-gallery-button-${e.id}`,className:"a11y"},o.gallery," ",o.image," ",a+1)))))),t().createElement("div",{className:"as-zoomable-content paddlenav paddlenav-alpha paddlenav-elevated"},t().createElement("button",{className:"as-zoomable-close",type:"button"},t().createElement("span",{className:"icon icon-close"}),t().createElement("span",{className:"a11y"},o.close)),t().createElement("button",{className:"as-zoomable-previous paddlenav-arrow paddlenav-arrow-previous",type:"button"},t().createElement("span",{className:"a11y"},o.previous),t().createElement("span",(0,Y.OH)(l?Ws.e:Ws.R))),t().createElement("button",{className:"as-zoomable-next paddlenav-arrow paddlenav-arrow-next",type:"button"},t().createElement("span",{className:"a11y"},o.next),t().createElement("span",(0,Y.OH)(l?Ws.R:Ws.e))),t().createElement("ul",{className:"as-zoomable-gallery","aria-label":"Gallery"},c.map((e=>t().createElement("li",{key:e.id,className:`as-zoomable-gallery-item as-zoomable-gallery-${e.type}`},t().createElement(Jt.Ay,{data:e.thumbnail,className:"as-zoomable-gallery-thumbnail",alt:e.alt,"aria-hidden":"true",id:`as-zoomable-gallery-thumbnail-${e.id}`})))))))):null},mo=e=>{let{bootstrap:a,visible:n,onOpen:r,onClose:s}=e;const{items:i,viewGalleryLink:o,footer:l}=a;return t().createElement("div",{className:"rf-flagship-overlaygallery-container"},t().createElement("button",(0,q.A)({type:"button",className:"as-buttonlink",onClick:r},(0,Y.OH)(o))),t().createElement(V.v0,{visible:n,onClose:s,items:i,a11y:{label:"Overlay gallery"},footerContent:l}))},po=function(e){let a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=t().useRef({}),s=t().useRef([]);return{AssignRef:t=>n=>{if(!a)return;r.current[t]=n;e.some((e=>e.key===t))||-1!==s.current.indexOf(t)||s.current.push(t)},scrollToNextSection:(t,i)=>{if(!a)return;const o=[...e.map((e=>e.key)),...s.current],l=o.indexOf(t);if(-1===l||l===o.length-1)return;const c=e.map((e=>e.key)).indexOf(t),d=-1!==c,u=c===e.length-1,m=o[d&&!u&&!n||i?l:l+1],p=r.current[m];p&&setTimeout((()=>{const e=(e=>{const t=document.documentElement.offsetTop||0,a=document.querySelector(".localnav-wrapper.sticky-enabled")||document.querySelector(".as-standardnav.css-sticky")||document.querySelector(".rf-summary-header"),n=a?a.offsetHeight:0;return e.offsetTop+t-n})(p);fr(document.documentElement,e,{duration:900,easing:"ease-in-out"})}),100)}}},go=()=>{const e=r().get(window,"pageLevelData.promoRibbonContent")||{},t=r().omit(e,["last","sections"]);return t?r().compact(Object.keys(t).sort().map((e=>t[e]))):[]};var ho=i(9998);const fo=e=>{let{coldStartPrice:a,summary:n}=e;const s=t().useRef(),i=r().get(window,"NAMED_ASSETS.showLocalNavPrice",!1),{templateId:o,acmiAssets:l,staticAssets:c,priceData:d={},price:u}=r().get(n,"summary",{}),m=r().get(n,"summary.headerPrice"),{fullPrice:p,monthlyPrice:g}=d,h={fullPrice:p,monthlyPrice:g},f={...l,...c};t().useEffect((()=>{if(i){s.current=document.querySelector(".as-localnav-price-content");const e=document.querySelector(".as-localnav-price");e&&e.classList.add("as-localnav-price-show")}}),[]);const E=m?{assets:f,defaultPrice:m}:{templateId:o,data:h,assets:f,defaultPrice:u||a};return s.current&&i?(0,M.createPortal)(t().createElement(ho.A,E),s.current):null},Eo=e=>{const t=[];return e&&Object.keys(e).forEach((a=>{const n=r().get(e,`${a}.state`),s=r().get(window,`pageLevelData.${a}.state`);if("hidden"!==n&&"hidden"!==s){const e=r().get(window,`pageLevelData.${a}.stepData.slotSections[0].slotAccessories`,[]);t.push(...e)}})),t},vo="ao.",yo=e=>{const t=r().get(e,"productSelection.variantGalleryData");let a=[];t&&(a=t.map((e=>e.items.map((e=>({value:{data:{map:r().get(e,"value.map")}}})))))),0===a.length&&(a=!1);const n=go(),{uniqueProductSelection:s={},productSelection:i}=e,o=i.dimensions.map((e=>e.key)),l=((e,t,a)=>{if(!r().isEmpty(e)){const n=Object.keys(e).filter((e=>t.includes(e))).reduce(((t,a)=>(t[a]=e[a],t)),{}),r=(0,ct.tx)(a,n);if(r)return{...n,part:r.part}}return null})(s,o,i.products),c=H.Ay.getBuyflowComplete()?(H.Ay.removeAllFromSessionComplete(),H.t$.removeEntriesForSession(),{}):H.Ay.getEntriesForStep({excludePath:!0}),d=l||c,u=r().get(d,"part",null),m=Object.keys(d).filter((e=>o.includes(e))).reduce(((e,t)=>(e[t]=d[t],e)),{}),p=c.purchaseOptionType||null,g=c.buyflowParams||{},h=c.engravingOption||null,f=(e=>Object.keys(e).filter((e=>e.startsWith(vo))).reduce(((t,a)=>{const n=a.replace(vo,""),[r,s,i="0"]=n.split(".");if(t[r]||(t[r]={engravedData:{selection:[]}}),"productToEngrave"===s)t[r].engravedData.productToEngrave=e[a],t[r].engravedData.engravedPart=e[`${vo}${r}`],t[r].engravedData.isEngraved=!0;else if("msg"===s){const n=Number(i);t[r].engravedData.selection[n]={...t[r].engravedData.selection[n],key:n,messages:[e[a]]}}else if("f"===s){const n=Number(i);t[r].engravedData.selection[n]={...t[r].engravedData.selection[n],key:n,font:e[a]}}else t[r].part=e[a];return t}),{}))(c);let E=null,v=null;if(c.productToEngrave===u){E=c.engravedPart;const e=r().get(window,"ENGRAVING_BOOTSTRAP.engravingSelectorKey");v=e&&h?{[e]:!0}:null}return{defaultPart:u,defaultSelection:m,defaultPurchaseOption:p,defaultBuyflowParams:g,defaultEngravingPart:E,defaultEngravingParam:v,defaultEngravingOption:h,defaultAccessories:f,staticPromoMsgs:n,variantGalleryItems:a}},bo=a=>{let{bootstrap:n,onSelectionChange:s=(()=>{}),onPartChange:i=(()=>{})}=a;const{viewport:o}=(0,U.useGlobalContext)(),{defaultPart:l,defaultSelection:c,defaultPurchaseOption:d,defaultBuyflowParams:u,defaultEngravingPart:m,defaultEngravingParam:p,defaultEngravingOption:g,defaultAccessories:h,staticPromoMsgs:f,variantGalleryItems:E}=(0,e.useMemo)((()=>yo(n)),[]),{shopByAvailabilityEnabled:v,shopByAvailabilityVersion:y}=r().get(window,"PRODUCT_AVAILABILITY_BOOTSTRAP",{}),b=v&&2===y,A="small"===o,[S,w]=(0,e.useState)(l),[T,O]=(0,e.useState)(c),[N,C]=(0,e.useState)(d),_=(0,e.useRef)(null),I=(0,e.useRef)(null),[D,L]=(0,e.useState)(null),[k,x]=(0,e.useState)(m),[P,R]=(0,e.useState)(p),[M,F]=(0,e.useState)(),[B,j]=(0,e.useState)(u),[G,W]=(0,e.useState)(),z=k||S,[Q,J]=(0,e.useState)(!1),Z=(0,e.useRef)(!1),X=e=>{w(e),H.Ay.set("part",e),R(null),x(null)},ee=ia([]);(0,e.useEffect)((()=>{i(S)}),[S]),(0,e.useEffect)((()=>{var e;e=S,fn.util&&fn.util.updateHeroProduct&&fn.util.updateHeroProduct({sku:e})}),[S]),(0,e.useEffect)((()=>{N&&(H.Ay.set("purchaseOptionType",N),((e,t)=>{fn.fireMicroEvent({part:`${e} ${t}`,feature:"Step 1",eVar:"eVar6",action:"Purchase Options Changed"})})(S,N))}),[N]),(0,e.useEffect)((()=>{const e=window.performance.getEntriesByName("jsx-buyflow-initrender-start");e&&e.length>0&&(window.performance.mark("jsx-buyflow-initrender-finish"),window.performance.measure("jsx-buyflow-initrender","jsx-buyflow-initrender-start","jsx-buyflow-initrender-finish"));const t=window.sessionStorage.getItem("showCrossBuyflowSBANotifications");v&&($a(window.PRODUCT_AVAILABILITY_BOOTSTRAP),b&&t&&ee.add(t)),window.sessionStorage.removeItem("showCrossBuyflowSBANotifications"),window.asMetrics?.update?.()}),[]),(0,e.useEffect)((()=>{A&&window.asMetrics.update()}),[A]);const{state:ae,setDimension:ne,replacePrices:re}=(0,lt.A)({part:S,selection:T,bootstrap:n.productSelection,onSelectionChange:e=>{O(e),H.Ay.setValues(e),(e=>{const t=Object.values(e).join(" > ").toUpperCase();fn.fireMicroEvent({part:t,feature:"Step 1",eVar:"eVar6",action:"Selected"})})(e),s(e)},onPartChange:X,calculateOptionPrices:!0,autoSelectSingleDimension:r().get(n,"assets.autoSelectSingleDimension",!1)}),[se,ie]=mn({product:ae.selectedProduct,purchaseOption:N,engravingPart:k,engravingParam:P,accessorySelection:D,bfil:M,buyflowParams:B,replacePrices:re,bootstrap:n.buyflow}),oe=r().get(n,"assets.sectionScroll",!0),le=r().get(n,"assets.nextSectionScroll"),ce=po(ae.dimensions,oe,le);(0,e.useEffect)((()=>{if(se.accessories&&l&&_.current&&!D){const e=Eo(se.accessories),t=r().some(e,(e=>!r().get(_.current,`${vo}${e}`)));r().isEmpty(e)||t||L(_.current)}}),[se.accessories]);const de=e=>{const t=e.selection;if(t){if(_.current={..._.current,...t},!D&&l){I.current=r().isEmpty(I.current)?Eo(se.accessories):I.current;const e=r().some(I.current,(e=>!r().get(_.current,`${vo}${e}`)));r().isEmpty(I.current)||e||L(_.current)}else L(_.current);Object.keys(t).forEach((e=>{const[a,n]=e.split("."),r=`${a}.${n}`,s=`${r}.productToEngrave`;_.current[s]!==t[s]&&(e=>{const t=H.Ay.getEntriesForStep({excludePath:!0});Object.keys(t).filter((t=>t.startsWith(e))).forEach((e=>{H.Ay.remove(e)}))})(r),"none"===_.current[r]?H.Ay.remove(e):H.Ay.set(e,_.current[e])}))}},{chatFeature:ue,showChatUnderSummary:me,showStickyChat:pe}=r().get(window,"pageLevelData.chat",{}),ge=r().get(window,"pageLevelData.buyStrip.valueProps"),{productHeaderWithModel:he,productHeader:fe,specialMessagingSubheader:Ee,tradeInMessage:ve,tradeInLearnmoreLink:ye,overlayGallery:be}=r().get(n,"buyflow",{}),Ae=()=>t().createElement("div",{className:te()("rf-flagship-product-header",K.A.BODY_REDUCED,{"rf-flagship-product-header-with-variant-gallery":E})},he&&t().createElement("h1",{className:"fwl","data-autom":"productSelectionHeader"},t().createElement("span",(0,q.A)({className:"rf-productdecision-familyname"},(0,Y.OH)(r().get(he,"familyName")))),t().createElement("div",(0,q.A)({className:"rf-productdecision-headertitle"},(0,Y.OH)(r().get(he,"modelName"))))),fe?t().createElement("div",(0,Y.OH)(fe)):null,ve?t().createElement("div",(0,q.A)({className:te()("rf-flagship-tradeinmessage",K.A.INTRO)},(0,Y.OH)(ve))):null,ye?t().createElement("div",(0,q.A)({className:"rf-flagship-tradeinlearnmorelink"},(0,Y.OH)(ye))):null,Ee?t().createElement("div",(0,Y.OH)(Ee)):null),Se=()=>ge&&!E?t().createElement("div",(0,q.A)({className:"rf-flagship-buystrip"},(0,Y.OH)(ge))):null,we=()=>ue&&!me?t().createElement("div",(0,q.A)({className:te()("rf-flagship-chatcontent",K.A.BODY_REDUCED)},(0,Y.OH)(ue))):null,Te=()=>ue&&pe?t().createElement("div",(0,q.A)({className:"rf-stickychat"},(0,Y.OH)(ue))):null,Oe=r().get(n,"assets.dimensionCollapse",!0),Ne=r().get(window.pageLevelData,"inlineAccessorySlotKeyList"),Ce=r().get(window.pageLevelData,"accessorySlotKeyList"),_e=(0,e.useMemo)((()=>{if(!z)return[];const e=N?[{partNumber:z,cppart:N}]:[z];return Ne&&Ne.forEach((t=>{r().get(window,`pageLevelData[${t}].stepData.slotSections[0].accessoryDataList`,[]).forEach((t=>{const a=r().get(D,`ao.${t.accessoryKey}`);e.push({part:a&&"none"!==a?a:r().get(t,"options.selectedValue"),little:!0})}))})),e}),[z,N,D]),Ie=(0,e.useMemo)((()=>{const e=r().get(n,"buyflow.useComparativeDisplayPriceInColdStart",!1);return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(!e.length)return null;let a="";const n=e.filter((e=>e.selected)).map((e=>r().find(e.options,{value:e.value})));if(n&&n.length)a=wn(r().last(n));else{const n=1===e.length;let s=!0;const i=r().get(e,"0.options",[]),o=r().sortBy(i,(e=>{const t=r().get(e,"priceData.currentPrice.raw_amount","");return parseInt(t,10)}));n&&(s=1!==r().uniq(r().values(r().mapValues(i,"priceData.currentPrice.amount"))).length);const l=n||t;o&&o[0]&&(a=wn(o[0],s,l))}return a}(ae.dimensions,e)||r().get(n,"buyflow.coldStartPrice")}),[ae.dimensions]),De=r().get(se,"summary"),Le=r().get(r().findLast(ae.dimensions,{selected:!0}),"key"),ke=t().useRef(),[xe,Pe]=(0,e.useState)(null),Re=(0,e.useCallback)(((e,t)=>{const a=r().get(window,"fulfillmentBootstrap.deliveryNotificationEnabled"),n=r().get(window,"fulfillmentBootstrap.deliveryNotificationMessage"),s=r().get(e,`[${S}].deliveryOptions`);if(a&&n&&void 0!==s&&"partChange"===t){const e=ke.current,t=!r().isEqual(s,e);e&&t&&ee.add(n),t&&(ke.current=s)}}),[S]),Me=(0,la.w)({bootstrap:window.fulfillmentBootstrap,parts:_e,onDeliveryMessage:Re,onStoreSelection:(e,t)=>{if(e.part&&e.part!==S){w(e.part);const t=r().get(window.fulfillmentBootstrap,"notificationMessage");t&&ee.add(t)}e.store&&e.store!==t&&Pe(e.store)}}),Fe=()=>{const e=r().get(De,"summary.complianceModel.icon");return e?t().createElement("div",{className:"rf-flagship-compliance-container"},t().createElement(Jt.Ay,{data:e,className:"rf-flagship-compliance-image"})):null},He=()=>{be&&(J(!0),fn.fireMicroEvent({eVar:"eVar6",feature:"Step1",action:"View Gallery"}))},Ue=ue?`<div class="rf-overlay-chat-withbackgroundfooter">${ue}</div>`:null;return t().createElement($.A,null,t().createElement("div",{className:te()("rf-flagship",{"rf-stickychat-enabled":pe})},t().createElement(ft,{dataPattern:"data-ase-loader",footerContent:Ue,metrics:{slot:"Step 1 - Link"}}),t().createElement(wt,{dataPattern:"data-ase-installment-loader",metrics:{slot:"Step 1 - Link"}}),t().createElement(It,{dataPattern:"data-simple-installment-overlay",footerContent:Ue,metrics:{slot:"Step 1 - Link"}}),t().createElement(Qt,{dataPattern:"data-buyflow-financing-overlay"}),t().createElement(Lt,{className:te()({"rf-acmi-banner":!!G}),content:G,staticContent:f,noAnimation:r().get(n,"assets.stopBannerAnimation","false")}),t().createElement(sa,{current:ee.current,hasNext:ee.hasNext,onFinished:ee.next,classes:{contentWrapper:"as-l-container"},portal:"notification-portal"}),t().createElement("div",{className:"rf-flagship-buyflow as-l-container row"},t().createElement("div",{className:"column large-6 small-12"},t().createElement("div",{className:"rf-flagship-sticky"},A&&t().createElement("div",{"data-analytics-section":"hero"},t().createElement(Ae,null)),!E&&t().createElement(In,{imageData:ae.selectionImage,selection:T,selectedLastDimKey:Le,onClick:He}),be&&t().createElement($.A,null,t().createElement(mo,{bootstrap:be,visible:Q,onOpen:He,onClose:()=>J(!1)})),!A&&t().createElement($.A,null,t().createElement(Se,null),t().createElement(we,null)))),A&&t().createElement(Te,null),A&&window.ZOOMABLE_GALLERY_BOOTSTRAP&&t().createElement($.A,null,t().createElement(uo,{bootstrap:window.ZOOMABLE_GALLERY_BOOTSTRAP,className:"rf-flagship-zoomable-gallery"})),t().createElement("div",{className:te()({"column large-12 small-offset-0 small-12":E},{"column large-5 large-offset-1 small-offset-0 small-12 rf-flagship-buyflow-columnright":!E})},!A&&t().createElement("div",{"data-analytics-section":"hero"},t().createElement(Ae,null)),t().createElement(Cn,{dimensions:ae.dimensions,onDimensionChange:ne,sectionScroller:ce,assets:r().get(n,"assets",{}),collapse:Oe,variantGalleryItemsMatrix:E}),t().createElement(qn,{data:se.purchaseOptions,purchaseOption:N,onPurchaseOptionChange:e=>C(e)}),t().createElement($.A,null,window.ENGRAVING_BOOTSTRAP&&t().createElement("div",{className:"rf-flagship-engraving",ref:ce.AssignRef("engraving"),"data-analytics-section":"engraving"},t().createElement(oa.default,{bootstrap:{collapse:Oe,...window.ENGRAVING_BOOTSTRAP},part:S,id:"app",defaultEngravingOption:g,onChange:e=>{(e=>{let{engravedData:t,param:a}=e;const{isEngraved:n,engravedPart:r}=t;x(n?r:null),R(a)})(e),!0===Z.current?Z.current=!1:window.setTimeout((()=>{ce.scrollToNextSection("engraving")}),400)}}))),t().createElement($.A,null,t().createElement(Fn,{metadata:se.metadata,updates:se.accessories,handleSelectionChange:de,preselection:h,fulfillment:Me,sectionScroller:ce})),t().createElement("div",{className:te()({"rf-flagship-summary-wrapper column large-6 large-offset-6 small-offset-0 small-12":E},{"rf-flagship-summary-wrapper":!E}),"data-autom":"full-summary","data-analytics-section":"summary",ref:ce.AssignRef("summary")},t().createElement(Gs,{response:se,part:z,handlePartChange:X,isEngraved:!!k,productLocatorFamily:r().get(n,"productSelection.products.0.productLocatorFamily"),coldStartButton:r().get(n,"buyflow.coldStartButton","Continue"),coldStartPrice:Ie,acmConfig:se.buyflowMessages,handleACMComplete:e=>{const{isConfigUpdated:t,acmiLevel:a=0,bannerMessage:n}=e;t||(F(a),n&&W(n))},handleBuyFlowButtonClick:ie,defaultAccessories:h,accessorySlotKeyList:Ce,inlineAccessorySlotKeyList:Ne,handleAccessorySelectionChange:de,onTradeUpComplete:e=>{let{buyFlowParameters:t=null,isRemoved:a=!1,buyflowKeys:n=null}=e;if(t&&!a){const e={...B,...t};j(e),H.Ay.setValues(e),H.Ay.set("buyflowParams",e)}else if(a&&n){const e={...r().omit(B,n)};j(e),n.forEach((e=>{H.Ay.remove(e)})),r().isEmpty(e)?H.Ay.remove("buyflowParams"):H.Ay.set("buyflowParams",e)}},favoritesEnabled:r().get(n,"productSelection.favoritesEnabled",!1),buyabilityStore:xe,setBuyabilityStore:Pe,fulfillment:Me,notification:ee,onShopByAvailabilitySelection:()=>{Z.current=!0}}),t().createElement($.A,null,t().createElement(Fe,null))))),A&&t().createElement($.A,null,pe?null:t().createElement(we,null),t().createElement(Se,null)),window.inlineGallery&&t().createElement($.A,null,t().createElement(V.aT,{items:r().get(window,"inlineGallery.items"),metrics:{slot:"Step 1 - sections",feature:"Gallery"},"data-analytics-section":"inline-gallery"})),!A&&window.ZOOMABLE_GALLERY_BOOTSTRAP&&t().createElement($.A,null,t().createElement(uo,{bootstrap:window.ZOOMABLE_GALLERY_BOOTSTRAP,className:"rf-flagship-zoomable-gallery"}))),t().createElement(fo,{coldStartPrice:Ie,summary:De}))},Ao=e=>{const t=e?e.indexOf('<img src="'):-1;if(t>=0){const a=e.slice(t+10);return a.slice(0,a.indexOf('"'))}return null},So=e=>{const t=e?e.indexOf('alt="'):-1;if(t>=0){const a=e.indexOf('"',t+5);if(a-t-5>1){return(e=>{if(!e)return"";const t=document.createElement("textarea");return t.innerHTML=e,t.value})(e.slice(t+5,a))}}return null},wo=e=>e.sections.map((e=>({key:e.formFieldName,header:e.header,subHeader:e.subHeader,footer:e.footer,view:e.view,decisionSection:r().get(e,"decisionSupportTile.items.0.value")}))),To=(e,t)=>e.products.map((e=>{const a={},n={};Object.keys(e).forEach((r=>{t.find((e=>e===r))?a[r]=e[r]:n[r]=e[r]}));const s=r().isEmpty(a)||r().isEmpty(t)?null:((e,t)=>{const a={};return t.forEach((t=>{a[t]=e[t]})),a})(a,t),{part:i,partNumber:o,imageKey:l,fullPrice:c,price:d,...u}=n;return{part:o,skuPart:i,productImage:l,productPrice:c||d,dimensions:s||a,...u}})),Oo=(e,t,a)=>{const n=[],r={};return t.forEach((t=>{const a={};e.displayValues[t].variantOrder.forEach(((r,s)=>{if("carrierModel"===t){const{value:t,image:n,violator:i}=e.displayValues.carrierPolicyPart[r];a[r]={text:t,image:n,violator:i,sortOrder:s}}else{const{value:i,image:o,violator:l}=e.displayValues[t][r],c="string"!=typeof o?o:{src:Ao(o),alt:So(o)};a[r]={text:i,image:c,violator:l,sortOrder:s},"dimensionScreensize"===t&&n.push({selection:{[t]:r},image:c})}})),r[t]=a})),a&&n.push({selection:null,image:a}),{productImage:e.imageDictionary,productPrice:e.displayValues.prices,dimensions:r,selectionImages:n}},No=e=>{const t={},a=r().get(e,"displayValues.prices",{}),n=Object.values(a);return t.financing=r().get(n,"[0].financing-downpayment",""),t.financingFull=r().get(n,"[0].financing-downpayment-full",""),t},Co=(e,t)=>{const a=(e=>{const t=[];return e&&e.forEach(((e,a)=>{const n=r().get(e,"variantGallery",null);n&&(t[a]=n)})),t})(r().get(e,"sections",null)),n=e.sections.map((e=>e.formFieldName));return{dimensions:wo(e),products:To(e,n),dictionaries:Oo(e,n,t),favoritesEnabled:r().get(e,"favoritesEnabled",!1),priceDisplayOrder:r().get(e,"priceDisplayOrder",null),noThanks:r().get(e,"noThanks",null),variantGalleryData:0!==a.length?a:null,downPaymentRate:No(e)}},_o=e=>{let{rootTag:a="ul",itemTag:n="li",content:s,className:i,classes:o={root:"",item:""},metrics:l,firstRowLimit:c,...d}=e;const{viewport:u}=(0,U.useGlobalContext)(),m=()=>t().createElement(V.aT,{items:s,onSwiped:(e,t)=>{((e,t,a,n)=>{window.asMetrics.fireMicroEvent({eVar:"eVar6",slot:"Step 1",feature:"WITB",part:`Swipe-${t}`,action:`${a+1}/${n}`,...e})})(l,e,t,s.length)},renderItem:e=>t().createElement(V.t,{key:e.index,index:e.index},t().createElement("div",{className:"rc-witb-image-wrapper"},e.image?t().createElement(Jt.Ay,{data:e.image,className:"rc-witb-item-image",showInView:!0}):t().createElement("div",(0,q.A)({},(0,Y.OH)(e.content),{key:e.index}))),r().isArray(e.displayText)?e.displayText.map((a=>t().createElement("div",(0,q.A)({key:e.index,className:"rc-witb-gallery-list-label typography-body-reduced"},(0,Y.OH)(a))))):t().createElement("div",(0,q.A)({className:"rc-witb-gallery-item-label typography-body-reduced"},(0,Y.OH)(e.displayText)))),classes:{root:"rc-witb-inline-gallery"},paddlenav:!1,dotnavProps:{classes:{root:"rc-witb-inline-gallery-dotnav"}},radius:1,a11y:{items:s.map((e=>e.displayText))}});return s&&!("small"===u)?t().createElement(a,(0,q.A)({"data-autom":"witbSection",className:te()("rc-witb-items row",i,o.root,{"rc-witb-items-row-group":c}),role:"list"},d),s.map(((e,a)=>{const s=!!c&&a+1>c;return e.image?t().createElement(n,{className:te()("rc-witb-item",o.item,{"rc-witb-item-row-group":s}),key:e.index,role:"listitem"},t().createElement("div",{className:"rc-witb-image-wrapper"},t().createElement(Jt.Ay,{data:e.image,className:"rc-witb-item-image",showInView:!0})),r().isArray(e.displayText)?e.displayText.map((e=>t().createElement("div",(0,q.A)({key:e,className:"rc-witb-item-label typography-body-reduced rc-witb-list-label"},(0,Y.OH)(e))))):t().createElement("div",(0,q.A)({className:"rc-witb-item-label typography-body-reduced"},(0,Y.OH)(e.displayText)))):t().createElement(n,(0,q.A)({},(0,Y.OH)(e.content),{key:e.index,role:"listitem"}))}))):t().createElement(m,null)},Io=a=>{let{content:n}=a;const[r,s]=(0,e.useState)(!1),{questionSection:i,answerSection:o,controlSection:l,noAnswersText:c}=n;return t().createElement(t().Fragment,null,t().createElement("div",{className:"rc-community-question"},t().createElement("a",{href:i.questionLink.link,className:te()("rc-community-question-title",K.A.BODY_REDUCED)},t().createElement("span",(0,Y.OH)(i.questionLink.text))),t().createElement("div",{className:te()("rc-community-question-subtext",K.A.CAPTION)},i.authorInfo,t().createElement("abbr",{title:i.formattedDate},i.dateInfo))),o&&t().createElement("div",{className:"rc-community-answer"},t().createElement("h3",{className:te()("rc-community-mostusefulanswer",K.A.BODY_REDUCED)},o.answerText),t().createElement("div",{className:te()("rc-community-answer-description",K.A.BODY_REDUCED)},o.moreDescription?t().createElement(t().Fragment,null,r?"":t().createElement("span",null,o.description,t().createElement("span",{className:"rc-community-answers-ellipsis "},t().createElement("button",{className:"as-buttonlink more ",type:"button",onClick:()=>s(!0)},"More"),t().createElement("span",{className:"visuallyhidden"},"(Read full answer)")))):t().createElement("span",(0,Y.OH)(o.description)),t().createElement(G.A,{in:r,className:"rc-community-answer-animation"},o.moreDescription)),t().createElement("ul",{className:te()("rc-community-question-subtext",K.A.CAPTION)},o.authorInfo,t().createElement("abbr",{title:o.formattedDate},o.dateInfo))),l&&t().createElement("div",{className:te()("rc-community-questionanswer-controls",K.A.BODY_REDUCED)},t().createElement("a",{href:l.answerNowLink.link,className:te()("rc-community-answernow button button-reduced button-secondary",K.A.BODY_REDUCED_TIGHT),onClick:()=>(e=>{const t=`Answer now( ${e}) `;window.asMetrics.fireMicroEvent({link:t})})(i.questionLink.text)},l.answerNowLink.text,t().createElement("span",{className:"visuallyhidden"},i.questionLink.text)),l.countAnswerLink&&t().createElement("a",{href:i.questionLink.link,className:te()("rc-community-questionscount",K.A.BODY_REDUCED,"more"),onClick:()=>((e,t)=>{const a=` ${e}(${t})`;window.asMetrics.fireMicroEvent({link:a,v22:`AOS: ${t}`})})(l.countAnswerLink.text,i.questionLink.text)},l.countAnswerLink.text,t().createElement("span",{className:"visuallyhidden"},i.questionLink.text)),!l.countAnswerLink&&t().createElement("span",{className:"rc-community-noanswertext"},c)),t().createElement("span",{className:"rc-community-question-divider"}))},Do=e=>{let{tabLink:a,tabContent:n,totalQuestionsCount:s,defaultQuestionLink:i,noAnswersText:o,...l}=e;const c=r().get(a,"items"),d=r().get(n,"items");return c&&d?t().createElement(se.Ay,(0,q.A)({count:a.size},l),t().createElement(se.jl,{items:c.map((e=>e.value.text)),classes:{root:"rc-community-tabnav",item:"rc-community-tabnav-item",items:"rc-community-tabnav-items"}}),t().createElement(se.T2,null,d.map(((e,a)=>t().createElement(se.Kp,{index:a,key:e.value.panelId},t().createElement("ul",{className:"rc-community-questionanswer-list"},r().get(e,"value.questionAnswersList.items",[]).map((e=>{const a={...r().get(e,"value",{}),noAnswersText:o};return t().createElement($.A,{key:e.index},t().createElement("li",{className:"rc-community-questionanswer-list"},t().createElement(Io,{content:a})))}))))))),t().createElement("div",{className:te()("rc-community-questions-totalcount",K.A.BODY_REDUCED)},t().createElement("a",{href:s.url,className:"more"},s.text))):t().createElement("div",{className:te()("rc-community-no-question",K.A.BODY)},t().createElement("a",{href:i.link,className:"more"},i.text))},Lo=(e,t,a,n)=>{const r=window.asMetrics,s=`Accordion|${t}|${e}`,i=n.includes(a)?"collapsed":"expanded";r.fireMicroEvent({eVar:"eVar6",feature:s,action:i})},ko=a=>{let{bootstrap:n,witbSection:r,defaultSelection:s=0}=a;const[i,o]=(0,e.useState)(r?[s]:[]),{faqBootstrap:l,qaBootstrap:c}=n||{},{current:d}=(0,e.useRef)([]);return(0,e.useEffect)((()=>{r&&d.push("witbSection"),l&&(d.push("faqSection"),l.isDefaultOpen&&o((e=>[...e,1]))),c&&d.push("qaSection")}),[d,l,c,r]),l||c||r?t().createElement(ne,{index:i,handleChange:e=>o(e),className:"rf-flagship-community"},r&&t().createElement(ae,{title:r.witbHeader,titleWrapperTag:"h2",titleWrapperAttrs:{className:"as-l-container"},contentAttrs:{className:"as-l-container"},classes:{button:"rf-flagship-buyflow-witb-accordion"},onClick:e=>(e.target.parentNode.classList.contains("rf-flagship-buyflow-witb-accordion")||e.target.classList.contains("rf-flagship-buyflow-witb-accordion"))&&Lo("witbsection",d.indexOf("witbSection")+1,0,i),noPadding:!0},t().createElement(_o,{classes:{root:"rs-witb-wrapper"},content:r.witbImages})),l&&t().createElement(ae,{title:l.sectionHeader,titleWrapperTag:"h2",titleWrapperAttrs:{className:"as-l-container"},contentAttrs:{className:"as-l-container"},classes:{button:"rf-flagship-buyflow-faq-accordion"},onClick:e=>(e.target.parentNode.classList.contains("rf-flagship-buyflow-faq-accordion")||e.target.classList.contains("rf-flagship-buyflow-faq-accordion"))&&Lo("faqsection",d.indexOf("faqSection")+1,1,i),noPadding:!0},t().createElement(re,{classes:{root:"rf-faqsection-wrapper"},content:l.faqSection,titleTag:"h3",defaultSelection:l.isDefaultOpen?void 0:0,id:"question"})),c&&t().createElement(ae,{title:c.sectionHeader,titleWrapperTag:"h2",titleWrapperAttrs:{className:"as-l-container"},contentAttrs:{className:"as-l-container"},classes:{button:"rf-flagship-buyflow-questionanswer-accordion"},onClick:e=>(e.target.parentNode.classList.contains("rf-flagship-buyflow-questionanswer-accordion")||e.target.classList.contains("rf-flagship-buyflow-questionanswer-accordion"))&&Lo("communityanswers",d.indexOf("qaSection")+1,2,i),noPadding:!0},t().createElement(Do,{tabLink:c.tabLinks,tabContent:c.tabContent,totalQuestionsCount:c.totalQuestionsCount,defaultQuestionLink:c.defaultQuestionLink,noAnswersText:c.noAnswersText}))):null},xo=()=>{const e=r().get(window,"pageLevelData.faqSection");if(r().isEmpty(e))return null;const t=r().get(e,"itemList.items",[]),a=e.header,n=r().get(e,"isDefaultOpen",!1);return{sectionHeader:a,faqSection:t.map((e=>({index:r().get(e,"index",""),question:r().get(e,"value.title",""),answer:r().get(e,"value.descriptionData.items.0.value","")}))),isDefaultOpen:n}},Po=()=>{if(r().isEmpty(r().get(window,"pageLevelData.qaSection")))return null;const{questionsTabPanel:e,title:t,askQuestionsLink:a}=r().get(window,"pageLevelData.qaSection",{}),n=r().get(e,"questionsTotalCountLink",{});return{...e,sectionHeader:t,totalQuestionsCount:n,defaultQuestionLink:a}},Ro=e=>{if(!window.witbSection)return null;const{header:t="",subHeader:a="",footer:n="",id:s="",witbImages:i=[],dimensions:o=[]}=window.witbSection,l=Object.keys(e||{}),c=o.filter((e=>l.includes(e)));return{witbHeader:t,witbSubHeader:a,witbFooter:n,witbImages:i.map((t=>{const a=r().get(t,"hide",!1),n=r().get(window.witbSection,`${t.updateKey}`);if(n){const s=((t,a)=>c.reduce(((a,n)=>{const s=`${a.key||""}_${n}_${r().get(e,n)}`,i=t[s.slice(1)];return{image:r().get(i,"image",a.image),displayText:r().get(i,"displayText",a.displayText),hide:r().get(i,"hide",a.hide),key:s}}),{...t.default,hide:a}))(n,a);return s.hide?null:{...t,image:s.image,displayText:s.displayText}}return a?null:t})).filter(Boolean),id:s}},Mo=e=>{let{items:a,props:n}=e;const[r,s]=(0,B.A)({});return t().createElement("div",{className:"rs-dcm-gallery",ref:r},s&&t().createElement(V.aT,(0,q.A)({items:a,renderItem:(e,a)=>t().createElement(V.t,{key:a,index:a,className:"rs-dcm-gallery-item"},t().createElement("div",(0,Y.OH)(e)))},n)))},Fo=e=>{let{dataPattern:a="data-ase-gallery"}=e;return Array.from(document.querySelectorAll(`[${a}]`)).map((e=>{const a=e.getAttribute("data-uuid"),n=e.getAttribute("data-bootstrap")||a,{items:s=[],props:i={}}=r().get(window,n,{});return F().createPortal(t().createElement(Mo,{key:a,items:s,props:i}),e)}))},Ho=e=>{let{witbEl:a,header:n,subHeader:r,content:s,footer:i,...o}=e;return a?F().createPortal(t().createElement("div",{className:"rf-flagship-buyflow-witb as-l-container","data-analytics-section":"buyflow-whats-in-the-box"},t().createElement("div",{className:"rf-flagship-buyflow-witbheadercontainer"},t().createElement("h2",(0,q.A)({className:te()("rf-flagship-buyflow-witbheader",K.A.HEADLINE_REDUCED)},(0,Y.OH)(n))),r?t().createElement("p",(0,q.A)({className:te()("rf-flagship-buyflow-witbsubheader",K.A.BODY_REDUCED)},(0,Y.OH)(r))):null),t().createElement(_o,(0,q.A)({content:s},o)),i?t().createElement("p",(0,q.A)({className:"rf-flagship-buyflow-witbfooter"},(0,Y.OH)(i))):null),a):null},Uo=a=>{let{productInfoTitle:n,productInfoData:s,productSectionEl:i}=a;const[o,l]=(0,e.useState)([0]),c=r().get(window,"pageLevelData.productInfoComplianceBootstrap.content.productInformationTitle","");return F().createPortal(t().createElement("div",{"data-analytics-section":"buyflow-product-information"},t().createElement(ne,{hover:!0,index:o,handleChange:e=>l(e)},t().createElement(ae,{title:n||c,titleWrapperTag:"h2",titleWrapperAttrs:{className:"as-l-container"},contentAttrs:{className:"as-l-container"},classes:{root:"rc-productinfosection",button:"rc-productinfo-accordion"},noPadding:!0,onClick:e=>(e.target.parentNode.classList.contains("rc-productinfo-accordion")||e.target.classList.contains("rc-productinfo-accordion"))&&((e,t,a,n)=>{const r=`Accordion|${t}|${e}`,s=n.includes(a)?"collapsed":"expanded";window.asMetrics&&window.asMetrics.fireMicroEvent({eVar:"eVar6",feature:r,action:s})})("prodInfo","1",0,o)},t().createElement($.A,null,s.map((e=>{let{id:a,title:n,content:r,qrCodes:s}=e;return r&&t().createElement(st,{key:a,id:a,title:n,content:r,qrCodes:s,isSimpleFragment:"legalProductInformation"===a})})))))),i)},$o="data-dcm-switcher",Bo="data-dcm-switcher-class",Vo="data-dcm-switcher-selected",Yo=(e,t)=>{let a=null;if(t.hasAttribute(Bo)?a=t:t?.parentNode?.hasAttribute?.(Bo)&&(a=t.parentNode),a){e.preventDefault();const n=t.closest(`[${$o}]`);if(n){[...n.querySelectorAll(`[${Bo}]`)].forEach((e=>{e===a?(e.setAttribute(Vo,!0),n.classList.add(e.getAttribute(Bo))):(e.removeAttribute(Vo),n.classList.remove(e.getAttribute(Bo))),e.setAttribute("aria-selected",e===a)}))}}};window.addEventListener("click",(e=>{const t=e.target;Yo(e,t)})),window.addEventListener("change",(e=>{const t=e.target.labels?e.target.labels[0]:null;t&&Yo(e,t)})),window.addEventListener("keydown",(e=>{if(e.keyCode===l.HP.Space){const t=e.target;Yo(e,t)}}));const qo="data-dcm-toggle",jo="data-dcm-toggle-class",Go="data-dcm-add-class",Wo="data-dcm-remove-class",zo="data-dcm-toggle-selected",Ko="data-dcm-flip",Qo="data-dcm-expandable",Jo="data-dcm-flip-front",Zo="data-dcm-flip-back",Xo=e=>{const t=e.target,a=t.closest(`[${qo}]`);a&&a.hasAttribute(Ko)&&(e=>{const t=e.querySelector(`[${Jo}]`),a=e.querySelector(`[${Zo}]`);if(t&&a){const e="a,input,select,button,textarea,iframe,*[tabindex]",n=t.querySelectorAll(e),r=a.querySelectorAll(e);"true"===t.attributes["aria-hidden"].value?(t.setAttribute("aria-hidden","false"),a.setAttribute("aria-hidden","true")):(t.setAttribute("aria-hidden","true"),a.setAttribute("aria-hidden","false")),n.forEach(((e,a)=>{const n=r[a];"true"===t.attributes["aria-hidden"].value?(e.setAttribute("tabindex",-1),n.setAttribute("tabindex",0)):(e.setAttribute("tabindex",0),n.setAttribute("tabindex",-1))}))}})(a);let n=null;if(t.hasAttribute(jo)?n=t:t?.parentNode?.hasAttribute?.(jo)&&(n=t.parentNode),n){e.preventDefault();const a=t.closest(`[${qo}]`);return void(a&&((e,t)=>{const a=e.hasAttribute(zo),n=t.hasAttribute(Qo)?"aria-expanded":"aria-selected";a?(e.removeAttribute(zo),e.setAttribute(n,!1),t.classList.remove(e.getAttribute(jo))):(e.setAttribute(zo,!0),e.setAttribute(n,!0),t.classList.add(e.getAttribute(jo)))})(n,a))}let r=null;if(t.hasAttribute(Go)?r=t:t?.parentNode?.hasAttribute?.(Go)&&(r=t.parentNode),r){e.preventDefault();const a=t.closest(`[${qo}]`);return void(a&&a.classList.add(r.getAttribute(Go)))}let s=null;if(t.hasAttribute(Wo)?s=t:t?.parentNode?.hasAttribute?.(Wo)&&(s=t.parentNode),s){e.preventDefault();const a=t.closest(`[${qo}]`);a&&a.classList.remove(s.getAttribute(Wo))}};window.addEventListener("click",(e=>{Xo(e)})),window.addEventListener("keydown",(e=>{e.keyCode===l.HP.Space&&Xo(e)}));const el="data-dcm-scroller",tl="data-dcm-scroll",al="data-dcm-scroll-selected",nl="data-dcm-scroll-offset",rl=(e,t)=>{t.forEach((t=>{t===e?t.setAttribute(al,!0):t.removeAttribute(al),t.setAttribute("aria-selected",t===e)}))},sl=e=>{const t=[...e.querySelectorAll(`[${el}]`)],a=[];t.forEach((e=>{const t=[...e.querySelectorAll(`[${tl}]`)],n=t.map((e=>{const t=e.getAttribute(tl);return document.querySelector(t)})).filter((e=>!!e)),r=new IntersectionObserver((e=>{e.forEach((e=>{const r=n.findIndex((t=>t===e.target));a[r]=e.intersectionRatio;let s=0,i=a[0];a.forEach(((e,t)=>{i<e&&(i=e,s=t)})),0===i&&(s=-1),(e=>{rl(t[e],t)})(s)}))}),{rootMargin:"0px",threshold:[0,.25,.5,.75,1]});n.forEach((e=>r.observe(e)))}))},il=e=>{const t=e.target;let a=null;if(t.hasAttribute(tl)?a=t:t?.parentNode?.hasAttribute?.(tl)&&(a=t.parentNode),a){e.preventDefault();const t=document.querySelector(a.getAttribute(tl));if(t){const e=a.getAttribute(nl),n=e&&parseInt(e,10)?parseInt(e,10):0,r=(e=>{const t=document.documentElement.offsetTop||0,a=document.querySelector(".localnav-wrapper.sticky-enabled")||document.querySelector(".as-standardnav.css-sticky"),n=a?a.offsetHeight:0;return e.offsetTop+t-n})(t)+n;fr(document.documentElement,r,{duration:400,easing:"ease-out"}),setTimeout((()=>{const e=a.closest(`[${el}]`);if(e){const t=[...e.querySelectorAll(`[${tl}]`)];rl(a,t)}}),410)}}};window.addEventListener("click",(e=>{il(e)})),window.addEventListener("keydown",(e=>{e.keyCode===l.HP.Space&&il(e)})),window.addEventListener("DOMContentLoaded",(()=>{sl(document)}));const ol="data-dcm-metrics",ll=e=>{const t=e.target;let a=null;t.hasAttribute(ol)?a=t:t?.parentNode?.hasAttribute?.(ol)&&(a=t.parentNode),a&&(e=>{let t=e.getAttribute(`${ol}`);t&&window.asMetrics&&(t=t.toLowerCase().trim(),window.asMetrics.fireMicroEvent({eVar:"eVar6",feature:t,action:"selected"}))})(a)};window.addEventListener("click",(e=>{ll(e)})),window.addEventListener("keydown",(e=>{e.keyCode===l.HP.Space&&ll(e)}));const cl="data-dcm-focus",dl="data-dcm-focus-timeout",ul=e=>{const t=e?.target;let a=null;if(t?.hasAttribute?.(cl)?a=t:t?.parentNode?.hasAttribute?.(cl)&&(a=t.parentNode),a){const e=a.hasAttribute(`${dl}`)?parseInt(a.getAttribute(`${dl}`),10):600;((e,t)=>{e&&setTimeout((()=>{const t=document.querySelector(e.getAttribute(cl));t&&(t.matches("a,input,select,button,textarea,iframe,*[tabindex]")||t.setAttribute("tabindex",-1),t.focus())}),t)})(a,e)}};window.addEventListener("click",(e=>{ul(e)})),window.addEventListener("keydown",(e=>{e.keyCode===l.HP.Space&&ul(e)}));const ml=e=>({id:r().get(e,"sectionId",""),title:r().get(e,"sectionTitle",""),content:r().get(e,"tiles.groups.items",[]).map((e=>r().get(e,"value.render",""))).join(" ")}),pl=()=>{const a=r().get(window,"pageLevelData.uniqueProductSelection")||(H.Ay.getBuyflowComplete()?{}:H.Ay.getEntriesForStep({excludePath:!0})),[n,s]=(0,e.useState)(a),[i,o]=(0,e.useState)(),l=(()=>{const e=r().get(window.PRODUCT_SELECTION_BOOTSTRAP,"productSelectionData"),t=r().get(window.pageLevelData,"uniqueProductSelection"),a=r().get(window.pageLevelData,"productSelectionUrl.url"),n=r().get(window.pageLevelData,"productSelectionUrl.step"),s=r().get(window.pageLevelData,"productSelectionUrl.buyFlowPricesUrl"),i=r().get(window.pageLevelData,"productHeader.productSelectionHeader"),o=r().get(window.pageLevelData,"productSubHeader.specialMessagingSubheader"),l=r().get(window,"pageLevelData.productSelectionMedia.image")||r().get(window,"coldSelectionImage",{}),c=r().get(window.TRADEUP_BOOTSTRAP,"additionalContent.additionalData.tradeInSavingsMessage"),d=r().get(window.TRADEUP_BOOTSTRAP,"additionalContent.additionalData.tradein-learnmore-link");if(e&&a){const u=Co(e,l);return{productSelection:u,uniqueProductSelection:t,buyflow:{step:n,url:a,buyFlowPricesUrl:s,tradeInPricesUrl:r().get(window.asBuyFlow,"step1FlagshipConfig.tradeInPricesUrl"),tradeInPricesUrlParams:r().get(window.asBuyFlow,"step1FlagshipConfig.tradeInPricesUrlParams"),showFullPrice:!0,productHeader:i,specialMessagingSubheader:o,tradeInMessage:c,tradeInLearnmoreLink:d,coldStartButton:r().get(e,"selectButtonText"),coldStartPrice:Sn(u)},assets:{changeText:r().get(e,"labels.changeText"),...r().get(window,"NAMED_ASSETS",{})}}}return null})(),c=xo(),d=Po(),u=Ro(n),m={faqBootstrap:c,qaBootstrap:d},p=ot({part:i,bootstrap:r().get(window,"pageLevelData.productInfoComplianceBootstrap",{})}),g=r().isEmpty(p)?{}:{title:r().get(p,"productInformationTitle",""),data:{id:r().get(p,"sectionId",""),title:r().get(p,"sectionTitle",""),content:r().get(p,"sectionContent",""),qrCodes:r().get(p,"sectionQRCode",null)}},h=(e=>{const t=[],a=r().get(window,"Overview"),n=r().get(window,"WhatYouNeed"),s=r().get(window,"TechSupport");return a&&t.push(ml(a)),n&&t.push(ml(n)),s&&t.push(ml(s)),r().isEmpty(e)||t.push(e),t})(r().get(g,"data",{}));t().useEffect((()=>{document.querySelector("#root").classList.add("rs-root-reveal")}),[]);const f=document.querySelector("#buyflow-community-app"),E=u?document.getElementById(u.id):null,v=document.getElementById("buyflow-productinfo-app"),y=r().get(window,"productInformationTitle","");return l?t().createElement(U.E,null,t().createElement(bo,{bootstrap:l,onSelectionChange:s,onPartChange:o}),t().createElement($.A,null,t().createElement(Fo,{dataPattern:"data-ase-gallery"})),t().createElement($.A,null,t().createElement(Re,{dataPattern:"data-react-keyfeatures"})),t().createElement($.A,null,t().createElement($e,{dataPattern:"data-react-videoplayer"})),t().createElement($.A,null,t().createElement(t().Fragment,null,E&&u?t().createElement(t().Fragment,null,t().createElement(Ho,{header:u.witbHeader,subHeader:u.witbSubHeader,content:u.witbImages,witbEl:E}),f&&c?F().createPortal(t().createElement(ko,{bootstrap:m}),f):null):null,!E&&f&&c?F().createPortal(t().createElement(ko,{bootstrap:m,witbSection:u}),f):null)),h.length>0&&v?t().createElement($.A,null,t().createElement(Uo,{productSectionEl:v,productInfoData:h,productInfoTitle:y})):null):null};const gl=function(e){const t=`link[rel="stylesheet"][href*="/dist/${e}"]`,a=document.querySelectorAll(t),n=(a[0]?a[0].href:"").split(e)[0];return window.cdnPublicPath=n,n};i.p=gl("step1flagship"),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("#root");if(e){(0,a.H)(e).render(t().createElement(pl,null))}}))})(),o=i.O(o)})();